!function(e){function t(t){for(var n,o,a=t[0],c=t[1],l=t[2],u=0,p=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==i[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={0:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=c;s.push([441,1]),r()}({226:function(e,t,r){},248:function(e,t,r){},249:function(e,t,r){},250:function(e,t,r){},251:function(e,t,r){},252:function(e,t,r){},253:function(e,t,r){},254:function(e,t,r){},255:function(e,t,r){},256:function(e,t,r){},257:function(e,t,r){},258:function(e,t,r){},259:function(e,t,r){},260:function(e,t,r){},420:function(e,t,r){(t=e.exports=r(408)(!1)).i(r(690),""),t.push([e.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto;-webkit-overflow-scrolling:touch}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}:root{--md-theme-default-primary:#17c588;--md-theme-default-accent:#717171;--md-theme-default-theme:light}.md-theme-default :not(input):not(textarea)::-moz-selection{background-color:#717171;background-color:var(--md-theme-default-accent-on-background,#717171);color:#fff;color:var(--md-theme-default-text-primary-on-accent,#fff)}.md-theme-default :not(input):not(textarea)::selection{background-color:#717171;background-color:var(--md-theme-default-accent-on-background,#717171);color:#fff;color:var(--md-theme-default-text-primary-on-accent,#fff)}.md-theme-default a:not(.md-button){color:#17c588;color:var(--md-theme-default-primary-on-background,#17c588)}.md-theme-default a:not(.md-button):hover{color:rgba(23,197,136,.8);color:var(--md-theme-default-primary-on-background,rgba(23,197,136,.8))}.md-theme-default a:not(.md-button).md-accent{color:#717171;color:var(--md-theme-default-accent-on-background,#717171)}.md-theme-default a:not(.md-button).md-accent:hover{color:hsla(0,0%,44%,.8);color:var(--md-theme-default-accent-on-background,hsla(0,0%,44%,.8))}html.md-theme-default{background-color:#fafafa;background-color:var(--md-theme-default-background-variant,#fafafa);color:rgba(0,0,0,.87);color:var(--md-theme-default-text-primary-on-background-variant,rgba(0,0,0,.87))}.md-theme-default .md-caption,.md-theme-default .md-display-1,.md-theme-default .md-display-2,.md-theme-default .md-display-3,.md-theme-default .md-display-4{color:rgba(0,0,0,.54);color:var(--md-theme-default-text-accent-on-background-variant,rgba(0,0,0,.54))}.md-scrollbar.md-theme-default::-webkit-scrollbar-corner,.md-scrollbar.md-theme-default::-webkit-scrollbar-track{background:#e1e1e1;background:var(--md-theme-default-scrollbar-background-on-background-variant,#e1e1e1)}.md-scrollbar.md-theme-default::-webkit-scrollbar-thumb{background:#757575;background:var(--md-theme-default-scrollbar-on-background-variant,#757575)}.md-radio.md-theme-default.md-checked .md-radio-container{border-color:#717171;border-color:var(--md-theme-default-accent,#717171)}.md-radio.md-theme-default.md-checked .md-radio-container:after{background-color:#717171;background-color:var(--md-theme-default-accent,#717171)}.md-radio.md-theme-default.md-checked .md-ripple{color:#717171;color:var(--md-theme-default-accent,#717171)}.md-radio.md-theme-default.md-checked.md-primary .md-radio-container{border-color:#17c588;border-color:var(--md-theme-default-primary,#17c588)}.md-radio.md-theme-default.md-checked.md-primary .md-radio-container:after{background-color:#17c588;background-color:var(--md-theme-default-primary,#17c588)}.md-radio.md-theme-default.md-checked.md-primary .md-ripple{color:#17c588;color:var(--md-theme-default-primary,#17c588)}.md-radio.md-theme-default .md-radio-container{border-color:rgba(0,0,0,.54)}.md-radio.md-theme-default.md-disabled.md-checked .md-radio-container,.md-radio.md-theme-default.md-disabled .md-radio-container{border-color:rgba(0,0,0,.26)}.md-radio.md-theme-default.md-disabled.md-checked .md-radio-container:after{background-color:rgba(0,0,0,.26)}.md-switch.md-theme-default.md-checked .md-switch-container{background-color:hsla(0,0%,44%,.38);background-color:var(--md-theme-default-accent-on-,hsla(0,0%,44%,.38))}.md-switch.md-theme-default.md-checked .md-switch-thumb{background-color:#717171;background-color:var(--md-theme-default-accent,#717171)}.md-switch.md-theme-default.md-checked .md-ripple{color:#717171;color:var(--md-theme-default-accent,#717171)}.md-switch.md-theme-default.md-checked.md-primary .md-switch-container{background-color:rgba(23,197,136,.38);background-color:var(--md-theme-default-primary-on-,rgba(23,197,136,.38))}.md-switch.md-theme-default.md-checked.md-primary .md-switch-thumb{background-color:#17c588;background-color:var(--md-theme-default-primary,#17c588)}.md-switch.md-theme-default.md-checked.md-primary .md-ripple{color:#17c588;color:var(--md-theme-default-primary,#17c588)}.md-switch.md-theme-default .md-switch-container{background-color:rgba(0,0,0,.38)}.md-switch.md-theme-default .md-switch-thumb{background-color:#f5f5f5;background-color:var(--md-theme-default-switchvariant,#f5f5f5)}.md-switch.md-theme-default.md-disabled .md-switch-container{background-color:rgba(0,0,0,.12)}.md-switch.md-theme-default.md-disabled .md-switch-thumb{background-color:#bdbdbd;background-color:var(--md-theme-default-switchvariant,#bdbdbd)}.md-checkbox.md-theme-default.md-checked .md-checkbox-container{background-color:#717171;background-color:var(--md-theme-default-accent,#717171);border-color:#717171;border-color:var(--md-theme-default-accent,#717171)}.md-checkbox.md-theme-default.md-checked .md-checkbox-container:after{border-color:#fff;border-color:var(--md-theme-default-background,#fff)}.md-checkbox.md-theme-default.md-checked .md-ripple{color:#717171;color:var(--md-theme-default-accent,#717171)}.md-checkbox.md-theme-default.md-indeterminate .md-checkbox-container{background-color:hsla(0,0%,100%,.3)}.md-checkbox.md-theme-default.md-checked.md-primary .md-checkbox-container{background-color:#17c588;background-color:var(--md-theme-default-primary,#17c588);border-color:#17c588;border-color:var(--md-theme-default-primary,#17c588)}.md-checkbox.md-theme-default.md-checked.md-primary .md-ripple{color:#17c588;color:var(--md-theme-default-primary,#17c588)}.md-checkbox.md-theme-default.md-indeterminate .md-checkbox-container{border-color:rgba(0,0,0,.54);background-color:transparent}.md-checkbox.md-theme-default.md-indeterminate .md-checkbox-container:after{border-color:rgba(0,0,0,.54)}.md-checkbox.md-theme-default.md-indeterminate .md-ripple{color:rgba(0,0,0,.54)}.md-checkbox.md-theme-default .md-checkbox-container{border-color:rgba(0,0,0,.54)}.md-checkbox.md-theme-default.md-disabled .md-checkbox-container{border-color:rgba(0,0,0,.26)}.md-checkbox.md-theme-default.md-disabled.md-checked .md-checkbox-container{border-color:rgba(0,0,0,.26);background-color:rgba(0,0,0,.26)}.md-button.md-theme-default{color:rgba(0,0,0,.87);color:var(--md-theme-default-text-primary-on-background,rgba(0,0,0,.87))}.md-button.md-theme-default.md-primary,.md-button.md-theme-default.md-primary .md-icon-font{color:#17c588;color:var(--md-theme-default-primary-on-background,#17c588)}.md-button.md-theme-default.md-primary .md-icon-image{fill:#17c588;fill:var(--md-theme-default-primary-on-background,#17c588)}.md-button.md-theme-default.md-accent,.md-button.md-theme-default.md-accent .md-icon-font{color:#717171;color:var(--md-theme-default-accent-on-background,#717171)}.md-button.md-theme-default.md-accent .md-icon-image{fill:#717171;fill:var(--md-theme-default-accent-on-background,#717171)}.md-button.md-theme-default.md-raised[disabled]{background-color:rgba(0,0,0,.12);background-color:var(--md-theme-default-disabled-background-on-background,rgba(0,0,0,.12));color:rgba(0,0,0,.26);color:var(--md-theme-default-disabled,rgba(0,0,0,.26))}.md-button.md-theme-default.md-raised:not([disabled]){background-color:#fff;background-color:var(--md-theme-default-background,#fff);color:rgba(0,0,0,.87);color:var(--md-theme-default-text-primary-on-background,rgba(0,0,0,.87))}.md-button.md-theme-default.md-raised:not([disabled]).md-primary{background-color:#17c588;background-color:var(--md-theme-default-primary,#17c588)}.md-button.md-theme-default.md-raised:not([disabled]).md-primary,.md-button.md-theme-default.md-raised:not([disabled]).md-primary .md-icon-font{color:rgba(0,0,0,.87);color:var(--md-theme-default-text-primary-on-primary,rgba(0,0,0,.87))}.md-button.md-theme-default.md-raised:not([disabled]).md-primary .md-icon-image{fill:rgba(0,0,0,.87);fill:var(--md-theme-default-text-primary-on-primary,rgba(0,0,0,.87))}.md-button.md-theme-default.md-raised:not([disabled]).md-accent{background-color:#717171;background-color:var(--md-theme-default-accent,#717171)}.md-button.md-theme-default.md-raised:not([disabled]).md-accent,.md-button.md-theme-default.md-raised:not([disabled]).md-accent .md-icon-font{color:#fff;color:var(--md-theme-default-text-primary-on-accent,#fff)}.md-button.md-theme-default.md-raised:not([disabled]).md-accent .md-icon-image{fill:#fff;fill:var(--md-theme-default-text-primary-on-accent,#fff)}.md-button.md-theme-default.md-fab[disabled]{background-color:rgba(0,0,0,.12);background-color:var(--md-theme-default-disabled-background-on-background,rgba(0,0,0,.12))}.md-button.md-theme-default.md-fab:not([disabled]){background-color:#717171;background-color:var(--md-theme-default-accent,#717171)}.md-button.md-theme-default.md-fab:not([disabled]) .md-icon-font{color:#fff;color:var(--md-theme-default-text-primary-on-accent,#fff)}.md-button.md-theme-default.md-fab:not([disabled]) .md-icon-image{fill:#fff;fill:var(--md-theme-default-text-primary-on-accent,#fff)}.md-button.md-theme-default.md-fab:not([disabled]).md-primary{background-color:#17c588;background-color:var(--md-theme-default-primary,#17c588)}.md-button.md-theme-default.md-fab:not([disabled]).md-primary .md-icon-font{color:rgba(0,0,0,.87);color:var(--md-theme-default-text-primary-on-primary,rgba(0,0,0,.87))}.md-button.md-theme-default.md-fab:not([disabled]).md-primary .md-icon-image{fill:rgba(0,0,0,.87);fill:var(--md-theme-default-text-primary-on-primary,rgba(0,0,0,.87))}.md-button.md-theme-default[disabled]{color:rgba(0,0,0,.26);color:var(--md-theme-default-disabled-on-background,rgba(0,0,0,.26))}.md-button.md-theme-default[disabled] .md-icon-font{color:rgba(0,0,0,.38);color:var(--md-theme-default-icon-disabled-on-background,rgba(0,0,0,.38))}.md-button.md-theme-default[disabled] .md-icon-image{fill:rgba(0,0,0,.38);fill:var(--md-theme-default-icon-disabled-on-background,rgba(0,0,0,.38))}.md-theme-default.md-checkbox .md-ripple,.md-theme-default.md-radio .md-ripple,.md-theme-default.md-switch .md-ripple{height:32px!important;width:32px!important}.md-theme-default a:not(.md-button){color:#717171}.md-theme-default a:not(.md-button):hover{color:inherit}.md-theme-default a:not(.md-button).color-gray-42{color:#424242}.md-theme-default a:not(.md-button).color-gray-71{color:#717171}.md-theme-default a:not(.md-button).color-navy{color:#394863}.md-theme-default a:not(.md-button).color-navy-dark{color:#253146}.md-theme-default a:not(.md-button).color-green{color:#17c588}.md-theme-default a:not(.md-button).color-green-dark{color:#05b577}.md-theme-default a:not(.md-button).color-blue{color:#02a8dd}.md-theme-default a:not(.md-button).color-blue-dark{color:#0096c6}.md-theme-default a:not(.md-button).color-yellow{color:#ffc246}.md-theme-default a:not(.md-button).color-yellow-dark{color:#f9b327}.md-theme-default a:not(.md-button).color-red{color:#ff5252}.md-theme-default a:not(.md-button).color-red-dark{color:#e93737}.md-theme-default a:not(.md-button).color-white{color:#fff}.md-theme-default a:not(.md-button).color-black-21{color:#212121}.md-switch.md-theme-default{margin:0}.md-switch.md-theme-default.md-checked>.md-switch-container{background-color:#717171;height:12px;width:28px;min-width:28px}.md-switch.md-theme-default.md-checked>.md-switch-container>.md-switch-thumb{background-color:#17c588;width:16px;height:16px;transform:translate3d(12px,0,0)}.md-switch.md-theme-default>.md-switch-container{background-color:#717171;height:12px;width:28px;min-width:28px}.md-switch.md-theme-default>.md-switch-container>.md-switch-thumb{width:16px;height:16px}.md-checkbox.md-theme-default{margin:0 16px 0 0}.md-checkbox.md-theme-default .md-checkbox-label{padding-left:8px;height:16px;line-height:16px;display:flex;align-items:center}.md-checkbox.md-theme-default:not(.md-indeterminate)>.md-checkbox-container:after{width:6px;height:11px;left:4px}.md-checkbox.md-theme-default.md-indeterminate>.md-checkbox-container:after{width:10px;border-radius:2px}.md-checkbox.md-theme-default>.md-checkbox-container{border-width:1px;width:16px;min-width:16px;height:16px}.md-checkbox.md-theme-default.md-checked:not(.md-indeterminate)>.md-checkbox-container{background-color:#17c588;border-color:#17c588}.md-radio.md-theme-default{margin:0 16px 0 0}.md-radio.md-theme-default .md-radio-label{padding-left:8px;height:16px;line-height:16px;display:flex;align-items:center}.md-radio.md-theme-default>.md-radio-container{border-width:1px;width:16px;min-width:16px;height:16px}.md-radio.md-theme-default.md-checked>.md-radio-container{border-color:#17c588}.md-radio.md-theme-default.md-checked>.md-radio-container:after{background-color:#17c588}.kds-special-item{margin-bottom:5px!important}.kds-special-item.Immediate .radio-buttons-vertical>ul>li:last-child{margin-top:32px}.kds-special-item.Delayed{margin-bottom:35px!important}.kds-special-item .kds-special-switch{left:24px;bottom:62px;position:relative}.kds-special-item .kds-special-switch .text-large-semibold{font-weight:400;margin-bottom:8px}.kds-special-item .kds-special-switch .md-checkbox{margin:0 0 16px 8px}.kds-special-item .kds-special-switch .md-switch{margin-top:10px}@-moz-document url-prefix(){.md-ripple{-webkit-mask-image:none}}.widget-container.kiom-overflow-hidden{overflow:hidden}.kio-button,[type=button],[type=reset],[type=submit]{display:inline-flex;line-height:inherit;text-align:center;align-items:center;justify-content:center;-webkit-appearance:none;transition:background-color .25s ease-out,color .25s ease-out;cursor:pointer;border-radius:0;touch-action:manipulation}.widget-container .fr-media-container{overflow:hidden;display:block}.widget-container .fr-media-container .fr-video .video-js,.widget-container .fr-media-container img{display:block;margin:0 auto}.widget-container .fr-media-container .fr-video.fr-fvr .video-js,.widget-container .fr-media-container img.fr-fir{float:right;margin:0}.widget-container .fr-media-container .fr-video.fr-fvl .video-js,.widget-container .fr-media-container img.fr-fil{float:left;margin:0}.widget-container table{word-wrap:normal;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;border:none;border-collapse:collapse;empty-cells:show;max-width:100%;table-layout:fixed}.widget-container *+table{margin-top:20px}.widget-container table th{background:#e6e6e6}.widget-container table tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.widget-container table td,.widget-container table th{padding:2px 5px;vertical-align:middle;border:1px solid #000;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;font-weight:400}.widget-container table td.fr-highlighted,.widget-container table th.fr-highlighted{border:1px double red}.widget-container table.fr-dashed-borders td,.widget-container table.fr-dashed-borders th{border-style:dashed}.widget-container table td.fr-thick,.widget-container table th.fr-thick{border-width:2px}.widget-container table.fr-alternate-rows tbody tr:nth-child(2n){background:#f5f5f5}.widget-container ol:not(.answer-list),.widget-container ul:not(.answer-list){padding-left:30px;-webkit-margin-before:1em;-webkit-margin-after:1em;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:30px}.widget-container ul li{list-style:initial}.widget-container ol li{list-style:decimal}.widget-container .kio-theme-button--text-properties,.widget-container h1,.widget-container h2,.widget-container h3{font-weight:700}.widget-container h1,.widget-container h2,.widget-container h3,.widget-container h4,.widget-container h5,.widget-container h6{max-width:100%}.icon-48{font-size:48px}.icon-56{font-size:56px}.icon-64{font-size:64px}.icon-72{font-size:72px}.knowbly-embed:before{content:"\\E924";color:inherit}.knowbly-media:before{content:"\\E923";color:inherit}.knowbly-labeling:before{content:"\\E922";color:inherit}.knowbly-widget-bolt:before{content:"\\E921";color:inherit}.knowbly-drag-handles:before{content:"\\E920";color:inherit}.knowbly-spreadsheet:before{content:"\\E917";color:inherit}.knowbly-attachment:before{content:"\\E91F";color:inherit}.knowbly-hotspots-shapes:before{content:"\\E91E";color:inherit}.knowbly-recorded:before{content:"\\E91D";color:inherit}.knowbly-image:before{content:"\\E91C";color:inherit}.knowbly-accordion:before{content:"\\E900";color:inherit}.knowbly-annotated-video:before{content:"\\E901";color:inherit}.knowbly-audio:before{content:"\\E902";color:inherit}.knowbly-categorization:before{content:"\\E903";color:inherit}.knowbly-document:before{content:"\\E904";color:inherit}.knowbly-fill-in-the-blank:before{content:"\\E905";color:inherit}.knowbly-flashcards-drop-down:before{content:"\\E906";color:inherit}.knowbly-flashcards-write-in:before{content:"\\E907";color:inherit}.knowbly-flashcards:before{content:"\\E908";color:inherit}.knowbly-gallery-arrows:before{content:"\\E909";color:inherit}.knowbly-gallery-carousel:before{content:"\\E90A";color:inherit}.knowbly-gallery-thumbnails:before{content:"\\E90B";color:inherit}.knowbly-hotspots-drop-down:before{content:"\\E90C";color:inherit}.knowbly-hotspots-term-match:before{content:"\\E90D";color:inherit}.knowbly-hotspots-write-in:before{content:"\\E90E";color:inherit}.knowbly-hotspots:before{content:"\\E90F";color:inherit}.knowbly-matching:before{content:"\\E910";color:inherit}.knowbly-mixed-assessment:before{content:"\\E911";color:inherit}.knowbly-multiple-choice:before{content:"\\E912";color:inherit}.knowbly-multiple-select:before{content:"\\E913";color:inherit}.knowbly-pdf:before{content:"\\E914";color:inherit}.knowbly-presentation:before{content:"\\E915";color:inherit}.knowbly-short-answer:before{content:"\\E916";color:inherit}.knowbly-tabs:before{content:"\\E918";color:inherit}.knowbly-true-false:before{content:"\\E919";color:inherit}.knowbly-video-assessment:before{content:"\\E91A";color:inherit}.knowbly-video:before{content:"\\E91B";color:inherit}.fa-2{font-size:2px}.fa-4{font-size:4px}.fa-6{font-size:6px}.fa-8{font-size:8px}.fa-10{font-size:10px}.fa-12{font-size:12px}.fa-14{font-size:14px}.fa-16{font-size:16px}.fa-18{font-size:18px}.fa-20{font-size:20px}.fa-22{font-size:22px}.fa-24{font-size:24px}.fa-26{font-size:26px}.fa-28{font-size:28px}.fa-30{font-size:30px}.fa-32{font-size:32px}.fa-34{font-size:34px}.fa-36{font-size:36px}.fa-38{font-size:38px}.fa-40{font-size:40px}.fa-42{font-size:42px}.fa-44{font-size:44px}.fa-46{font-size:46px}.fa-48{font-size:48px}.fa-50{font-size:50px}.fa-52{font-size:52px}.fa-54{font-size:54px}.fa-56{font-size:56px}.fa-58{font-size:58px}.fa-60{font-size:60px}.fa-62{font-size:62px}.fa-64{font-size:64px}.fa-66{font-size:66px}.fa-68{font-size:68px}.fa-70{font-size:70px}.fa-72{font-size:72px}.fa-74{font-size:74px}.fa-76{font-size:76px}.fa-78{font-size:78px}.fa-80{font-size:80px}.fa-82{font-size:82px}.fa-84{font-size:84px}.fa-86{font-size:86px}.fa-88{font-size:88px}.fa-90{font-size:90px}.fa-92{font-size:92px}.fa-94{font-size:94px}.fa-96{font-size:96px}.fa-98{font-size:98px}.fa-100{font-size:100px}.fa-102{font-size:102px}.fa-104{font-size:104px}.fa-106{font-size:106px}.fa-108{font-size:108px}.fa-110{font-size:110px}.fa-112{font-size:112px}.fa-114{font-size:114px}.fa-116{font-size:116px}.fa-118{font-size:118px}.fa-120{font-size:120px}.fa-122{font-size:122px}.fa-124{font-size:124px}.fa-126{font-size:126px}.fa-128{font-size:128px}.fa-130{font-size:130px}.fa-132{font-size:132px}.fa-134{font-size:134px}.fa-136{font-size:136px}.fa-138{font-size:138px}.fa-140{font-size:140px}.fa-142{font-size:142px}.fa-144{font-size:144px}.fa-146{font-size:146px}.fa-148{font-size:148px}.fa-150{font-size:150px}.fa-152{font-size:152px}.fa-154{font-size:154px}.fa-156{font-size:156px}.fa-158{font-size:158px}.fa-160{font-size:160px}.fa-162{font-size:162px}.fa-164{font-size:164px}.fa-166{font-size:166px}.fa-168{font-size:168px}.fa-170{font-size:170px}.fa-172{font-size:172px}.fa-174{font-size:174px}.fa-176{font-size:176px}.fa-178{font-size:178px}.fa-180{font-size:180px}.fa-182{font-size:182px}.fa-184{font-size:184px}.fa-13{font-size:13px}.fa-41{font-size:41px}.fa-hover .fa-active{visibility:visible;opacity:.999;font-size:inherit;transition:visibility 0s,opacity .1s linear,font-size .12s ease-out .12s}.fa-hover .fa-passive,.fa-hover:hover .fa-active{visibility:hidden;opacity:.001;font-size:0}.fa-hover:hover .fa-passive{visibility:visible;opacity:.999;font-size:inherit;transition:visibility 0s,opacity .1s linear,font-size .12s ease-out .12s}.kio-modal-body-wrapper img.image,.kio-widget-container img.image{cursor:zoom-in}',""])},423:function(e,t){e.exports={completion:100,passingScore:70,lessons:[{weight:1}],activities:[{weight:1}],assessments:[{scored:!0,score:100,passing:75,weight:1}]}},424:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.start=function(){},this.finish=function(){},this.suspend=function(){},this.timeOut=function(){},this.setReachedEnd=function(){return t.isDev?console.log("LMS 'setReachedEnd' method called"):void 0},this.setData=function(){},this.getData=function(){},this.commitData=function(){},this.getPreviousAccumulatedTime=function(){},this.getSessionAccumulatedTime=function(){},this.pauseTimeTracking=function(){},this.resumeTimeTracking=function(){},this.getPassingScore=function(){},this.setScore=function(e){return t.isDev?console.log("LMS 'setScore' method called",e):void 0},this.getScore=function(){},this.getStatus=function(){},this.setPassed=function(){return t.isDev?console.log("LMS 'setPassed' method called"):void 0},this.setFailed=function(){return t.isDev?console.log("LMS 'setFailed' method called"):void 0},this.resetStatus=function(){},this.getEntryMode=function(){},this.recordTrueFalseInteraction=function(){},this.recordMultipleChoiceInteraction=function(){},this.recordFillInInteraction=function(){},this.recordMatchingInteraction=function(){},this.recordSequencingInteraction=function(){},this.recordLikerInteraction=function(){},this.recordNumericInteraction=function(){},this.recordPerfomanceInteraction=function(){},this.createResponseIdentifier=function(){},this.handleRecordInteraction=function(e){return t.isDev?console.log("LMS 'handleRecordInteraction' method called",e):void 0}}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"isDev",get:function(){return!1}}]),e}();e.exports=n},425:function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=window.parent;this.start=r.Start,this.finish=r.Finish,this.suspend=r.Suspend,this.timeOut=r.TimeOut,this.concedeControl=r.ConcedeControl,this.setReachedEnd=r.SetReachedEnd,this.setData=function(e){r.SetDataChunk(e)},this.getData=function(){return r.GetDataChunk()},this.commitData=r.CommitData,this.getPreviousAccumulatedTime=r.GetPreviouslyAccumulatedTime,this.getSessionAccumulatedTime=r.GetSessionAccumulatedTime,this.pauseTimeTracking=r.PauseTimeTracking,this.resumeTimeTracking=r.ResumeTimeTracking,this.getPassingScore=r.GetPassingScore,this.setScore=function(e,t,n){return r.SetScore.call(null,e,t,n)},this.getScore=r.GetScore,this.getStatus=r.GetStatus,this.setPassed=r.SetPassed,this.setFailed=r.SetFailed,this.resetStatus=r.ResetStatus,this.getEntryMode=r.GetEntryMode,this.recordTrueFalseInteraction=r.RecordTrueFalseInteraction,this.recordMultipleChoiceInteraction=r.RecordMultipleChoiceInteraction,this.recordFillInInteraction=r.RecordFillInInteraction,this.recordMatchingInteraction=r.RecordMatchingInteraction,this.recordSequencingInteraction=r.RecordSequencingInteraction,this.recordLikerInteraction=r.RecordLikerInteraction,this.recordNumericInteraction=r.RecordNumericInteraction,this.recordPerfomanceInteraction=r.RecordPerformanceInteraction,this.createResponseIdentifier=r.CreateResponseIdentifier,this.matchingResponse=r.MatchingResponse,this.getResponseIdentifier=function(e){var r=[];return e.forEach(function(e){r.push(t.createResponseIdentifier(e.short.toString(),e.long.toString()))}),r},this.getMatchingResponseIdentifier=function(e){var r=[];return e.forEach(function(e){r.push(new t.matchingResponse(e.source,e.target))}),r},this.removeEmojiFromText=function(e){return 0===e.trim().length?"":e.replace(/([#0-9]\u20E3)|[\xA9\xAE\u203C\u2047-\u2049\u2122\u2139\u3030\u303D\u3297\u3299][\uFE00-\uFEFF]?|[\u2190-\u21FF][\uFE00-\uFEFF]?|[\u2300-\u23FF][\uFE00-\uFEFF]?|[\u2460-\u24FF][\uFE00-\uFEFF]?|[\u25A0-\u25FF][\uFE00-\uFEFF]?|[\u2600-\u27BF][\uFE00-\uFEFF]?|[\u2900-\u297F][\uFE00-\uFEFF]?|[\u2B00-\u2BF0][\uFE00-\uFEFF]?|(?:\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])[\uFE00-\uFEFF]?|[\u20E3]|[\u26A0-\u3000]|\uD83E[\udd00-\uddff]|[\u00A0-\u269F]/g,"").trim()},this.handleRecordInteraction=function(e){if(e.type)switch(e.record.description=t.removeEmojiFromText(e.record.description),e.type){case"true-false":t.recordTrueFalseInteraction(e.record.strID,e.record.blnResponse,e.record.blnCorrect,e.record.blnCorrectResponse,e.record.description,e.record.intWeighting||1,e.record.intLatency);break;case"multiple-choice":case"multiple-select":t.recordMultipleChoiceInteraction(e.record.strID,t.getResponseIdentifier(e.record.aryResponse),e.record.blnCorrect,t.getResponseIdentifier(e.record.aryCorrectResponse),e.record.description,e.record.intWeighting||1,e.record.intLatency);break;case"matching":t.recordMatchingInteraction(e.record.strID,t.getMatchingResponseIdentifier(e.record.aryResponse),e.record.blnCorrect,t.getMatchingResponseIdentifier(e.record.aryCorrectResponse),e.record.description,e.record.intWeighting||1,e.record.intLatency);break;case"fill-in-the-blank":e.record.strResponse=t.removeEmojiFromText(e.record.strResponse),t.recordFillInInteraction(e.record.strID,e.record.strResponse,e.record.blnCorrect,e.record.strCorrectResponse,e.record.description,e.record.intWeighting||1,e.record.intLatency);break;case"accordion":case"annotatedvideo":case"arrows":case"carousel":case"flashcards":case"hotspots":case"tabs":case"thumbnails":e.record.strResponse=t.removeEmojiFromText(e.record.strResponse),t.recordPerfomanceInteraction(e.record.strID,e.record.strResponse,e.record.blnCorrect,e.record.strCorrectResponse,e.record.description,null,e.record.intLatency)}}});e.exports=i},426:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=window.parent;this.start=function(){},this.finish=function(){},this.suspend=function(){},this.timeOut=function(){},this.concedeControl=function(){},this.setReachedEnd=function(){},this.getData=function(){return localStorage.getItem("suspendData")},this.setData=function(e){console.log("setData",t,e)},this.setReachedEnd=function(){},this.commitData=function(e){console.log("commitData",e)},this.getPreviousAccumulatedTime=r.GetPreviouslyAccumulatedTime,this.getSessionAccumulatedTime=r.GetSessionAccumulatedTime,this.pauseTimeTracking=r.PauseTimeTracking,this.resumeTimeTracking=r.ResumeTimeTracking,this.getPassingScore=r.GetPassingScore,this.setScore=function(e,t,n){return r.SetScore.call(null,e,t,n)},this.getScore=r.GetScore,this.getStatus=r.GetStatus,this.setPassed=r.SetPassed,this.setFailed=r.SetFailed,this.resetStatus=r.ResetStatus,this.getEntryMode=r.GetEntryMode,this.recordTrueFalseInteraction=r.RecordTrueFalseInteraction,this.recordMultipleChoiceInteraction=r.RecordMultipleChoiceInteraction,this.recordFillInInteraction=r.RecordFillInInteraction,this.recordMatchingInteraction=r.RecordMatchingInteraction,this.recordSequencingInteraction=r.RecordSequencingInteraction,this.recordLikerInteraction=r.RecordLikerInteraction,this.recordNumericInteraction=r.RecordNumericInteraction,this.recordPerfomanceInteraction=r.RecordPerformanceInteraction,this.createResponseIdentifier=r.CreateResponseIdentifier,this.matchingResponse=r.MatchingResponse,this.getResponseIdentifier=function(e){var r=[];return e.forEach(function(e){r.push(t.createResponseIdentifier(e.short.toString(),e.long.toString()))}),r},this.getMatchingResponseIdentifier=function(e){var r=[];return e.forEach(function(e){r.push(new t.matchingResponse(e.source,e.target))}),r},this.handleRecordInteraction=function(e){if(e.type)switch(e.type){case"true-false":t.recordTrueFalseInteraction(e.record.strID,e.record.blnResponse,e.record.blnCorrect,e.record.blnCorrectResponse,e.record.description,null,e.record.intLatency);break;case"multiple-choice":case"multiple-select":t.recordMultipleChoiceInteraction(e.record.strID,t.getResponseIdentifier(e.record.aryResponse),e.record.blnCorrect,t.getResponseIdentifier(e.record.aryCorrectResponse),e.record.description,null,e.record.intLatency);break;case"matching":t.recordMatchingInteraction(e.record.strID,t.getMatchingResponseIdentifier(e.record.aryResponse),e.record.blnCorrect,t.getMatchingResponseIdentifier(e.record.aryCorrectResponse),e.record.description,null,e.record.intLatency);break;case"fill-in-the-blank":t.recordFillInInteraction(e.record.strID,e.record.strResponse,e.record.blnCorrect,e.record.strCorrectResponse,e.record.description,null,e.record.intLatency);break;case"accordion":case"annotatedvideo":case"arrows":case"carousel":case"flashcards":case"hotspots":case"tabs":case"thumbnails":t.recordPerfomanceInteraction(e.record.strID,e.record.strResponse,e.record.blnCorrect,e.record.strCorrectResponse,e.record.description,null,e.record.intLatency)}}});e.exports=n},441:function(e,t,r){e.exports=r(758)},604:function(e,t){},686:function(e,t,r){"use strict";var n=r(226);r.n(n).a},689:function(e,t){},691:function(e,t,r){"use strict";var n=r(248);r.n(n).a},693:function(e,t,r){"use strict";var n=r(249);r.n(n).a},695:function(e,t,r){"use strict";var n=r(250);r.n(n).a},698:function(e,t,r){"use strict";var n=r(251);r.n(n).a},700:function(e,t,r){"use strict";var n=r(252);r.n(n).a},702:function(e,t,r){"use strict";var n=r(253);r.n(n).a},704:function(e,t,r){"use strict";var n=r(254);r.n(n).a},706:function(e,t,r){"use strict";var n=r(255);r.n(n).a},708:function(e,t,r){"use strict";var n=r(256);r.n(n).a},739:function(e,t,r){"use strict";var n=r(257);r.n(n).a},741:function(e,t,r){"use strict";var n=r(258);r.n(n).a},743:function(e,t,r){"use strict";var n=r(259);r.n(n).a},745:function(e,t,r){"use strict";var n=r(260);r.n(n).a},747:function(e,t,r){r(748),r(750),r(752)},754:function(e,t,r){},757:function(e,t,r){"use strict";r.r(t),r.d(t,"isIOS",function(){return s}),r.d(t,"setIOSHeight",function(){return o});var n=r(431),i=new(r.n(n).a)(window.navigator.userAgent);function s(){return"iOS"===i.os()}function o(){s()&&(document.body.style.height="100%",document.querySelector(".kio-main-wrapper").style.height="100%")}},758:function(e,t,r){"use strict";r.r(t),r.d(t,"CoursePreview",function(){return mi}),r.d(t,"coursePreviewModule",function(){return Ii}),r.d(t,"createCourseProgressModule",function(){return ns}),r.d(t,"createCourseScoreModule",function(){return fs});r(442),r(444),r(445),r(448),r(449),r(450),r(300),r(453),r(454),r(456),r(457),r(459),r(460),r(461),r(462),r(463),r(464),r(465),r(466),r(467),r(468),r(469),r(471),r(472),r(473),r(474),r(475),r(476),r(477),r(478),r(479),r(480),r(481),r(482),r(483),r(484),r(485),r(486),r(487),r(488),r(490),r(492),r(493),r(494),r(495),r(496),r(497),r(498),r(499),r(500),r(501),r(502),r(503),r(504),r(505),r(506),r(507),r(508),r(509),r(510),r(511),r(512),r(515),r(516),r(517),r(519),r(520),r(521),r(522),r(523),r(524),r(525),r(526),r(527),r(528),r(529),r(530),r(364),r(531),r(533),r(534),r(535),r(536),r(537),r(538),r(540),r(541),r(542),r(543),r(544),r(545),r(546),r(547),r(548),r(549),r(550),r(551),r(552),r(553),r(554),r(555),r(556),r(557),r(558),r(559),r(560),r(561),r(562),r(563),r(564),r(565),r(566),r(567),r(568),r(569),r(570),r(571),r(572),r(573),r(574),r(575),r(576),r(577),r(578),r(372),r(579),r(580),r(581);var n=r(414),i=r(415),s=r.n(i);window.ResizeObserver||(window.ResizeObserver=n.a),window.MediaRecorder||(window.MediaRecorder=s.a);var o=r(10),a=r(93),c=r(265),l=r(225),d=r(416);function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=window.navigator.userAgent.toLowerCase(),h=!!window.MSInputMethodContext&&!!document.documentMode,g=(m&&m.includes("msie 9.0"),m&&m.includes("edge")),f=m&&m.includes("firefox"),b=(m&&/iphone|ipad|ipod|ios/.test(m),m&&/^((?!chrome|android).)*safari/i.test(m),m&&m.includes("android"),m&&/chrome\/\d+/.test(m),{width:{value:720,unit:"px"},height:{value:540,unit:"px"}}),v=Object(d.a)(),y={image:["jpg","jpeg","png","bmp","tiff","tif","gif"],audio:["mp3","ogg","aac"],video:["mpg","mp2","mpef","mpe","mpv","mp4","m4p","m4v","webm","avi","mov","mpeg"],get file(){return[].concat(u(this.document),u(this.presentation),u(this.spreadsheet),u(this.pdf))},document:["odt","txt","text","doc","docx","document","openoffice","officedocument"],presentation:["ppt","pptx"],spreadsheet:["xls","xlsx"],pdf:["pdf"]},C={pdf:"pdf","document/docx":"docx","document/doc":"doc","spreadsheet/xlsx":"xlsx","spreadsheet/xls":".xls","presentation/pptx":"pptx","presentation/ppt":"ppt","OpenOffice/StarOffice":"odt","text/plain":"txt"},k=(Object(l.a)({"kds--bg-navy-dark":"#253146","kds--bg-blue-marguerite":"#7967CE","kds--bg-cerulean":"#02A8DD","kds--bg-mountain-meadow":"#17C588","kds--bg-yellow-orange":"#FFC246","kds--bg-yellow-orange-b":"#FF9E46","kds--bg-sunset-orange":"#FF5252"}),{components:{ResizeObserver:c.a},props:{breakpoints:{type:Array,default:function(){return[]},validator:function(e){return e.every(function(e){return Object(a.a)(e)&&e.includes("px")})}}},data:function(){return{width:0}},computed:{until:function(){var e=this,t=this.breakpoints.filter(function(t){return e.width<=parseInt(t)}).join(" ");return t.length?t:null},from:function(){var e=this,t=this.breakpoints.filter(function(t){return e.width>=parseInt(t)}).join(" ");return t.length?t:null}},created:function(){var e=this;this.handleResizeDebounced=function(){return requestAnimationFrame(e.handleResize)}},mounted:function(){h&&this.handleResizeDebounced()},methods:{handleResize:function(){var e=this.$el.getBoundingClientRect();this.width=Math.round(e.width)}}}),w=(r(686),r(0)),O=Object(w.a)(k,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ElementQueries",attrs:{"eq-until":this.until,"eq-from":this.from}},[t("ResizeObserver",{on:{notify:this.handleResizeDebounced}}),this._v(" "),this._t("default")],2)},[],!1,null,null,null).exports,E=O,S=r(154),I=r(227),P={getCourseIcon:function(e){var t={lesson:"file-alt",activity:"stopwatch",assessment:"ballot-check",start:"flag",module:"fal fa-sitemap"};return e?t[e]:t.start},applyStyles:function(e,t,r){return $(e).css(t),!!r&&$(e).attr("style","")},getLayoutWeight:function(e,t){switch(e){case"single-column":return"col-sm-12 col-md-12 col-lg-12";case"two-columns":return"col-sm-6 col-md-6 col-lg-6";case"minor-major":return 0===t?"col-sm-4 col-md-4 col-lg-4":"col-sm-8 col-md-8 col-lg-8";case"major-minor":return 0!==t?"col-sm-4 col-md-4 col-lg-4":"col-sm-8 col-md-8 col-lg-8";default:return!1}},getColumns:function(e){switch(e){case"single-column":return{initial:"5",max:16};case"two-columns":return{initial:"3",max:8};case"split-column":case"minor-major":case"major-minor":return{initial:"4",max:12};default:return!1}},arrayMove:function(e,t,r){var n=e;return n.splice(r,0,n.splice(t,1)[0]),n},flattenCards:function(e){var t=[];return Object(I.a)(e,function(e,r){return"card"===e.type?(e.cardIndex=r,e.progress=e.progress||0,t.push(e)):"module"===e.type?Object(I.a)(e.children,function(e,n){return e.progress=e.progress||0,e.cardIndex=r,e.modIndex=n,t.push(e)}):void 0}),t},getPageTitlePlaceholder:function(){return"Untitled"},getPageTitle:function(e){var t=P.getPageTitlePlaceholder();try{var r=void 0===e.title?e.metadata.title:e.title;return r.trim().length>0?r:t}catch(e){return t}}},T=P,_={name:"Icon",props:{name:{type:String,required:!0},size:{type:Number,default:16},weight:{type:String,default:"fal"}},computed:{weightClass:function(){var e=["fal","far","fas","regular","solid","light"];return e.includes(this.weight)?"regular"===this.weight?"far":"solid"===this.weight?"fas":"light"===this.weight?"fal":this.weight:(console.warn("This weight is not in list: ".concat(e.join(", "),".")),null)},sizeClass:function(){return 0===this.size?"":"fa-".concat(this.size)}}},x=Object(w.a)(_,function(){var e=this.$createElement;return(this._self._c||e)("i",{staticClass:"kds-not-copy kds-not-drag",class:[this.weightClass,"fa-"+(this.name||"question"),this.sizeClass]})},[],!1,null,null,null).exports,j={props:{height:{type:Number,default:4},value:{type:Number,required:!0},minWidth:{type:Number,default:0},showPercentage:{type:Boolean,default:!1}},computed:{finalProgress:function(){return Math.floor(this.value)}}},D=Object(w.a)(j,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("figure",{staticClass:"kds-progress-linear",style:{height:e.height+"px"},attrs:{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":"0","aria-valuemax":"100"}},[r("div",{staticClass:"kds-progress-linear__status",class:e.themeClasses.courseProgressColor,style:{width:e.value+"%",minWidth:e.showPercentage?e.minWidth+36+"px":e.minWidth}},[e.showPercentage?r("span",{class:[e.themeClasses.paragraph,e.themeClasses.courseProgressPercentage],style:{minWidth:e.minWidth+"px"}},[r("strong",[e._v(e._s(e.finalProgress)+"%")])]):e._e()])])},[],!1,null,null,null).exports,R={methods:{redirectToCard:function(e){var t=e.courseId,r=e.cardId,n=e.courseMode,i=e.onResolve,s=e.onAbort;return this.$router&&this.$router.push({name:"CourseComposerEditor",params:{courseMode:n||this.$store.state.course.viewCourse,courseId:t,cardId:r},query:this.$router.currentRoute.query},i,s)}}};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N={mixins:[R],computed:L(L(L({},Object(o.d)({breakpoint:function(e){return e.coursePreview.breakpoint},showProgressWarning:function(e){return e.courseProgress.showProgressWarning}})),Object(o.c)({nextIncompletedProgressBlockId:"courseProgress/nextIncompletedProgressBlockId",isAnyCardRequiredStill:"courseProgress/isAnyCardRequiredStill",getIsCardEnabled:"courseProgress/getIsCardEnabled",activeCard:"getActiveCard"})),{},{isInThemeEditor:function(){return this.$store.getters.getIsInThemeEditor}}),methods:L(L({},Object(o.b)({selectActiveCard:"selectActiveCard",toggleNav:"toggleNav"})),{},{handleClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.getIsCardEnabled(e)?(this.showProgressWarning&&this.activeCard.id!==e&&this.$store.dispatch("courseProgress/showProgressWarning",!1),this.selectActiveCard({id:e,isModule:t,moduleId:r}),"desktop"===this.breakpoint?this.toggleNav(!0):this.toggleNav(!1)):this.handleDisabledClick()},handleDisabledClick:function(){this.$store.dispatch("courseProgress/showProgressWarning",this.nextIncompletedProgressBlockId||this.isAnyCardRequiredStill)}})};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W={mixins:[N],components:{Icon:x,ProgressLinear:D},props:{title:{type:String},type:{type:String,default:""},progressType:{type:String,default:"linear",validator:function(e){return["linear","pie","linear-pie"].includes(e)}},isModule:{type:Boolean,default:!1},moduleId:{type:String,default:null},progress:{type:Number,required:!0},weight:{type:Number},score:{type:Number},courseScore:{type:Number},passed:{type:Boolean},uid:{type:[String,Number],required:!0},index:{type:Number,required:!0},isDisabled:{type:Boolean}},computed:M(M(M({},Object(o.d)({previewCourseProgressLabels:function(e){return e.coursePreview.previewCourseProgressLabels}})),Object(o.c)({isThemeNavigationUpdatesEnabled:"isThemeNavigationUpdatesEnabled"})),{},{isCompleted:function(){return 100===this.progress},iconName:function(){return"file-alt"},themeIconClass:function(){return"lesson"===this.type?this.themeClasses.cardLessonIcon:"course"===this.type?this.themeClasses.cardStartIcon:"activity"===this.type?this.themeClasses.cardActivityIcon:"assessment"===this.type?this.themeClasses.cardAssessmentIcon:null},typeFormatted:function(){return Object(S.a)(this.type)},pageTitle:function(){return T.getPageTitle({subtype:this.type,title:this.title})}})},U=Object(w.a)(W,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"kcp-course-nav-tile",class:[{"is-completed":e.isCompleted},"has-progress-"+e.progressType,{"is-disabled":e.isDisabled}],attrs:{role:"button"},on:{click:function(t){return e.handleClick(e.uid,e.isModule,e.moduleId)}}},[r("figure",{staticClass:"kcp-course-nav-tile__icon",class:e.isThemeNavigationUpdatesEnabled?null:e.themeClasses.courseNavItemIcon},[r("Icon",{class:e.themeIconClass,attrs:{name:e.iconName,size:20}})],1),e._v(" "),r("div",{staticClass:"kcp-course-nav-tile__lesson"},[r("div",{staticClass:"kcp-course-nav-tile__content"},[r("div",{staticClass:"kds-row kds-align-end kds-width-full"},[r("header",{staticClass:"kcp-course-nav-tile__content-wrap"},[r("p",{staticClass:"kcp-course-nav-tile__content-label",class:[e.themeClasses.smallText,e.themeClasses.courseNavItemLabel]},[e._v("\n                        "+e._s(e.typeFormatted)+"\n                        "),e.previewCourseProgressLabels?[e._v("\n                            p: "+e._s(e.progress)+" %\n                            "),e.weight?r("span",[e._v("w: "+e._s(e.weight))]):e._e(),e._v(" "),e.score?r("span",[e._v("s: "+e._s(e.score))]):e._e(),e._v(" "),e.courseScore?r("span",[e._v("s: "+e._s(e.courseScore))]):e._e(),e._v(" "),e.courseScore&&void 0!==e.passed?r("span",[e._v("ps: "+e._s(e.passed))]):e._e()]:e._e()],2),e._v(" "),r("p",{staticClass:"kcp-course-nav-tile__content-title kds-truncate",class:e.isThemeNavigationUpdatesEnabled?null:e.themeClasses.courseNavItemTitle},[e._v(e._s(e.pageTitle))])]),e._v(" "),e.isCompleted?r("figure",{staticClass:"kcp-course-nav-tile__check",class:e.themeClasses.courseProgressColor},[r("Icon",{attrs:{name:"check",size:20}})],1):e._e()])]),e._v(" "),"linear"===e.progressType?r("div",{staticClass:"kcp-course-nav-tile__progress-linear kcp-course-nav-tile__progress-linear--lesson"},[r("ProgressLinear",{attrs:{height:4,value:e.progress,minWidth:0}})],1):e._e()])])},[],!1,null,null,null).exports;function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){H(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G={mixins:[N],components:{ProgressLinear:D},props:{title:{type:String},progressType:{type:String,default:"linear",validator:function(e){return["linear","pie","linear-pie"].includes(e)}},progress:{type:Number,required:!0},weight:{type:Number},score:{type:Number},courseScore:{type:Number},passed:{type:Boolean},uid:{type:[String,Number],required:!0}},computed:V(V(V({},Object(o.c)({activeCard:"getActiveCard",isThemeNavigationUpdatesEnabled:"isThemeNavigationUpdatesEnabled"})),Object(o.d)({previewCourseProgressLabels:function(e){return e.coursePreview.previewCourseProgressLabels}})),{},{isSelected:function(){return this.activeCard&&this.uid===this.activeCard.id},isCompleted:function(){return 100===this.progress},pageTitle:function(){return T.getPageTitle({subtype:this.type,title:this.title})}})},Y=Object(w.a)(G,function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return n("article",{staticClass:"kcp-course-nav-tile is-startcard",class:[{"is-active":t.isSelected,"is-completed":t.isCompleted},"has-progress-"+t.progressType,t.themeClasses.courseNavigationMenu],attrs:{role:"button"},on:{click:function(e){return t.handleClick(t.uid,!1,null)}}},[n("div",{staticClass:"kcp-course-nav-tile__content"},[n("div",{staticClass:"kds-row kds-align-end kds-width-full"},[n("header",{staticClass:"kcp-course-nav-tile__content-wrap"},[n("p",{staticClass:"kcp-course-nav-tile__content-label",class:[t.themeClasses.smallText,t.themeClasses.courseNavigationMenu,t.themeClasses.courseNavItemLabel]},[t._v("Course")]),t._v(" "),n("p",{staticClass:"kcp-course-nav-tile__course-title"},[t._v(t._s(t.pageTitle))])])]),t._v(" "),"linear"===t.progressType?n("div",{staticClass:"kcp-course-nav-tile__progress-linear"},[n("ProgressLinear",{attrs:{height:4,value:t.progress}})],1):t._e(),t._v(" "),n("span",{staticClass:"kcp-course-nav-tile__content-porcentage",class:(e={},e[t.themeClasses.smallText]=!t.isThemeNavigationUpdatesEnabled,e)},[t._v("\n            "+t._s(Math.floor(t.progress))+" %\n        ")])])])},[],!1,null,null,null).exports;function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(t){K(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q={components:{CourseNavItem:U},props:{module:{type:Object,required:!0},index:{type:Number,required:!0}},computed:X(X({},Object(o.c)({activeCard:"getActiveCard",getIsCardEnabled:"courseProgress/getIsCardEnabled",getRoundedCardProgress:"courseProgress/getRoundedCardProgress",isThemeNavigationUpdatesEnabled:"isThemeNavigationUpdatesEnabled"})),{},{pageTitle:function(){return T.getPageTitle(this.module)}}),methods:{getIsCardActive:function(e){var t;return e===(null===(t=this.activeCard)||void 0===t?void 0:t.id)},isNavButtonDisabled:function(e){return!this.getIsCardEnabled(e.id)},getCardProgress:function(e){return this.getRoundedCardProgress(e.id)}}};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){te(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re={components:{CourseNavItem:U,CourseStartCardNavItem:Y,CourseNavModule:Object(w.a)(Q,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[r("div",{staticClass:"kcp-course-nav-module kds-pl-24 kds-pr-16 kds-pt-6 kds-pb-6 kcp--bb",class:[{"kcp--bt":e.index>0},e.isThemeNavigationUpdatesEnabled?e.themeClasses.cardLabels:[e.themeClasses.courseNavBorder,e.themeClasses.courseNavBarsBg]]},[r("p",[r("span",{class:e.themeClasses.courseNavItemLabel},[e._v("Module: ")]),e._v(e._s(e.pageTitle))])]),e._v(" "),e.module.children&&e.module.children.length?r("ul",{staticClass:"no-bullet"},e._l(e.module.children,function(t,n){return r("li",{key:t.id,staticClass:"kcp-course-nav-item kcp--bb",class:[{"is-active":e.getIsCardActive(t.id),"is-disabled":e.isNavButtonDisabled(t)},e.isThemeNavigationUpdatesEnabled?e.themeClasses.cardLabels:[e.themeClasses.courseNavItem,e.themeClasses.courseNavBarsBg,e.themeClasses.courseNavBorder]]},[r("CourseNavItem",{attrs:{uid:t.id,title:t.metadata.title,isModule:e.module.children.length>0,moduleId:e.module.id,progress:e.getCardProgress(t),weight:t.weight,score:t.score,type:t.subtype,index:n}})],1)}),0):e._e()])},[],!1,null,null,null).exports,Icon:x},computed:ee(ee({},Object(o.c)({cards:"getCards",course:"getCourse",isNavOpen:"isNavOpen",startCard:"getStartCard",activeCard:"getActiveCard",globalProgress:"getGlobalProgress",isCourseExitDisabled:"isCourseExitDisabled",getIsCardEnabled:"courseProgress/getIsCardEnabled",roundedCourseProgress:"courseProgress/roundedCourseProgress",getRoundedCardProgress:"courseProgress/getRoundedCardProgress",isThemeNavigationUpdatesEnabled:"isThemeNavigationUpdatesEnabled"})),{},{isOnline:function(){return window.location.href.indexOf("http")>=0},isEmbeded:function(){return window.location.href.indexOf("public/course")>=0},courseProgress:function(){return this.roundedCourseProgress},isExitButtonVisible:function(){return"default"!==window.lmsType}}),methods:ee(ee({},Object(o.b)({exitCourse:"exitCourse",toggleNav:"toggleNav"})),{},{getIsCardActive:function(e){var t;return e===(null===(t=this.activeCard)||void 0===t?void 0:t.id)},exitCourse:function(){this.isCourseExitDisabled||this.isEmbeded||(this.$emit("onExitCourse",this.activeCard.id),this.$store.dispatch("exitCourse"))},isNavButtonDisabled:function(e){return!this.getIsCardEnabled(e.id)},getCardProgress:function(e){return this.getRoundedCardProgress(e.id)}})},ne=Object(w.a)(re,function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return t.isNavOpen?n("nav",{staticClass:"kcp-course-nav",class:t.themeClasses.courseNav},[n("ul",{staticClass:"no-bullet kds-mb-56 kcp-course-nav__ul"},[n("div",{staticClass:"kcp-course-nav-item-header",class:t.themeClasses.courseNavigationMenu},[n("button",{staticClass:"kcp-course-burger small",class:t.themeClasses.courseNavToggleButton,on:{click:t.toggleNav}},[n("Icon",{attrs:{name:t.isNavOpen?"times":"bars",size:16}})],1)]),t._v(" "),t.startCard?n("li",{staticClass:"kcp-course-nav-list kcp-course-nav-item kcp--bb kds-mb-8",class:t.themeClasses.courseNavBorder},[n("CourseStartCardNavItem",{attrs:{title:t.course.metadata.title,progress:t.courseProgress,courseScore:t.course.score,passed:t.course.passed,uid:t.startCard.id}})],1):t._e(),t._v(" "),t._l(t.cards,function(e,r){return"start"!==e.subtype?["module"===e.type?n("CourseNavModule",{key:e.id,staticClass:"kcp-course-nav-list kds-mb-8",attrs:{module:e,index:r}}):n("li",{key:e.id,staticClass:"kcp-course-nav-list"},[n("ul",{staticClass:"no-bullet kds-pb-8"},[n("li",{staticClass:"kcp-course-nav-item kcp--bb",class:[{"kcp--bt":r>0,"is-active":t.getIsCardActive(e.id),"is-disabled":t.isNavButtonDisabled(e)},t.isThemeNavigationUpdatesEnabled?t.themeClasses.cardLabels:[t.themeClasses.courseNavItem,t.themeClasses.courseNavBarsBg,t.themeClasses.courseNavBorder]]},[n("CourseNavItem",{attrs:{index:r,title:e.metadata.title,progress:t.getCardProgress(e),weight:e.weight,score:e.score,type:e.subtype,uid:e.id,isDisabled:t.isNavButtonDisabled(e)}})],1)])])]:t._e()})],2),t._v(" "),t.isExitButtonVisible?n("button",{directives:[{name:"show",rawName:"v-show",value:t.isOnline,expression:"isOnline"}],staticClass:"kcp-course-nav__exit",class:(e={},e[t.themeClasses.cardLabels]=t.isThemeNavigationUpdatesEnabled,e),on:{click:t.exitCourse}},[n("span",{staticClass:"kds-mr-8"},[t._v("Exit Course")]),t._v(" "),n("Icon",{attrs:{name:"sign-out",size:16}})],1):t._e()]):t._e()},[],!1,null,null,null).exports,ie=r(117),se=r(231);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce={computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach(function(t){ae(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(o.c)({scrollOwnerSelector:"getScrollOwnerSelector"}))},le=r(118),de=r(234),ue=r(233),pe=r(261),me=r(4),he=r(264),ge=r(239),fe=r(238),be=r(229),ve=r(236),ye=r(417),Ce=r(228);function ke(e,t,r){var n=$(e),i=t.value;n.width(n.attr("data-width"));var s="js-image-loader-wrapper-".concat(Object(Ce.a)(0,9999)),o=!0,a=$('\n        <div class="kds-center-target '.concat(s,'">\n            <div data-e2e="image-loader" class="kds-motion-pulse"></div>\n        </div>\n    ')),c=n.css("opacity");setTimeout(function(){if(o){var e=n.parent();$(e).append(a),n.css("opacity",0)}},10);var l=new Image;l.src=i,l.onload=function(){o=!1;var t=n.parents("figure").hasClass("kds-poster--undefined-ratio"),a=n.hasClass("formula");e.src=i,n.css("opacity",0).css("width",t&&!a?"100%":"auto").animate({opacity:1},100,function(){var e=n.closest(".image-loader-wrapper");e.length>0&&(e.before(e.html()),e.remove()),setTimeout(function(){var e;(h||g||f)&&n.css("opacity",1),null===(e=r.context)||void 0===e||e.$emit("imageLoaderFinished")},0)});var l=$(".".concat(s));l.remove(),n.css("opacity",c),l.hide()},l.onerror=function(e){var t;console.warn(e),null===(t=r.context)||void 0===t||t.$emit("imageLoaderFinished")};var d=n.attr("data-fallback");d&&(l.onerror=function(){l.onerror=null,i=d,l.src=i})}var we={name:"ImageProcessor",mixins:[{directives:{"image-loader":{bind:function(e,t,r){t&&ke(e,t,r)},update:function(e,t,r){t&&t.oldValue!==t.value&&ke(e,t,r)}}}}],data:function(){return{base:"https://process.filestackapi.com/AIKVpR4B2Q8uMBse3iTRAz/"}},props:{id:{type:String,required:!1,default:null},type:{type:String,required:!0},url:{type:String,required:!0},typeFile:{type:String,default:"",required:!1},compress:{type:[String,Boolean],default:null,required:!1},crop:{type:[String,Boolean],default:null,required:!1},clip:{type:[String,Boolean],default:null,required:!1},resize:{type:[String,Boolean],default:null,required:!1},width:{type:[Number,String],default:null,required:!1},height:{type:[Number,String],default:null,required:!1},containerWidth:{type:[Number,String],default:null,required:!1},containerHeight:{type:[Number,String],default:null,required:!1},align:{type:String,default:null,required:!1},imageSize:{type:Object,default:null,required:!1},thumb:{type:[Boolean,String],default:!1,required:!1},fallback:{type:String,default:null,required:!1},isStandAlone:{type:Boolean,default:!1,required:!1},isLocal:{type:Boolean,default:!1,required:!1},showLoading:{type:Boolean,default:!1,required:!1},name:{type:String,default:"",required:!1},alt:{type:String,default:"",required:!1},maxHeight:{type:Number,default:null,required:!1},maxWidth:{type:Number,default:null,required:!1},className:{type:String,default:""},keepFormat:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1}},computed:{computedMaxWidth:function(){return this.maxWidth?this.maxWidth+"px":this.fullScreen?"95vw":""},computedMaxHeight:function(){return this.maxHeight?this.maxHeight+"px":this.fullScreen?"95vh":""},conversionParams:function(){var e="",t="",r="",n="",i=this.typeFile&&this.typeFile.indexOf("gif")>=0,s=this.typeFile&&this.typeFile.indexOf("tif")>=0;if("true"!==this.compress||i||(e="compress/"),"true"===this.clip?t="f:clip,":"true"===this.crop&&(t="f:crop,"),(!i&&!this.keepFormat||s)&&(r="output=format:png"),this.thumb&&!i)n="resize=".concat(t,",w:200,h:200,a:center/");else if(this.isStandAlone&&!i)n="resize=".concat(t,",w:300,h:300,a:center/");else if(this.resize&&this.typeFile&&"formula"!==this.typeFile)this.imageSize?(this.imageSize.width>this.width||this.imageSize.height>this.height)&&!i&&(n="resize=".concat(t,"w:").concat(this.width,",h:").concat(this.height).concat(this.align?",a:".concat(this.align):"","/")):n="resize=".concat(t,"w:").concat(this.width,",h:").concat(this.height,",a:").concat(this.align,"/");else if(this.typeFile&&"formula"===this.typeFile&&this.imageSize&&(this.imageSize.width>this.width||this.imageSize.height>this.height)){var o="",a="";this.imageSize.width>this.width&&(o="w:".concat(this.width,",")),this.imageSize.height>this.height&&(a="h:".concat(this.height-10,",")),n="resize=".concat(t).concat(o).concat(a,"a:").concat(this.align,"/")}return"".concat(n).concat(e).concat(r,"/")},itemClass:function(){return"formula"===this.typeFile?"formula":null},resizeClass:function(){return"video"!==this.typeFile&&this.containerWidth&&this.containerHeight&&null!==this.imageSize?this.containerWidth>this.imageSize.width&&this.containerHeight>this.imageSize.height?"no-resize":"":"background"},constructedURL:function(){if(this.url)return this.isLocal?this.url:this.base+this.conversionParams+this.url}}},Oe=Object(w.a)(we,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showLoading&&"background"===e.type?r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.constructedURL,expression:"constructedURL",arg:"background-image"},{name:"image-loader",rawName:"v-image-loader",value:e.constructedURL,expression:"constructedURL"}],class:[e.itemClass,e.resizeClass]}):e.showLoading||"background"!==e.type?r("img",{directives:[{name:"image-loader",rawName:"v-image-loader",value:e.constructedURL,expression:"constructedURL"}],staticClass:"image",class:[e.itemClass,e.resizeClass,e.className],style:{width:"auto",maxWidth:e.computedMaxWidth,maxHeight:e.computedMaxHeight},attrs:{"data-knowbly-id":e.id,"data-width":this.width,"data-height":this.height,"data-fallback":this.fallback,name:this.name,alt:this.alt}}):r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.constructedURL,expression:"constructedURL",arg:"background-image"}],class:[e.itemClass,e.resizeClass,e.className]})},[],!1,null,null,null).exports,Ee=r(1),Se="50%",Ie=Ee.default.extend(Oe),Pe={gcd:function(e,t){return t?this.gcd(t,e%t):e},getAspectRatio:function(e){var t=this.gcd(e.width,e.height);return"".concat(e.width/t,":").concat(e.height/t)},getAspectRatioClass:function(e){var t,r;switch(e&&(r=this.getAspectRatio(e)),r){default:t="kds-poster--undefined-ratio";break;case"16:9":case"57:32":t="kds-poster--aspect-ratio-16x9";break;case"4:3":t="kds-poster--aspect-ratio-4x3";break;case"3:2":t="kds-poster--aspect-ratio-3x2";break;case"1:1":t="kds-poster--aspect-ratio-1x1"}return t},reloadImageProccesor:function(e){var t=e.data("type"),r=e.data("name"),n=e.data("description"),i=e.data("src"),s=new Ie({propsData:{url:i,type:"image",typeFile:"image/".concat(t),thumb:!1,align:"center",className:"fr-media-image fr-fic fr-dib",width:Se,compress:!0,name:r||"",alt:n||"",addWrapper:!0,showLoading:!0}});return s.$mount(),new Promise(function(t){$(s.$el).on("load",function(){setTimeout(function(){console.log("imageLoader",e),e.replaceWith($(s.$el)),s.$destroy(),t()},1e3)}).on("error",function(){s.$destroy(),t()})})},getImageURL:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Desktop",i="",s=960;if(t&&(s=t),r){var o="",a="",c=e.type&&e.type.includes("gif");if(c||(o="output=format:png"),e.imageSize&&(e.imageSize.width>s||e.imageSize.height>s)&&!c){var l=e.imageSize.width>s?s:e.imageSize.width,d=e.imageSize.height>s?s:e.imageSize.height;a="resize=w:".concat(l,",h:").concat(d,",a:center/")}var u=e.src?e.src:e.url;i="https://process.filestackapi.com/AIKVpR4B2Q8uMBse3iTRAz/compress/".concat(a).concat(o,"/").concat(u)}else i="Desktop"===n?"images/desktop/":"images/mobile/",i+=e.name;return i}},Te=r(69),_e=r.n(Te),xe=r(240),je={props:{content:{type:String},options:{type:Object,default:function(){return{}}}},data:function(){return{callback:null}},inject:["openEnlargeImageModal","closeEnlargeImageModal"],mounted:function(){var e=this,t=$(this.$el);this.options.onlyTable&&t.find("table:not(.".concat(this.themeClasses.tables,")")).addClass(this.themeClasses.tables),this.callback=function(t){var r=t.currentTarget,n=r.name.split(".").length>1&&r.name.split(".").pop();e.openEnlargeImageModal({url:r.src,type:n})},t.on("click","img:not([data-mathml])",this.callback),t.find(".image-loader-wrapper").each(function(e,t){Pe.reloadImageProccesor($(t))}),this.initializeImages({$el:t}),this.$nextTick(function(){_e.a.startVideoJS({container:t}),setTimeout(function(){var t=0,r=setInterval(function(){$(e.$el).find("video:not([playsinline])").length&&t<10?_e.a.startVideoJS({container:e.$el}):clearInterval(r),t++},500)},2e3)})},beforeDestroy:function(){$(this.$el).off("click","img:not([data-mathml])",this.callback)},methods:{initializeImages:function(e){var t=this,r=e.$el,n=r.find("img:not(.formula)"),i=0,s=function(e){var r=e.el,s=e.height,o=$(r),a=function(){o.siblings().remove(),o.unwrap().css({opacity:1})},c='<div class="kds--relative" style="height: '.concat(s,'px; overflow: hidden;"></div>');o.css({opacity:0,transition:"opacity 0.3s linear"}).on("load",a).on("error",a).wrap(c).parent().append('<div data-e2e="image-loader" class="kds-center-target kds-motion-pulse"></div>'),r.complete&&(a(),o.off("load",a).off("error",a)),(i+=1)===n.length&&t.$emit("imagesPartialLoaded")},o={};n.each(function(e,t){var n=setInterval(function(){o[e]=(o[e]||0)+10;var i=t.naturalWidth,a=t.naturalHeight;if(i&&a){clearInterval(n);var c=r.parent().width(),l=Object(xe.a)([c,i]);s({el:t,height:a/i*l})}else 1e3===o[e]&&(clearInterval(n),s({el:t,height:300}))},10)}),0===n.length&&this.$emit("imagesPartialLoaded")}}},De=Object(w.a)(je,function(){var e=this.$createElement;return(this._self._c||e)("div",{domProps:{innerHTML:this._s(this.content)}})},[],!1,null,null,null).exports,Re=r(131),Be=r.n(Re),Le=r(184),Ae=r.n(Le),Ne=r(418),ze=r(342),Me=r.n(ze),Fe=r(230),$e=r(161),We=(r(341),r(11),r(247)),Ue=r(245),qe=r(159);function Ve(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach(function(t){Ye(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,s=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return s}(e,t)||Xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){if(e){if("string"==typeof e)return Ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qe(e){return"SET_".concat(Object(We.a)(Object(Ue.a)(e)))}function Ze(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){var r=Je(t,2),n=r[0],i=r[1];return e.mutations[Qe(n)]=function(e,t){return e[n]=t},e.state[n]=i,e.getters[n]=function(e){return e[n]},e.actions["set".concat(Object(ie.a)(n))]=function(e,t){return(0,e.commit)(Qe(n),t)},e},{mutations:{},state:{},getters:{},actions:{}})}function et(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ge(Ge({},Ze.apply(void 0,t)),{},{actions:t.reduce(function(e,t){var r,n=Je(t,1)[0];return Ge(Ge({},e),{},(Ye(r={},"set".concat(Object(ie.a)(n)),function(e,t){var r=e.state,i=e.commit,s=t.key,o=t.value;i(Qe(n),Ge(Ge({},r[n]),{},Ye({},s,o)))}),Ye(r,"clear".concat(Object(ie.a)(n)),function(e){(0,e.commit)(Qe(n),{})}),r))},{})})}function tt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return qe.a.apply(void 0,[{}].concat(t,[function(e,t){if(Object(me.a)(e)&&Object(me.a)(t))return t}]))}function rt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var s=Je(i[n],3),o=s[0],a=s[1],c=s[2];if(!(void 0===c?function(e){return!!e}:c)(a))throw new Error("".concat(o," (").concat(a,") is required."))}}Ee.default.use(Ne.a);var nt="https://knowbly-main-api.turningtechnologies.com/api",it=(Me()(function(e,t){var r,n=Object(Fe.a)(t);return(null===n||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.items)&&delete n.items,Ee.default.http.put("".concat(nt,"/widget/").concat(e,"/data"),n).then(function(e){return Promise.resolve(e.data)})},1e3),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=e.id,n=e.userId;return rt(["data",t],["id",r],["userId",n]),Ee.default.http.post("".concat(nt,"/layer/update-data"),{data:t,id:r,userId:n})}),st=(Me()(it,1e3),function(e){var t="";return e.composer&&(t="&composer=true"),Ee.default.http.get("".concat(nt,"/widget/").concat(e.id,"?filter[include]=widgetType&filter[include]=metadata&filter[custom]=tag&filter[custom]=theme").concat(t)).then(function(e){return Promise.resolve(e.data)})}),ot={},at=Object(w.a)(ot,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"kds-widget-loader text-medium kds-align-center kds--bg-gray-F5"},[this._v("\n    Error\n")])},[],!1,null,null,null).exports,ct={name:"Loader",props:{size:Number},computed:{pulseSize:function(){var e=this.size?this.size:32,t={marginLeft:"auto",marginRight:"auto"};return e&&(t.width=t.height=e+"px"),t}}},lt=Object(w.a)(ct,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"kds-motion-pulse kds-centered",style:this.pulseSize,attrs:{"data-e2e":"motion-loader"}})},[],!1,null,null,null).exports,dt={name:"KnowblyLoader",props:{text:{type:String,default:"Loading"},fixed:{type:Boolean,default:!1}},components:{Loader:lt}},ut={components:{KnowblyLoader:Object(w.a)(dt,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"kds-overlay-loader",class:{"kds--fixed":this.fixed},attrs:{"data-e2e":"loader"}},[t("div",{staticClass:"kds-center-target kds-text-center"},[t("Loader"),this._v(" "),t("div",{staticClass:"text-medium color-gray-42",staticStyle:{"margin-top":"16px"}},[this._v(this._s(this.text)+"...")])],1)])},[],!1,null,null,null).exports},inject:{loaderClass:{default:""}}},pt=Object(w.a)(ut,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"kds-widget-loader",class:this.loaderClass},[t("KnowblyLoader")],1)},[],!1,null,null,null).exports;function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach(function(t){gt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ft={components:{ErrorBoundary:r(419).ErrorBoundary},props:{isStandAlone:{type:Boolean,default:!1},widgetTitle:{type:String,default:null},widgetIntroduction:{type:String,default:null},widgetCaption:{type:String,default:null},widgetA11y:{type:Object,default:function(){}},alwaysParseCss:{type:Boolean,default:!1},addExtraWidgetProps:{type:Boolean,default:!1},forceReRenderWhenChangingProps:{type:Boolean,default:!1},withDeviceClass:{type:Boolean,default:!0},widgetId:{type:String,default:null},widgetType:{type:Object,default:null},widgetProps:{type:Object,default:function(){}},addMetadataMargin:{type:Boolean,default:!1}},data:function(){return{uid:"0",widget:{},resizeAttrs:{},isDataLoading:!0,isComponentJsLoading:!0,isComponenCsstLoading:!0,error:null,CurrentType:null,prevStyleElId:void 0}},computed:{deviceClass:function(){return this.withDeviceClass?this.device:void 0},currentWidgetType:function(){return this.widgetType?this.widgetType:this.widget.widgetType},currentComponentName:function(){if(this.currentWidgetType)return this.currentWidgetType.component.replace(/\s/g,"")},widgetResources:function(){if(this.currentWidgetType)return this.currentWidgetType.templateVersion.urls||{jsFile:this.currentWidgetType.templateVersion.jsFile.url,cssFile:this.currentWidgetType.templateVersion.cssFile.url}},widgetVersion:function(){try{return this.currentWidgetType.templateVersion.version}catch(e){return null}},widgetMode:function(){if(this.currentWidgetType)return this.currentWidgetType.widgetMode},styleElId:function(){if(this.currentWidgetType){var e=this.currentWidgetType.templateVersion.version.replace(/\./g,"-");return"".concat(this.widgetMode,"-").concat(e)}},props:function(){var e=this.widget,t=ht({data:e.data,settings:e.settings,widgetMode:this.widgetMode,widgetType:this.currentWidgetType,widgetScopeClasses:this.widgetScopeClasses,widgetSuspendData:this.widgetSuspendData},this.widgetProps);return this.withDeviceClass&&(t.deviceClass=this.deviceClass),this.addExtraWidgetProps?ht(ht({},t),{},{widgetName:this.widget.name,widgetId:this.widget.id}):t},currentWidgetTitle:function(){return this.widgetTitle},currentWidgetIntroduction:function(){return this.widgetIntroduction||this.widget.introduction},currentWidgetCaption:function(){return this.widgetCaption},widgetScopeClasses:function(){return[this.prevStyleElId,this.styleElId,"theme-css-scope",this.deviceClass]}},watch:{widgetId:function(e,t){(!t&&e||e!==t)&&(this.error=null,this.isDataLoading=!0,this.initDebounced())},widgetType:function(e,t){(this.forceReRenderWhenChangingProps||!t&&e||e.widgetMode!==t.widgetMode)&&this.reRender()},widgetProps:function(){this.forceReRenderWhenChangingProps&&this.reRender()}},methods:{reRender:function(){this.error=null,this.isDataLoading=!0,this.isComponentJsLoading=!0,this.isComponenCsstLoading=!0,this.initDebounced()},setRoute:function(){this.$store.commit("SET_FROM_ROUTE",Object(pe.a)(this.$route,"name","params"))},hardRender:function(){this.updateUid()},updateUid:function(){this.uid=Object(Ce.a)(0,9999).toString()},onWidgetResize:function(e){var t=e.resizeAttrs;this.resizeAttrs=t},handleWidgetErrror:function(e){console.error(e)}}},bt=r(157),vt=r(262),yt={props:{longDescription:{type:String,default:""},role:{type:String,default:"Media"}},data:function(){return{ariaId:Object(Ce.a)(0,9999),visuallyHiddenStyles:{position:"absolute",border:"0",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0",overflow:"hidden"}}}},Ct=Object(w.a)(yt,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{role:e.role,tabindex:"0","aria-labelledby":e.ariaId}},[r("p",{style:e.visuallyHiddenStyles,attrs:{id:e.ariaId,tabindex:"-1"}},[e._v(e._s(e.longDescription))]),e._v(" "),e._t("default")],2)},[],!1,null,null,null).exports,kt=(r(420),r(421),r(67)),wt=r.n(kt);function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach(function(t){St(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var It={name:"BaseElementPlaceholder",functional:!0,render:function(e,t){var r,n=t.data,i=t.children,s=t.listeners;return e("div",wt()([{on:{click:s.click?s.click:function(){}},class:["kds-ElementPlaceholder",n.staticClass,n.class],style:[n.staticStyle,n.style]},Et(Et({directives:n.directives},(null===(r=n.attrs)||void 0===r?void 0:r.role)&&{attrs:{role:n.attrs.role}}),n.key&&{key:n.key})]),[i])}},Pt=Object(w.a)(It,void 0,void 0,!1,null,null,null).exports,Tt={props:{size:{type:[String,Number],default:64},name:{type:String,required:!0}}},_t=Object(w.a)(Tt,function(){var e=this.$createElement;return(this._self._c||e)("i",{staticClass:"icon-custom kds-not-copy kds-not-drag",class:[this.name,"fa-"+this.size]})},[],!1,null,null,null).exports,xt=r(242),jt=r(237),Dt={getCMItem:function(e){var t={};switch(e.subType){case"widget":e.thumbnail?(t.url=e.thumbnail.url,e.thumbnail.width&&(t.imageSize={width:e.thumbnail.width,height:e.thumbnail.height}),t.imageformatedType=e.thumbnail.imageformatedType):(t.url=!1,t.icon="".concat(Object(xt.a)(Object(jt.a)(e.formatedType)?Object(jt.a)(e.formatedType.toLowerCase()):"")));break;case"image":t.url=e.url,t.formatedType=e.formatedType,t.imageSize=e.imageSize,t.imageformatedType=e.imageformatedType;break;case"formula":e.poster&&e.poster.desktop?(t.url=e.poster.desktop.url,t.imageSize=e.poster.desktop.imageSize,t.imageformatedType=t.formatedType="image ".concat(e.poster.desktop.type)):(t.url=e.url,t.formatedType=e.formatedType,t.imageformatedType=e.imageformatedType,t.imageSize=e.imageSize);break;case"video":e.poster&&e.poster.desktop?(t.url=e.poster.desktop.url,t.imageSize=e.poster.desktop.imageSize,t.imageformatedType=t.formatedType="image ".concat(e.poster.desktop.type)):e.thumbnail?(t.url=e.thumbnail,t.imageformatedType=t.formatedType="video"):(t.url=!1,t.icon="video",t.formatedType="video");break;case"audio":e.poster&&e.poster.desktop?(t.url=e.poster.desktop.url,t.imageSize=e.poster.desktop.imageSize,t.imageformatedType=t.formatedType="image ".concat(e.poster.desktop.type)):"recorded"===e.provider?(t.url=!1,t.icon="recorded"):(t.url=!1,t.icon="audio");break;case"pdf":e.poster&&e.poster.desktop?(t.url=e.poster.desktop.url,t.imageSize=e.poster.desktop.imageSize,t.imageformatedType=t.formatedType="image ".concat(e.poster.desktop.type)):(t.url=!1,t.icon="pdf");break;case"ppt":case"pptx":case"presentation":e.poster&&e.poster.desktop?(t.url=e.poster.desktop.url,t.imageSize=e.poster.desktop.imageSize,t.imageformatedType=t.formatedType="image ".concat(e.poster.desktop.type)):(t.url=!1,t.icon="presentation");break;case"xls":case"xlsx":case"spreadsheet":e.poster&&e.poster.desktop?(t.url=e.poster.desktop.url,t.imageSize=e.poster.desktop.imageSize,t.imageformatedType=t.formatedType="image ".concat(e.poster.desktop.type)):(t.url=!1,t.icon="spreadsheet");break;case"odt":case"txt":case"text":case"doc":case"docx":case"document":case"openoffice":case"officedocument":e.poster&&e.poster.desktop?(t.url=e.poster.desktop.url,t.imageSize=e.poster.desktop.imageSize,t.imageformatedType=t.formatedType="image ".concat(e.poster.desktop.type)):(t.url=!1,t.icon="document");break;default:t.url="NOT SUPPORTED YET"}return t.classes="js-poster-img ".concat(e.subType),t},getCMItemIcon:function(e){var t={widget:"bolt",embed:"code",image:"image",formula:"calculator",video:"video",recorded:"microphone",audio:"volume-up",pdf:"file-pdf",presentation:"presentation",ppt:"presentation",pptx:"presentation",spreadsheet:"file-spreadsheet",xls:"file-spreadsheet",xlsx:"file-spreadsheet",odt:"file-invoice",txt:"file-invoice",text:"file-invoice",doc:"file-invoice",docx:"file-invoice",document:"file-invoice",openoffice:"file-invoice",officedocument:"file-invoice",application:"bolt",course:"book-spells",Tabs:"knowbly-tabs",Hotspots:"knowbly-hotspots",Accordion:"knowbly-accordion",Matching:"knowbly-matching",Flashcards:"knowbly-flashcards","True / False":"knowbly-true-false","Short Answer":"knowbly-short-answer","Gallery (Arrows)":"knowbly-gallery-arrows","Multiple Choice":"knowbly-multiple-choice","Multiple Select":"knowbly-multiple-select","Mixed Assessment":"knowbly-mixed-assessment","Annotated Video":"knowbly-annotated-video","Video Assessment":"knowbly-video-assessment","Gallery (Carousel)":"knowbly-gallery-carousel","Fill in the Blank":"knowbly-fill-in-the-blank","Gallery (Thumbnails)":"knowbly-gallery-thumbnails"},r=e||"widget",n=t[r];return r.indexOf("/")>=0&&void 0===t[r]&&(n=t[r.split("/")[0]]||t[r.split("/")[1]]),n||t.widget},unescapeString:function(e){var t=e;return t=(t=t.replace(/&nbsp;/g," ")).replace(/&amp;/g,"&")},getLinkedAssets:function(e,t){var r=[],n=[];return Object(I.a)(e.posters,function(e){var t=[],i=[];Object(I.a)(e.linkedAssets,function(e){!0===e.isPoster?t.push(e):i.push(e)}),t.length>0&&r.push({id:e.id,name:e.name,type:e.type,linkedAssets:t}),i.length>0&&n.push({id:e.id,name:e.name,type:e.type,linkedAssets:i})}),{assets:e.assets.length>0?e.assets:t.state.containers.selected,hasLinkedAssets:e.assets.length>0||n.length>0,hasPosters:e.posters.length>0,posters:r,linkedCourse:n}}},Rt={props:{asset:{type:Object,required:!1},simpleName:{type:String,default:"bold"},isFa:{type:Boolean,default:!1}},components:{Icon:x,IconCustom:_t},computed:{iconName:function(){if(this.asset){var e="recorded"!==this.asset.provider?this.asset.type:this.asset.provider;return this.isWidget&&!this.isFa?(e=this.asset.widgetType.name,Dt.getCMItemIcon(e)):this.isFa?Dt.getCMItemIcon(e):e?"knowbly-".concat(e.split("/")[0]):""}if(this.simpleName)return this.isFa?Dt.getCMItemIcon(this.simpleName):"knowbly-".concat(this.simpleName)},isWidget:function(){return!(!this.asset||!this.asset.templateSlug)&&!!this.asset.templateSlug}}},Bt=Object(w.a)(Rt,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isFa?r("Icon",e._g({staticClass:"fa-fw",attrs:{name:e.iconName,size:e.$attrs.size}},e.$listeners)):r("IconCustom",e._g({attrs:{name:e.iconName,size:e.$attrs.size}},e.$listeners))},[],!1,null,null,null).exports,Lt={functional:!0,props:{widgetType:{type:Object,required:!0},viewMode:{type:String,required:!0}},render:function(e,t){var r=t.props,n=r.widgetType,i="exported"===r.viewMode,s={widgetType:n,templateSlug:n.templateSlug},o=["Tabs","Accordion"].includes(n.name)?"WidgetPlaceholder--hasExtraMarginBottom":"";return e(Pt,{class:["WidgetPlaceholder",o],style:t.data.style||t.data.staticStyle},[i?e("p",{class:"WidgetPlaceholder__alert"},[e("strong",["Content must be added or this widget will be excluded on export"])]):null,e(Bt,{class:"WidgetPlaceholder__icon",attrs:{asset:s}}),e("p",["Your ",e("strong",[n.name])," needs some love!"]),i?null:e("p",[e("a",{on:{contextmenu:function(e){return e.preventDefault(),!1},click:function(e){e.preventDefault(),e.stopPropagation(),t.listeners.goToWidgetEditor()}},attrs:{href:"#!"}},["Click here to add content"])])])}};r(691);function At(e,t,r,n,i,s,o){try{var a=e[s](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Nt(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){At(s,n,i,o,a,"next",e)}function a(e){At(s,n,i,o,a,"throw",e)}o(void 0)})}}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach(function(t){Ft(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t={name:"Widget",components:{WidgetError:at,WidgetLoading:pt,A11y:Ct,WidgetPlaceholder:Object(w.a)(Lt,void 0,void 0,!1,null,"75d12618",null).exports},mixins:[ft],props:{showWidgetCaption:{type:Boolean,default:!1},showWidgetIntroduction:{type:Boolean,default:!1},showWidgetTitle:{type:Boolean,default:!0},widgetTitleTag:{type:String,default:"h2"},hideTitleIfDisplayType:{type:Boolean,default:!0},portalEl:{type:String,default:"#portal-content"},widgetDeviceClass:{type:String,default:""},reRenderOnDeviceChange:{type:Boolean,default:!1},widgetSuspendData:{type:Object,required:!1}},created:function(){this.reRenderOnDeviceChange&&this.deviceClass&&this.$watch("deviceClass",this.reRender),this.initDebounced=Object(bt.a)(function(){this.init()},250)},mounted:function(){this.initDebounced()},watch:{isWidgetLoading:function(e,t){e||e===t||this.$emit("widgetLoaded")},isWidgetPlaceholder:function(e){e&&this.widgetProgress({progress:100})}},computed:Mt(Mt(Mt({},Object(o.c)({viewCourse:"getViewCourse"})),Object(o.d)({refreshWidget:function(e){return e.widget?e.widget.refresh:null},device:function(e){return e.widget?e.widget.device:""}})),{},{isInThemeEditor:function(){return this.$store.getters.getIsInThemeEditor},showWidgetMetadata:function(){return this.showWidgetCaption&&this.showWidgetIntroduction},titleStyles:function(){var e;return this.showWidgetMetadata&&this.addMetadataMargin&&this.currentWidgetTitle&&(e=this.currentWidgetIntroduction?"24px":"32px"),{display:"block",paddingTop:0,paddingBottom:0,marginBottom:e}},hideWidgetTitle:function(){try{return!this.showWidgetTitle}catch(e){return!1}},unescapedCurrentWidgetTitle:function(){return Object(vt.a)(this.currentWidgetTitle)},isWidgetLoading:function(){return this.showWidgetMetadata&&(this.isDataLoading||this.isComponenCsstLoading)},widgetKey:function(){return this.currentWidgetType&&"InteractiveVideo"===this.currentWidgetType.component?this.refreshWidget||this.uid:"WIDGET"},isWidgetValid:function(){return!0},isWidgetPlaceholder:function(){return!this.isWidgetLoading&&!this.isInThemeEditor&&this.CurrentType&&!this.isWidgetValid}}),methods:{goToWidgetEditor:function(e){this.$emit("goToWidgetEditor",e)},widgetProgress:function(e){this.$emit("progress",e.progress),this.$emit("score",e.score),this.$store.commit("SET_WIDGET_PROGRESS",{id:this.widgetId||this.widgetProps.widgetId,progress:e.progress,score:e.score})},init:function(){var e=Nt(Be.a.mark(function e(){return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.$emit("widgetLoading"),this.widget={},this.error=null,this.isDataLoading=!0,this.isComponentJsLoading=!0,this.isComponenCsstLoading=!0,!this.widgetId){e.next=12;break}return e.next=10,st({id:this.widgetId});case 10:this.widget=e.sent,this.$emit("widgetDataLoaded",this.widget);case 12:return Object(de.a)(this.props.data)||(this.isDataLoading=!1),e.next=15,this.registerComponent();case 15:this.hardRender(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.warn(e.t0),this.error=e.t0;case 22:return e.prev=22,this.isDataLoading=!1,this.isComponentJsLoading=!1,this.isComponenCsstLoading=!1,e.finish(22);case 27:case"end":return e.stop()}},e,this,[[0,18,22,27]])}));return function(){return e.apply(this,arguments)}}(),registerComponent:function(){var e=Nt(Be.a.mark(function e(){var t,r,n,i,s,o,a,c;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.CurrentType=null,0!==(t=$("#".concat(this.styleElId))).length&&!this.alwaysParseCss){e.next=12;break}e.next=12;break;case 7:r=e.sent,n='\n                            <style id="'.concat(this.styleElId,'" data-temporal-stylesheet="true" rel="stylesheet" type="text/css">\n                                ').concat(Object(Le.scopeCss)("".concat(i).concat(r),".".concat(this.styleElId)),"\n                            </style>"),$("body").prepend(n),t.length&&t.remove(),this.isComponenCsstLoading=!1;case 12:s="",e.next=19;break;case 16:s=e.sent,e.next=20;break;case 19:s=$("#js-".concat(this.styleElId)).html();case 20:o=eval,this.currentWidgetType.useSandboxFiles&&(a=this.cleanWidgetJsFile(s),o(a)),c=window[this.currentComponentName].default,this.CurrentType=c,this.prevStyleElId=this.styleElId;case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),cleanWidgetJsFile:function(e){return e.replace(/window\.jQuery\s?=\s?window\.\$\s?=\s?j[Qq]uery;/g,"").replace(/window\.\$\s?=\s?j[Qq]uery;/g,"")}}},Wt=Object(w.a)($t,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade",mode:"out-in"}},[e.error?r("WidgetError",{on:{"hook:mounted":function(t){return e.widgetProgress({progress:100})}}}):e.isWidgetLoading?r("WidgetLoading"):r("div",{key:e.widgetKey,class:[e.prevStyleElId,e.styleElId,"theme-css-scope",e.deviceClass]},[!e.hideWidgetTitle&&e.showWidgetMetadata&&e.currentWidgetTitle?r("div",e._b({staticClass:"kio-widget-container has-abstract",class:[e.themeClasses.widgetContainer,e.deviceClass]},"div",e.resizeAttrs,!1),[e._t("title",[r("div",{staticClass:"kcp-rich-content kds-break-word-with-hyphens",class:e.themeClasses.richContent},[r("ErrorBoundary",{attrs:{stopPropagation:!0,fallBack:e.$options.components.WidgetError,onError:e.handleWidgetErrror}},[e.currentWidgetTitle?r(e.widgetTitleTag,{tag:"component",class:e.themeClasses[e.widgetTitleTag],domProps:{innerHTML:e._s(e.currentWidgetTitle)}}):e._e()],1)],1)],{widgetTitle:e.currentWidgetTitle})],2):e._e(),e._v(" "),e.showWidgetIntroduction&&e.currentWidgetIntroduction?r("div",e._b({staticClass:"kio-widget-container",class:e.themeClasses.widgetContainer},"div",e.resizeAttrs,!1),[e._t("introduction",[e.currentWidgetIntroduction?r("div",{staticClass:"kcp-rich-content kds-break-word-with-hyphens",class:e.themeClasses.richContent,domProps:{innerHTML:e._s(e.currentWidgetIntroduction)}}):e._e()],{widgetIntroduction:e.currentWidgetIntroduction})],2):e._e(),e._v(" "),r("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isComponentJsLoading||!e.CurrentType?r("WidgetLoading"):e.isWidgetPlaceholder?r("WidgetPlaceholder",{staticStyle:{"margin-top":"41px"},attrs:{widgetType:e.currentWidgetType,viewMode:e.props.viewMode},on:{goToWidgetEditor:e.goToWidgetEditor}}):e.CurrentType?r(e.CurrentType,e._b({ref:"widgetComponent",tag:"component",attrs:{uid:e.refreshWidget||e.uid,portalEl:e.portalEl,deviceClass:e.widgetDeviceClass||e.deviceClass,widgetIntroduction:e.currentWidgetIntroduction},on:{widgetLoaded:function(t){return e.$emit("widgetLoaded")},setRoute:e.setRoute,itemDataChange:function(t){return e.$emit("itemDataChange",t)},widgetResize:e.onWidgetResize,widgetProgress:e.widgetProgress,goToWidgetEditor:e.goToWidgetEditor,widgetSuspendData:function(t){return e.$emit("widgetSuspendData",t)},recordInteraction:function(t){return e.$emit("recordInteraction",t)}}},"component",e.props,!1)):e._e()],1),e._v(" "),e.showWidgetCaption&&e.currentWidgetCaption?r("div",{staticClass:"kcp-element-caption for-widget"},[e._t("caption",[r("caption",{staticClass:"kds-break-word-with-hyphens",class:e.themeClasses.richContent},[e.currentWidgetCaption?r("div",{class:e.themeClasses.caption,domProps:{innerHTML:e._s(e.currentWidgetCaption)}}):e._e()])],{widgetCaption:e.currentWidgetCaption})],2):e._e()],1)],1)},[],!1,null,null,null).exports,Ut={components:{Icon:x},props:{cardType:{type:String,default:"lesson"}},computed:{themeIconClass:function(){var e=this.cardType.toLowerCase();return"lesson"===e?this.themeClasses.cardLessonIcon:"course"===e?this.themeClasses.cardStartIcon:"activity"===e?this.themeClasses.cardActivityIcon:"assessment"===e?this.themeClasses.cardAssessmentIcon:null},lessonType:function(){return Object(ie.a)(this.cardType)}}},qt=Object(w.a)(Ut,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"kds-align-middle kds-mb-8"},[t("Icon",{staticClass:"kds-mr-12 kds-z--3",class:[this.themeIconClass,this.themeClasses.courseCardLabel],attrs:{name:"file-alt",size:16}}),this._v(" "),t("span",{staticClass:"color-gray-8C kds-z--3",class:[this.themeClasses.courseCardLabel]},[this._v(this._s(this.lessonType))])],1)},[],!1,null,null,null).exports,Vt=r(235),Ht=r(244);var Gt={name:"CourseCaptionMixin",components:{Icon:x,HocFroala:{},RichtextPreview:De},props:{params:{type:Object,required:!0},index:{type:Number,required:!1,default:void 0},tag:{type:String,required:!1,default:"caption"},placeholder:{type:String,required:!1,default:"Add a caption"},balloon:{type:String,required:!1,default:"Copy asset title"},canEdit:{type:Boolean,default:!1},isCaption:{type:Boolean,default:!1},toolbarInline:{type:Boolean,default:!1}},data:function(){return{value:"",htmlTags:[],active:!1,classes:["kiot-caption"]}},methods:{updateQuickValue:function(){return{}},focus:function(){this.$refs.CourseCaption&&this.$refs.CourseCaption.focus()},refreshContent:function(){this.$nextTick(this.$refs.CourseCaption.refreshDomContent),this.focus()}},computed:{currentElement:function(){return 1===Object(Ht.a)(this.params.children)?this.params.children.length>0?this.params.children[0]:{}:Object(ve.a)(this.index)?{}:this.params.children[this.index]},disabled:function(){return!1},froalaOptions:function(){return{}},showCopyButton:function(){return{}},elementContent:function(){return{}}},created:function(){this.value=this.elementContent}};function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xt={name:"CourseCaption",mixins:[Object(w.a)(Gt,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kcp-element-caption"},[r(e.tag,{tag:"component",staticClass:"kds--relative"},[e.canEdit?r("HocFroala",{ref:"CourseCaption",staticClass:"kds-text-editor input-text for-block from-button no-padding",class:e.classes.concat([{active:e.active}]),attrs:{value:e.value,disableEnterKey:!1,options:e.froalaOptions},on:{input:function(t){return e.updateCaption(t)},keyup:e.updateQuickValue,focusFroala:function(t){e.active=!0},blurFroala:function(t){e.active=!1}}}):r("RichtextPreview",{class:e.classes,attrs:{content:e.elementContent}}),e._v(" "),e.showCopyButton?r("button",{staticClass:"kds-button kds-button--icon kds-width--24px kds-height--24px kds-not-copy kds-z--5 kds-translate-center-y kds-button--gray-71",class:[{"kds-c--not-allowed":e.disabled},e.isCaption?"kds-right-10":"kds-right-0"],attrs:{"data-balloon-pos":"down","data-balloon-theme":"froala","data-balloon":e.balloon,disabled:e.disabled},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.copyCaption(t)}}},[r("Icon",{attrs:{name:"file-import",size:14}})],1):e._e()],1)],1)},[],!1,null,null,null).exports],data:function(){return{value:"",tempValue:"",htmlTags:["em","p","u","s","strike","strong","sub","sup","span","a","br"]}},methods:{updateQuickValue:function(){this.tempValue=$(this.$refs.CourseCaption.$refs.froala.$el).data("froala.editor").html.get()},updateCaption:function(e){var t=this,r=this.value;return this.value=e,this.$bus.$emit("saveData"),this.$store.dispatch("updateElementCaption",{id:this.currentElement.id,caption:e}).then(function(n){n?n.element.response&&t.$store.commit("SET_ELEMENT_CAPTION",{elementId:t.currentElement.id,caption:e,blockId:t.params.id,index:Object(ve.a)(t.index)?t.index:void 0}):t.value=r,t.$bus.$emit("savedData")})},copyCaption:function(){Object(Vt.a)(this.currentMetadata)||this.disabled||(this.updateCaption(this.currentMetadata),this.refreshContent())}},computed:{currentMetadata:function(){return this.currentElement.content&&this.currentElement.content.metadata?this.currentElement.content.metadata.description:null},showCopyButton:function(){return this.canEdit&&""===this.tempValue&&!this.isTable},isTable:function(){return"tables"===this.currentElement.subtype},disabled:function(){return this.canEdit&&!this.currentMetadata},froalaOptions:function(){var e=this.toolbarInline?{toolbarInline:!0,scrollableContainer:".kds-course-container.kcp-course-card",editorType:"limitedFroalaButtons"}:{};return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach(function(t){Jt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({enterBR:!0,type:"course",noToolbar:!1,pastePlain:!1,allowMedia:!1,disableLinks:!1,htmlUntouched:!0,editorType:"caption",allowOnlyImage:!1,placeholder:this.placeholder,htmlAllowedTags:this.htmlTags,enter:!$.FroalaEditor||$.FroalaEditor.ENTER_BR},e)},elementContent:function(){return this.currentElement&&this.currentElement.caption||""}},watch:{value:function(e){e!==this.tempValue&&(this.tempValue=e)}}},Kt=Object(w.a)(Xt,void 0,void 0,!1,null,null,null).exports;function Qt(e,t){var r=t.target;if(!r.classList.contains("kds-motion-ripple"))return!1;var n=r.getAttribute("data-event");if(n&&n!==e)return!1;r.setAttribute("date-event",e);var i,s=r.getBoundingClientRect(),o=t.offsetX;o?(o=t.clientX-s.left,i=t.clientY-s.top):o=t.offsetY;var a,c=document.createElement("div");a=s.width===s.height?1.412*s.width:Math.sqrt(s.width*s.width+s.height*s.height);var l="".concat(2*a,"px");c.style.width=l,c.style.height=l,c.style.marginLeft="".concat(-a+o,"px"),c.style.marginTop="".concat(-a+i,"px"),c.className="is-initializing",r.appendChild(c),window.setTimeout(function(){c.classList.add("held")},0);var d="mousedown"===e?"mouseup":"touchend";document.addEventListener(d,function e(){document.removeEventListener(d,e),c.classList.add("done"),window.setTimeout(function(){r.removeChild(c),r.children.length||r.removeAttribute("data-event")},7e3)})}var Zt={name:"KdsButton",props:{disabled:{type:[Boolean,Object,String],required:!1,default:!1},icon:{type:String,default:""},weight:{type:String,default:"fal"},size:{type:Number,default:16},iconClass:{type:String,default:""},iconHover:{type:Boolean,default:!1},hideRipple:{type:Boolean,default:!1},htmlTag:{type:String,default:"button"},downloadUrl:{type:String,default:""},downloadFilename:{type:String,default:""},downloadFileType:{type:String,default:""},e2eLabel:{type:String,default:""},rippleColor:{type:String,default:null}},components:{Icon:x},data:function(){return{blobURL:"Not Supported"}},methods:{onClick:function(e){!1===this.disabled&&("a"!==this.htmlTag||this.blobURL||this.setBlobUrl(),this.$emit("click",e))},handleMouseDown:function(e){!function(e){0===e.button&&Qt(e.type,e)}(e)},handleTouchStart:function(e){!function(e){if(e.changedTouches)for(var t=0,r=e.changedTouches.length;t<r;t++)Qt(e.type,e.changedTouches[t])}(e)},setBlobUrl:function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.downloadUrl,!0),t.responseType="blob",t.onload=function(){if(h){var r=e.downloadFilename,n=C[e.downloadFileType],i=e.downloadFilename.split(".");return 1!==i.length&&y.file.includes(i.reverse()[0])||(r="".concat(r,".").concat(n)),navigator.msSaveBlob(t.response,r)}e.blobURL=window.URL.createObjectURL(t.response),setTimeout(function(){return e.$refs.kdsButton.click()})},t.send()}},watch:{downloadUrl:function(){this.blobURL=null}},computed:{buttonBindings:function(){if("a"===this.htmlTag){var e={role:"button",href:"#"};if(this.blobURL&&(e.href=this.blobURL),e.target="_blank",e.href=this.downloadUrl,"#"!==e.href&&"Not Supported"===this.blobURL){var t=e.href,r=C[this.downloadFileType],n=t.split(".");y.file.includes(n.reverse()[0])||(t="".concat(t,".").concat(r)),e.href=t}return"#"!==e.href&&(e.download=""),e}return{}}}},er=(r(693),Object(w.a)(Zt,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(e.htmlTag,e._b({ref:"kdsButton",tag:"component",staticClass:"kds-ButtonComponent",class:[{"kds-hover-icon":e.iconHover},{"kds-poniter--none":e.disabled&&e.iconHover}],attrs:{"data-e2e":e.e2eLabel,disabled:e.disabled},on:{mousedown:e.handleMouseDown,touchend:e.handleTouchStart,click:e.onClick}},"component",e.buttonBindings,!1),[e.iconHover?[r("Icon",{staticClass:"fa-fw kds-icon-active",class:e.iconClass,attrs:{name:e.icon,weight:"fal",size:e.size}}),e._v(" "),r("Icon",{staticClass:"fa-fw kds-icon-passive",class:e.iconClass,attrs:{name:e.icon,weight:"fas",size:e.size}})]:e._e(),e._v(" "),e.$props.icon&&!e.iconHover?r("Icon",{class:e.iconClass,attrs:{name:e.icon,weight:e.weight,size:e.size}}):e._e(),e._v(" "),e._t("buttonText"),e._v(" "),e.hideRipple?e._e():r("div",{staticClass:"kds-motion-ripple",style:{color:e.rippleColor}})],2)},[],!1,null,null,null).exports),tr={name:"ElementPlaceholder",functional:!0,render:function(e,t){var r=t.data,n=t.props,i=t.listeners,s="A";(function(e){return e.match(/^[aieou].*/i)})(n.type)&&(s+="n"),s+=" ".concat(n.type," belongs here");var o="kds-ElementPlaceholder__wrapper"+(n.reduced?" kds-ElementPlaceholder__wrapper--is-reduced":"");return e(Pt,wt()([{class:["kds-ElementPlaceholder kds-ElementPlaceholder--is-".concat(n.type),"mobilePortrait"===n.device?"kds-ElementPlaceholder--is-mobile":"",r.staticClass,r.class],style:[r.staticStyle,r.style]},{directives:r.directives}]),[e("div",{class:"kds-ElementPlaceholder__container"},[e("div",{class:o},[e(_t,{class:"kds-ElementPlaceholder__icon",attrs:{name:"knowbly-".concat(n.type),size:"60"}}),!n.reduced&&e("div",{class:"kds-ElementPlaceholder__message text-large"},[s]),"preview"===n.mode?e("div",{class:"kds-ElementPlaceholder__warningMessage color-red text-large"},["Empty elements are excluded on export"]):e(er,{class:"kds-ElementPlaceholder__button button-standard-green",attrs:{icon:"plus",weight:"fal",size:16,disabled:n.disabled},on:{click:function(e){return i.click(e)}}},[e("span",{slot:"buttonText",class:"text-medium-semibold color-white kds-ml-8"},["Add"])])])])])}},rr=(r(695),Object(w.a)(tr,void 0,void 0,!1,null,null,null).exports);function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach(function(t){sr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ee.default.extend(Oe);var or={name:"CourseComposerBlockPreview",props:{block:{type:Object,required:!0},index:{type:Number,default:0}},data:function(){return{isIE:h}},components:{Widget:Wt,VideoJS:Te.VideoJS,CourseCaption:Kt,ImageProcessor:Oe,RichtextPreview:De,PageLabelPreview:qt,IconCustom:_t,A11y:Ct,KdsButton:er,AssetIcon:Bt,ElementPlaceholder:rr},methods:{isEmptyText:function(e){var t=document.createElement("div");t.innerHTML=e;return""===t.textContent.trim()&&""===t.innerText.trim()&&t.querySelectorAll(["hr","img"].join(",")).length<=0},getMedia:function(e){return ir(ir({},e.content),{},{a11y:ir(ir({},e.accessibility),{},{captions:Object(le.a)(e,"content.a11y.captions")})})},isLocked:function(){return!this.isExport&&this.card.id===this.$route.params.cardId&&!Object(de.a)(this.card.locked)&&this.card.locked.blockerId!==this.currentUser.id},redirectToWidgetComposer:function(){var e=Object(ue.a)(this.block.children).content,t="course-widget";e.template&&(t=e.template.toLowerCase().replace("/","")),this.$store.commit("SET_FROM_ROUTE",Object(pe.a)(this.$route,"name","params")),this.$router.push({path:"/wc/".concat(t,"/").concat(e.id,"?from=").concat(this.$route.fullPath)})},hasCaption:function(e){return!["text","widget","progress"].includes(e.subtype)},widgetClass:function(){if(this.block.metadata&&"single-column"===this.block.metadata.layout&&1===this.block.children.length){var e,t=this.block.children[0];if("widget"===t.subtype)return(null===(e=t.content)||void 0===e?void 0:e.template)&&["Tabs","Accordion"].includes(t.content.template)?"is-widget has-extra-margin-bottom":"is-widget"}},hasAttachmentContent:function(e){return e.content&&e.content.url},aspectRatio:function(e){return Pe.getAspectRatioClass(e)},layoutWeight:function(e){return T.getLayoutWeight(this.block.metadata.layout,e)},hasBackground:function(e){return e.settings&&e.settings.styles&&"none"!==e.settings.styles["background-image"]},checkType:function(e,t,r){return("video"===e||"audio"===e)&&this.getInlineStyles(["padding"],t,r)},hasPoster:function(e){return!(!Object(le.a)(e,"content.poster.desktop.url")&&!Object(le.a)(e,"content.poster.url"))},getInlineStyles:function(e,t,r,n,i){var s={};if(Object(me.a)(e)){if(t.settings&&t.settings.styles){e=n?["border-color","border-width","border-style","background-color","padding-top","padding-bottom"]:e;var o=i?t.settings.overlayColor?t.settings.overlayColor:[]:t.settings.styles;Object(I.a)(e,function(e){["padding-bottom","padding-top"].includes(e)?"0"!==o[e]&&(s[e]=o[e]):s[e]=o[e]}),n&&(s=Object(he.a)(s,["background-image"]))}r&&r.settings&&r.settings.styles&&(s=Object(ge.a)(s,r.settings.styles),this.hasChildPadding(r)||delete s.padding)}return Object(fe.a)(s,function(e,t){return Object(be.a)(t)})},isLocal:function(e){return e.content&&e.content.url&&e.content.url.includes("assets/")},hasChildPadding:function(e){return!(e&&["audio","video","image","formula"].includes(e.subtype))},notFoundClasses:function(e){return this.isExport&&e.content&&e.content.url&&notFoundImages&&notFoundImages.includes(e.content.url.split("/")[2])?"o-backup-img":{}},isMinorColumn:function(e){return"minor"===this.block.metadata.layout.split("-")[e]},downloadAttachment:function(e){var t=e.url,r=e.name,n=e.type,i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){ye(i.response,r,"application/".concat(n))},i.send()},getAccessibility:function(e){return e.accessibility?e.accessibility.altText:""}},computed:ir(ir(ir({},Object(o.c)({courseThemeSettings:"getCoursePreviewThemeSettings",isInThemeEditor:"getIsInThemeEditor",isNavOpen:"isNavOpen",themeUtils:"themeUtils"})),{},{captionsForTextAndElem:function(){return this.hasTextAndElemForVerticalAlign?this.block.children:[]},hasTextAndElemForVerticalAlign:function(){if(this.isSingleColumn||!this.block.children)return!1;var e=0,t=!1,r=!1;return this.block.children.forEach(function(n){"text"===n.subtype?e++:"tables"===n.subtype?t=!0:"attachment"===n.subtype&&(r=!0)}),2!==e&&(1===e&&!t&&!r)},hasDeviceClass:function(){return this.$store.getters.deviceClass||""}},Object(o.d)({inThemeEditor:function(e){return e.coursePreview.inThemeEditor}})),{},{isExport:function(){return!0},currentCard:function(){return this.$store.state.coursePreview.activeCard},isStartCard:function(){return"start"===this.currentCard.subtype},blockThemeSettings:function(){try{return this.block&&this.block.isTitleBlock?this.courseThemeSettings.courseNavigation.startBlock:this.courseThemeSettings.pages.blocks}catch(e){return null}},blockSettings:function(){try{return this.block.settings}catch(e){return null}},blockSettingsStyles:function(){try{return this.blockSettings.styles}catch(e){return null}},blockThemeClass:function(){if(this.block.metadata&&"single-column"===this.block.metadata.layout)return"".concat(this.themeClasses.courseBlock," kcp-blocks-one-column");return this.block.metadata&&["minor-major","major-minor"].includes(this.block.metadata.layout)?"".concat(this.themeClasses.courseBlock," kcp-blocks-minor-major"):"".concat(this.themeClasses.courseBlock," kcp-blocks-two-column")},isSingleColumn:function(){return!!this.block.metadata&&"single-column"===this.block.metadata.layout},childrenLength:function(){return this.block.children&&this.block.children.length},firstBlockChildStyles:function(){return 1===this.childrenLength?{paddingLeft:0,paddingRight:0}:2===this.childrenLength?{paddingLeft:0,paddingRight:"4px"}:null},secondBlockChildStyles:function(){return 2===this.childrenLength?{paddingLeft:"4px",paddingRight:0}:null},isBleed:function(){return!0},backgroundImage:function(){var e=Object(le.a)(this.blockSettings,"backgroundImage");return Object(ve.a)(e)?Object(le.a)(this.blockThemeSettings,"image"):e},overlayColor:function(){var e=Object(le.a)(this.blockSettings,"overlayColor['background-color']");return Object(ve.a)(e)?this.themeUtils.transformColor({val:Object(le.a)(this.blockThemeSettings,"overlayColor"),settings:this.courseThemeSettings})||"transparent":e},overlayOpacity:function(){var e=Object(le.a)(this.blockSettings,"overlayColor.opacity");return Object(ve.a)(e)?Object(le.a)(this.blockThemeSettings,"overlayOpacity")||1:e},backgroundColor:function(){var e=Object(le.a)(this.blockSettingsStyles,"background-color");return Object(ve.a)(e)?this.themeUtils.transformColor({val:Object(le.a)(this.blockThemeSettings,"bgColor"),settings:this.courseThemeSettings})||"transparent":e},containerStyles:function(){var e={};return this.blockSettingsStyles?(e.borderColor=this.isBleed?this.blockSettingsStyles["border-color"]:"transparent",e.borderStyle=this.isBleed?this.blockSettingsStyles["border-style"]:"none",e.borderWidth=this.isBleed?this.blockSettingsStyles["border-width"]:0,Object(ve.a)(this.blockSettingsStyles["padding-bottom"])||(e.paddingBottom=this.blockSettingsStyles["padding-bottom"]),Object(ve.a)(this.blockSettingsStyles["padding-top"])||(e.paddingTop=this.blockSettingsStyles["padding-top"]),e):e},contentStyles:function(){return this.blockSettingsStyles?{borderColor:this.isBleed?"transparent":this.blockSettingsStyles["border-color"],borderStyle:this.isBleed?"none":this.blockSettingsStyles["border-style"],borderWidth:this.isBleed?0:this.blockSettingsStyles["border-width"]}:{}},bgColorStyles:function(){return this.blockSettingsStyles&&(this.blockThemeSettings||this.block.isTitleBlock)?{backgroundColor:this.backgroundColor}:{}},bgImageStyles:function(){var e={};if(!this.blockThemeSettings)return{};var t="none";return t=this.backgroundImage?"url(".concat(this.backgroundImage.pathLocal,")"):"none",e.backgroundImage=t,e.backgroundSize="cover",e.backgroundRepeat="no-repeat;",e.backgroundPosition="center center",e},bgOverlayStyles:function(){return{backgroundColor:this.backgroundImage?this.overlayColor:"transparent",opacity:this.backgroundImage?this.overlayOpacity:0}},isAssessmentOrActivity:function(){return"assessment"===this.currentCard.subtype||"activity"===this.currentCard.subtype}})},ar=Object(w.a)(or,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kds-course-block",class:e.blockThemeClass,style:e.containerStyles,attrs:{id:"block-"+e.block.id}},[r("div",{staticClass:"kds-course-block-impact"},[r("div",{staticClass:"kds-course-block-impact__container",class:e.widgetClass()},[r("div",{staticClass:"row kds--relative kds-z--3"},[e._l(e.block.children,function(t,n){return[r("div",{key:t.id,staticClass:"col-xs-12 kds--relative",class:[e.layoutWeight(n),{"kds-flex kds-align-middle":e.hasTextAndElemForVerticalAlign}],style:1===n?e.secondBlockChildStyles:0===n?e.firstBlockChildStyles:null},["text"===t.subtype&&t.content&&"CARD_TITLE"===t.content.type?[r("PageLabelPreview",e._b({staticClass:"kcp-asset-content-left",attrs:{cardType:e.currentCard.subtype}},"PageLabelPreview",e.$attrs,!1))]:e._e(),e._v(" "),r("div",{staticClass:"kds--relative",class:{"width-100":e.hasTextAndElemForVerticalAlign}},[e.isInThemeEditor||!e.isBleed?r("div",{staticClass:"kds-block-with-styles kds-z--1",class:e.themeClasses.courseBlocksContentBg,style:!e.isInThemeEditor&&e.bgColorStyles,attrs:{id:"block-bg-color"+e.block.id}}):e._e(),e._v(" "),e.isBleed?e._e():r("div",{staticClass:"kds-block-with-styles kds-z--2",style:!e.isInThemeEditor&&e.bgImageStyles,attrs:{id:"block-bg-image"+e.block.id}}),e._v(" "),e.isBleed?e._e():r("div",{staticClass:"kds-block-with-styles kds-z--2",style:!e.isInThemeEditor&&e.bgOverlayStyles,attrs:{id:"block-bg-color-overlay"+e.block.id}}),e._v(" "),r("div",{staticClass:"kds--relative kds-z--3",style:e.contentStyles},["text"===t.subtype&&t.content&&t.content.useSlot?[e._t("element",null,{element:t,block:e.block,index:n})]:"text"===t.subtype?[e.isEmptyText(t.content)?r("div",{staticClass:"kds-empty-text kcp--bd-gray text-large color-red-dark"},[e._v("\n                                        Empty elements are excluded on export\n                                    ")]):r("RichtextPreview",{ref:"blockContentList",refInFor:!0,staticClass:"kcp-rich-content kio-break-word kds-break-word",class:[e.themeClasses.richContent],attrs:{content:t.content,froalaId:e.block.id}})]:["image","formula"].includes(t.subtype)?["placeholder"===t.content.provider?r("ElementPlaceholder",{attrs:{type:t.subtype,reduced:e.isMinorColumn(n),device:e.hasDeviceClass,mode:e.isExport?"export":"preview"}}):r("div",{ref:"blockContentList",refInFor:!0,staticClass:"kcp-asset-content",style:e.getInlineStyles(["padding"],e.block,t),attrs:{id:"image-"+t.id}},[r("figure",{staticClass:"kds-poster kds-poster--image",class:[e.aspectRatio(t.content.imageSize),e.themeClasses.images]},[r("div",{staticClass:"kds-poster-content"},[r("div",{class:[e.themeClasses.imagesOverlay,e.notFoundClasses(t)]},[r("ImageProcessor",{attrs:{alt:e.getAccessibility(t),type:"image",compress:"true",resize:"true",clip:"true",width:"1680",url:t.content.url,isLocal:e.isLocal(t),height:"948",align:"center",typeFile:t.content.type,imageSize:t.content.imageSize}})],1)])])])]:"progress"===t.subtype?[e._v("\n                                    --- progress block ---\n                                ")]:"video"===t.subtype&&t.content?["placeholder"===t.content.provider?r("ElementPlaceholder",{attrs:{type:t.subtype,reduced:e.isMinorColumn(n),device:e.hasDeviceClass,mode:e.isExport?"export":"preview"}}):r("div",{ref:"blockContentList",refInFor:!0,staticClass:"kcp-asset-content",style:e.checkType(t.subtype,e.block,t),attrs:{id:t.subtype+"-"+t.id,"data-type":t.subtype,"data-type-id":t.subtype+"-"+t.id}},[r("div",{staticClass:"kds-poster kds-poster--aspect-ratio-16x9"},[r("div",{staticClass:"kds-poster-content"},[r("VideoJS",{staticClass:"video",class:e.themeClasses.video,style:e.getInlineStyles(["padding"],e.block,t),attrs:{id:"media-"+t.id,type:"video",src:t.content.url,poster:t.content.poster,provider:t.content.provider,media:e.getMedia(t)}})],1)])])]:"widget"===t.subtype?r("A11y",e._b({attrs:{role:"Widget"}},"A11y",t.accessibility,!1),[t.content&&t.content.id&&!e.isExport&&!e.inThemeEditor?r("Widget",{attrs:{widgetId:t.content.id,addExtraWidgetProps:!0,reRenderOnDeviceChange:!0,widgetProps:{viewMode:e.isLocked?"exported":"editExported",composerRouter:e.$router,themeSettings:e.courseThemeSettings,deviceClass:e.hasDeviceClass},widgetTitle:t.content.name,widgetCaption:t.caption,showWidgetCaption:!0,showWidgetIntroduction:!0,addMetadataMargin:!0,hideTitleIfDisplayType:!e.isAssessmentOrActivity,showWidgetTitle:!e.isAssessmentOrActivity&&""!==t.content.name},on:{widgetLoaded:function(t){return e.$parent.$emit("widgetLoaded")},widgetLoading:function(t){return e.$parent.$emit("widgetLoading")},goToWidgetEditor:e.redirectToWidgetComposer}}):e._e(),e._v(" "),t.content&&t.content.id&&(e.isExport||e.inThemeEditor)?r("Widget",{ref:"blockContentList",refInFor:!0,staticClass:"kds-course-widget",attrs:{widgetType:t.widget.widgetType,widgetProps:{data:t.widget.data,settings:t.widget.settings,widgetType:t.widget.widgetType,widgetName:t.content.name,widgetId:t.widget.id,viewMode:"exported",themeSettings:e.courseThemeSettings},widgetTitle:t.content.name,widgetIntroduction:t.widget.introduction,widgetCaption:t.caption,showWidgetCaption:!0,showWidgetIntroduction:!0,addMetadataMargin:!0,hideTitleIfDisplayType:!e.isAssessmentOrActivity,showWidgetTitle:!e.isAssessmentOrActivity},on:{widgetLoaded:function(t){return e.$parent.$emit("widgetLoaded")},widgetLoading:function(t){return e.$parent.$emit("widgetLoading")},goToWidgetEditor:e.redirectToWidgetComposer}}):e._e()],1):"audio"===t.subtype?[r("div",{ref:"blockContentList",refInFor:!0,staticClass:"kcp-audio kcp-asset-content",style:e.checkType(t.subtype,e.block,t),attrs:{id:t.subtype+"-"+t.id,"data-type":t.subtype,"data-type-id":t.subtype+"-"+t.id}},["placeholder"===t.content.provider?r("div",{staticClass:"kds--bg-gray-F5 kds-centered kds-max-width--480px kds-height--80px kds-align-center kds-pt-20 kds-pb-20 kds-pr-16 kds-pl-16"},[r("IconCustom",{staticClass:"color-gray-71 kds-mr-16",attrs:{name:"knowbly-audio",size:"44"}}),e._v(" "),r("div",{staticClass:"text-large color-red-dark"},[e._v("\n                                                Empty elements are excluded on export\n                                            ")])],1):r("div",{staticClass:"kds-poster kds-poster--audio for-course",class:{"has-poster":e.hasPoster(t)}},[r("div",{staticClass:"kds-poster-content",attrs:{id:"audioPlayer"}},[r("VideoJS",{staticClass:"audio",class:e.themeClasses.audio,style:e.getInlineStyles(["padding"],e.block,t),attrs:{id:"media-"+t.id,name:t.content.name,poster:t.settings&&t.settings.showPoster?t.content.poster:"",type:"audio",src:t.content.url,provider:t.content.provider,media:e.getMedia(t)}})],1)])])]:"tables"===t.subtype?[r("RichtextPreview",{ref:"blockContentList",refInFor:!0,staticClass:"kcp-asset-content",attrs:{content:t.content,options:{onlyTable:!0},froalaId:e.block.id}})]:"attachment"===t.subtype?[r("div",{staticClass:"kds-align-start"},[r("div",{staticClass:"kcp-asset-content-left"},[r("KdsButton",{staticClass:"kds-fab kds-fab--lx kds-mr-8 kds-mt-8 for-course",class:[{"kds-mt-8 kds-mr-16":t.content.originalFilename},e.themeClasses.attachmentDownload],attrs:{htmlTag:e.hasAttachmentContent(t)?"a":"button",hideRipple:e.isExport,disabled:!e.hasAttachmentContent(t),downloadUrl:t.content&&t.content.url,downloadFilename:t.content&&t.content.name,downloadFileType:t.content&&t.content.type,icon:"cloud-download",weight:"fal",size:26},on:{click:function(e){e.stopPropagation()}}})],1),e._v(" "),r("div",{staticClass:"kds-width-full",class:e.isExport||t.content.exist||t.content.originalFilename?"kds-element-attachment":"kcp-asset-content kds-align-middle"},[e.isExport||t.content.exist||t.content.originalFilename?[t.content.title&&t.content.title.trim().length?r("h3",{staticClass:"kds-asset-attachment kio-break-word kds-break-word",class:"kds-h3 "+e.themeClasses.heading3,domProps:{innerHTML:e._s(t.content.title)}}):e._e(),e._v(" "),r("div",{staticClass:"kds-width-full kds-align-start",class:[e.themeClasses.attachmentFileName,{"kds-mt-8":!t.content.title}]},[r("AssetIcon",{staticClass:"kds-ml-4 kds-mt-4",attrs:{simpleName:t.content.type,size:16,isFa:!0}}),e._v(" "),r("div",{staticClass:"text-large-large kds-break-word kds-pl-10 kds-pr-8 kds-width-full kds-attachment-filename",class:e.themeClasses.attachmentFileName},[e._v("\n                                                        "+e._s(t.content.name)+"\n                                                    ")])],1)]:r("div",{staticClass:"kds--bg-gray-F5 kds-centered kds-width-full kds-height--70px kds-align-center kds-pt-16 kds-pb-16 kds-pr-16 kds-pl-16"},[r("div",{staticClass:"kds-attachment-filename kds-align-middle",class:e.themeClasses.attachmentFileName},[e.isMinorColumn(n)?e._e():r("IconCustom",{staticClass:"kds-mr-8 color-gray-71",attrs:{name:"knowbly-attachment",size:"40"}}),e._v(" "),r("div",{staticClass:"text-large color-red-dark"},[e._v("\n                                                        Empty elements are excluded on export\n                                                    ")])],1),e._v(" "),r("div",{staticClass:"kds-spacer",class:{"kds-ml-24":!e.isMinorColumn(n)}})])],2)])]:e._e(),e._v(" "),!e.hasTextAndElemForVerticalAlign&&e.hasCaption(t)&&e.block.children?r("CourseCaption",{key:t.id+"-caption",class:[{"for-audio":"audio"===t.subtype},{"for-attachment":"attachment"===t.subtype}],attrs:{params:e.block,index:n}}):e._e()],2)]),e._v(" "),"text"===t.subtype&&t.content&&"CARD_TITLE"===t.content.type?[r("div",{staticClass:"kds-ml-8 kds-mt-16",class:e.themeClasses.courseCardTitleRule,style:{height:"4px"}})]:e._e()],2)]}),e._v(" "),e._l(e.captionsForTextAndElem,function(t,n){return[r("div",{key:t.id+"-caption",staticClass:"col-xs-12 kds--relative",class:[e.layoutWeight(n)],style:1===n?e.secondBlockChildStyles:0===n?e.firstBlockChildStyles:null},[e.hasCaption(t)?r("div",{staticClass:"kds--relative kds-z--4 kds-centered",style:e.contentStyles},[r("CourseCaption",{class:[{"for-audio":"audio"===t.subtype},{"for-attachment":"attachment"===t.subtype}],attrs:{params:e.block,index:n}})],1):e._e()])]})],2)])]),e._v(" "),e.isBleed?r("div",{staticClass:"kds-block-with-styles-bleed kds-z--2",style:!e.isInThemeEditor&&e.bgOverlayStyles,attrs:{id:"block-bg-color-overlay"+e.block.id}}):e._e(),e._v(" "),e.isBleed?r("div",{staticClass:"kds-block-with-styles-bleed kds-z--1",style:!e.isInThemeEditor&&e.bgImageStyles,attrs:{id:"block-bg-image"+e.block.id}}):e._e(),e._v(" "),e.isInThemeEditor||e.isBleed?r("div",{staticClass:"kds-block-with-styles-bleed kds-z--0",class:e.themeClasses.courseBlocksBg,style:!e.isInThemeEditor&&e.bgColorStyles,attrs:{id:"block-bg-color"+e.block.id}}):e._e()])},[],!1,null,null,null).exports;function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach(function(t){dr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ur={components:{Icon:x},props:{course:{type:Object,required:!0},user:{type:Object,default:function(){},required:!1}},data:function(){return{isLock:!1}},computed:lr(lr({},Object(o.c)({inThemeEditor:"getIsInThemeEditor",getIsCardEnabled:"courseProgress/getIsCardEnabled",flags:"getFlags",isThemeNavigationUpdatesEnabled:"isThemeNavigationUpdatesEnabled"})),{},{getViewCourse:function(){return this.$store.getters.getViewCourse},getCardLockedById:function(){return this.$store.getters.getCardLockedById},isExport:function(){return!0}}),methods:{getIsButtonDisabled:function(e){return!(!this.inThemeEditor&&"edit"===this.getViewCourse)&&!this.getIsCardEnabled(e)},getThemeIconClass:function(e){return"lesson"===e?this.themeClasses.cardLessonIcon:"course"===e?this.themeClasses.cardStartIcon:"activity"===e?this.themeClasses.cardActivityIcon:"assessment"===e?this.themeClasses.cardAssessmentIcon:null},getSubtypeIcon:function(e){return T.getCourseIcon(e,this.flags)},getTitle:function(e){return T.getPageTitle(e)},isLocked:function(e){if(this.isExport)return!1;var t=this.getCardLockedById(e);return!Object(de.a)(t)&&t.blockerId!==this.user.id},TOCCLicked:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t&&(this.$store.commit("SET_CARD_MODULE_PARENT",r),this.$store.commit("SET_CARD_IS_FROM_MODULE",t)),this.$emit("TOCCLicked",e)}}};function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach(function(t){hr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gr={mixins:[N,ce],name:"StartCardComponent",components:{CourseTOCBlock:Object(w.a)(ur,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kcp-course-tiles kds-pb-56 kds-centered card-container",attrs:{id:"main"}},e._l(e.course.children,function(t,n){var i;return"start"!==t.subtype?r("div",{key:n,staticClass:"kcp-course-tile kcp-course-tile--mounted cards-drag",class:["item_"+t.type,"module"===t.type?"kds-pb-24":"kds-pb-32"],attrs:{"item-id":t.id,"item-type":t.type,"data-position":n,"item-has-parent":"false"}},["module"===t.type?r("div",{attrs:{sdas:n}},[r("div",{staticClass:"kcp-course-nav-module"},[r("p",{class:[e.themeClasses.paragraph,(i={},i[e.themeClasses.cardLabels]=e.isThemeNavigationUpdatesEnabled,i)]},[r(e.isThemeNavigationUpdatesEnabled?"div":"strongkcp-course-nav-tile__content-label",{tag:"component"},[r("span",{class:e.themeClasses.courseNavItemLabel},[e._v(" Module:")]),e._v("\n                        "+e._s(e.getTitle(t))+"\n                    ")])],1)]),e._v(" "),"module"===t.type?r("div",{staticClass:"kds--block",style:{height:t.children&&0!==t.children.length?"100%":"32px"},attrs:{id:"tunnel_"+t.id,"item-type":t.type,"item-id":t.id}},[r("div",{staticClass:"kcp-course-tile kcp-course-tile--mounted kds-pb-24 cards-drag fake-card"}),e._v(" "),e._l(t.children,function(n,i){return"module"!==n.type?r("ul",{key:i,staticClass:"no-bullet cards-drag",class:i===t.children.length-1?"kds-pb-6":"kds-pb-8",attrs:{id:"child_"+n.id,"item-type":n.type,"item-has-parent":!0,"item-parent-id":t.id,"item-siblings-size":t.children?t.children.length:0,"item-id":n.id}},[r("li",{staticClass:"kcp-course-nav-item kcp--b",class:[e.isThemeNavigationUpdatesEnabled?e.themeClasses.cardLabels:e.themeClasses.courseTOCItem,{"is-disabled":e.getIsButtonDisabled(n.id)}],attrs:{role:"button"},on:{click:function(r){return e.TOCCLicked(n.id,"module"===t.type,t.id)}}},[r("div",{staticClass:"kcp-course-nav-tile"},[r("figure",{staticClass:"kcp-course-nav-tile__icon"},[r("Icon",{class:[e.getThemeIconClass(n.subtype),e.isThemeNavigationUpdatesEnabled?null:e.themeClasses.courseTOCItemContent],attrs:{name:e.getSubtypeIcon(n.subtype),size:24}})],1),e._v(" "),r("div",{staticClass:"kcp-course-nav-tile__content"},[r("p",{staticClass:"kcp-course-nav-tile__content-title",class:[e.themeClasses.paragraph,e.isThemeNavigationUpdatesEnabled?null:e.themeClasses.courseTOCItemContent],attrs:{id:"item_"+n.id}},[e._v("\n                                    "+e._s(e.getTitle(n))+"\n                                ")])]),e._v(" "),e.isLock?r("div",{staticClass:"color-gray-BD kds-ml-16"},[r("Icon",{attrs:{name:"lock-alt",weight:"fas",size:24}})],1):r("div",{staticClass:"kds-align-middle color-gray-71 kds-ml-14 tools-action"},[e.isLocked(n.id)?r("span",{staticClass:"color-gray-BD kds-ml-10 kds-not-copy"},[r("Icon",{attrs:{name:"lock-alt",weight:"fas",size:24}})],1):e._e()])])])]):e._e()}),e._v(" "),r("div",{staticClass:"kcp-course-tile kcp-course-tile--mounted kds-pb-2 cards-drag fake-card"})],2):e._e()]):e._e(),e._v(" "),"module"!==t.type&&t.id&&"start"!==t.subtype?r("div",{staticClass:"kcp-course-nav-item kcp--b",class:[e.isThemeNavigationUpdatesEnabled?e.themeClasses.cardLabels:e.themeClasses.courseTOCItem,{"is-disabled":e.getIsButtonDisabled(t.id)}],attrs:{"item-has-parent":!1,role:"button"},on:{click:function(r){return e.TOCCLicked(t.id)}}},[r("div",{staticClass:"kcp-course-nav-tile",class:{"is-disabled":e.getIsButtonDisabled(t.id)}},[r("figure",{staticClass:"kcp-course-nav-tile__icon kds-ml-6"},[r("Icon",{class:[e.getThemeIconClass(t.subtype),e.isThemeNavigationUpdatesEnabled?null:e.themeClasses.courseTOCItemContent],attrs:{name:e.getSubtypeIcon(t.subtype),size:24}})],1),e._v(" "),r("div",{staticClass:"kcp-course-nav-tile__content"},[r("p",{staticClass:"kcp-course-nav-tile__content-title",class:[e.themeClasses.paragraph,e.isThemeNavigationUpdatesEnabled?null:e.themeClasses.courseTOCItemContent],attrs:{id:"item_"+t.id}},[e._v("\n                        "+e._s(e.getTitle(t))+"\n                    ")])]),e._v(" "),e.isLock?r("div",{staticClass:"color-gray-BD kds-ml-16"},[r("Icon",{attrs:{name:"lock-alt",weight:"fas",size:24}})],1):r("div",{staticClass:"kds-align-middle color-gray-71 kds-ml-14 tools-action"},[e.isLocked(t.id)?r("span",{staticClass:"color-gray-BD kds-ml-10 kds-not-copy",attrs:{"data-balloon-theme":"froala","data-balloon":"Locked","data-balloon-pos":"down"}},[r("Icon",{attrs:{name:"lock-alt",weight:"fas",size:24}})],1):e._e()])])]):e._e()]):e._e()}),0)},[],!1,null,null,null).exports,ProgressLinear:D},props:{blocks:{type:Array,default:function(){return[]}}},methods:mr(mr({},Object(o.b)({nextCard:"nextCard",toggleNav:"toggleNav"})),{},{hasBackground:ar.methods.hasBackground,getInlineStyles:ar.methods.getInlineStyles,onStartClick:function(){this.nextCard(),(this.isExport?window.innerWidth>768:"desktop"===this.deviceClass)&&this.toggleNav(!0)}}),created:function(){this.toggleNav(!1)},computed:mr(mr({},Object(o.c)({course:"getCourse",card:"getStartCard",globalProgress:"getGlobalProgress",courseTheme:"getCoursePreviewTheme",isInThemeEditor:"getIsInThemeEditor",startButtonMessage:"getstartButtonMessage",courseThemeSettings:"getCoursePreviewThemeSettings",themeUtils:"themeUtils",deviceClass:"deviceClass",roundedCourseProgress:"courseProgress/roundedCourseProgress"})),{},{isExport:function(){return!0},user:function(){return this.isExport?{}:this.$store.state.auth.user},block:function(){return mr(mr({},this.card),{},{settings:this.card.metadata&&this.card.metadata.settings,isTitleBlock:!0})},blockSettings:ar.computed.blockSettings,blockThemeSettings:ar.computed.blockThemeSettings,blockSettingsStyles:ar.computed.blockSettingsStyles,isBleed:ar.computed.isBleed,backgroundImage:ar.computed.backgroundImage,overlayColor:ar.computed.overlayColor,overlayOpacity:ar.computed.overlayOpacity,backgroundColor:ar.computed.backgroundColor,containerStyles:ar.computed.containerStyles,contentStyles:ar.computed.contentStyles,bgColorStyles:ar.computed.bgColorStyles,bgImageStyles:ar.computed.bgImageStyles,bgOverlayStyles:ar.computed.bgOverlayStyles,isExported:function(){return this.isExport?{position:"initial"}:""},courseProgress:function(){return this.roundedCourseProgress}})},fr=Object(w.a)(gr,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"start-card"},[r("div",{staticClass:"kds-course-block",class:e.themeClasses.courseStartBlock,style:e.containerStyles},[r("div",{staticClass:"kds-course-block__wrap kds--relative kds-z--3 start-block-title"},[r("div",{staticClass:"kds-course-block-impact"},[r("div",{staticClass:"kds-course-block-impact__container kds--relative start"},[e.isInThemeEditor||!e.isBleed?r("div",{staticClass:"kds-block-with-styles kds-z--1",class:e.themeClasses.courseStartBlockContentBg,style:!e.isInThemeEditor&&e.bgColorStyles,attrs:{id:"block-bg-color"+e.block.id}}):e._e(),e._v(" "),e.isInThemeEditor||!e.isBleed?r("div",{staticClass:"kds-block-with-styles kds-z--2",class:e.themeClasses.courseStartBlockContentBgImage,style:!e.isInThemeEditor&&e.bgImageStyles,attrs:{id:"block-bg-image"+e.block.id}}):e._e(),e._v(" "),e.isInThemeEditor||!e.isBleed?r("div",{staticClass:"kds-block-with-styles kds-z--2",class:e.themeClasses.courseStartBlockContentOverlay,style:!e.isInThemeEditor&&e.bgOverlayStyles,attrs:{id:"block-bg-color-overlay"+e.block.id}}):e._e(),e._v(" "),r("div",{staticClass:"kds--relative kds-z--3",style:e.contentStyles},[r("h1",{staticClass:"kds-align-center kds-break-word-with-hyphens kds-text-center",class:e.themeClasses.title},[e._v("\n                            "+e._s(e.course.metadata.title)+"\n                        ")]),e._v(" "),r("div",{staticClass:"kds-align-center kds-mt-26"},[r("button",{staticClass:"kds-min-width--64px",class:[e.themeClasses.buttonText,e.themeClasses.courseStartButton],attrs:{type:"button",disabled:100===e.courseProgress},on:{click:e.onStartClick}},[e._v("\n                                "+e._s(e.startButtonMessage)+"\n                            ")])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.courseProgress,expression:"courseProgress"}],staticClass:"kcp-global-progress-bar-container",style:e.isExported},[r("ProgressLinear",{attrs:{height:24,value:e.courseProgress,showPercentage:!0,minWidth:50}})],1)])])])]),e._v(" "),e.isInThemeEditor||e.isBleed?r("div",{staticClass:"kds-block-with-styles-bleed kds-z--2",class:e.themeClasses.courseStartBlockOverlay,style:!e.isInThemeEditor&&e.bgOverlayStyles,attrs:{id:"block-bg-color-overlay"+e.block.id}}):e._e(),e._v(" "),e.isInThemeEditor||e.isBleed?r("div",{staticClass:"kds-block-with-styles-bleed kds-z--1",class:e.themeClasses.courseStartBlockBgImage,style:!e.isInThemeEditor&&e.bgImageStyles,attrs:{id:"block-bg-image"+e.block.id}}):e._e(),e._v(" "),e.isInThemeEditor||e.isBleed?r("div",{staticClass:"kds-block-with-styles-bleed kds-z--0",class:e.themeClasses.courseStartBlockBg,style:!e.isInThemeEditor&&e.bgColorStyles,attrs:{id:"block-bg-color"+e.block.id}}):e._e()]),e._v(" "),e._t("blocks"),e._v(" "),r("CourseTOCBlock",{attrs:{course:e.course,card:e.card,user:e.user},on:{TOCCLicked:e.handleClick}})],2)},[],!1,null,null,null).exports,br=r(246),vr=r(243);function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(r),!0).forEach(function(t){kr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wr={props:{blocks:{type:Array,default:function(){return[]}}},computed:Cr({},Object(o.c)({activeCard:"getActiveCard",widgets:"getCardWidgetProgress"})),watch:{widgets:{handler:function(){this.calculateProgress()},deep:!0}},methods:Cr(Cr({},Object(o.b)({changeActiveCardProgress:"changeActiveCardProgress"})),{},{calculateProgress:function(){if("lesson"===this.activeCard.subtype){var e=100/(Object(Ht.a)(this.widgets)+1)/100,t=this.scroll*e;Object(I.a)(this.widgets,function(r){var n=r.progress;t+=e*n}),this.changeActiveCardProgress(Object(vr.a)(t,2))}else{var r=0;Object(I.a)(this.widgets,function(e){var t=e.progress;r+=t}),this.changeActiveCardProgress(Object(vr.a)(r,2))}}})},Or=r(422),Er=r.n(Or);function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach(function(t){Pr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Pr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tr={mixins:[ce,wr],name:"LessonPreview",computed:Ir(Ir(Ir({},Object(o.c)({isNavOpen:"isNavOpen",scroll:"currentScroll",widgets:"getCardWidgetProgress"})),Object(o.d)({deviceClass:function(e){return e.widget?e.widget.device:"desktop"}})),{},{hasWidgets:function(){return this.activeCard&&this.activeCard.children&&this.activeCard.children.some(function(e){return e.children&&e.children.some(function(e){return"widget"===e.subtype})})}}),data:function(){return{progressConfigured:!1,widgetsLoading:0}},props:{cardLoaded:{type:Boolean,required:!0,default:!1}},watch:{blocks:function(){var e=this;this.$nextTick(function(){e.hasWidgets||e.configureCardProgress()})},scroll:function(){this.calculateProgress()},isNavOpen:function(e){e||this.progressConfigured||"mobilePortrait"!==this.deviceClass||this.configureCardProgress()}},beforeDestroy:function(){this.configureCardProgress.cancel(),this.updateCourseScrollProgress.cancel(),$(this.scrollOwnerSelector).off("scroll.courseProgress"),$(".js-card-container-scroll").off("DOMSubtreeModified"),this.$off("widgetLoaded"),this.$off("widgetLoading")},mounted:function(){this.initializeCard()},created:function(){var e=this;this.$on("widgetLoaded",function(){var e=this;this.widgetsLoading--,this.$nextTick(function(){e.widgetsLoading<1&&e.configureCardProgress(!0)})}),this.$on("widgetLoading",function(){this.widgetsLoading++}),this.updateCourseScrollProgress=Object(br.a)(function(){var t=$(".js-card-container-scroll"),r=$(e.scrollOwnerSelector),n=r.scrollTop(),i=Math.abs(t.height()-5),s=r.height(),o=Math.abs(n/(i-s)*100);o>e.scroll&&(o>=100?(e.setScroll(100),r.off("scroll.courseProgress")):e.setScroll(o))},200),this.configureCardProgress=Object(br.a)(function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$nextTick(function(){if("mobilePortrait"!==e.deviceClass||!e.isNavOpen&&"mobilePortrait"===e.deviceClass){var r=$(".js-card-container-scroll"),n=$(e.scrollOwnerSelector),i=r.height(),s=n.height();i+(n[0].scrollHeight-s)<=s?(e.progressConfigured=!0,e.setScroll(100)):100!==e.scroll&&(e.progressConfigured=!0,n.on("scroll.courseProgress",e.updateCourseScrollProgress),t&&e.updateCourseScrollProgress())}})},800,{leading:!1,trailing:!0})},methods:{setScroll:function(e){this.$store.commit("SET_CARD_SCROLL_PROGRESS",Object(vr.a)(e,2))},initializeCard:function(){Er.a.makeJQueryPlugin($),$(this.$el).imagesLoaded(this.initConfig)},initConfig:function(){var e=this;$(this.scrollOwnerSelector).scrollTop(0),this.hasWidgets||(this.configureCardProgress(),$(".js-card-container-scroll").one("DOMSubtreeModified",function(){e.configureCardProgress()}))}}},_r=Object(w.a)(Tr,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"js-lessontype-scroll-container"},[this._t("navigation"),this._v(" "),this._t("blocks"),this._v(" "),this._t("nextBtn")],2)},[],!1,null,null,null).exports,xr={name:"WidgetCard",mixins:[wr]},jr=Object(w.a)(xr,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"js-lessontype-scroll-container"},[this._t("navigation"),this._v(" "),this._t("blocks"),this._v(" "),this._t("nextBtn")],2)},[],!1,null,null,null).exports,Dr=r(203);Dr.a.mounted;var Rr={name:"CustomIntersect",mixins:[function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(Dr.a,["mounted"])],data:function(){return{hasMounted:!1,hasBeenEnabled:!1}},props:{isEnabled:{type:Boolean,default:!0}},watch:{isEnabled:function(e,t){var r=this;this.$nextTick(function(){e&&!t&&(r.hasBeenEnabled=!0,r.hasMounted&&r.observer.observe(r.$slots.default[0].elm))})}},mounted:function(){var e=this;this.$nextTick(function(){if(e.$slots.default&&e.$slots.default.length>1)warn("[VueIntersect] You may only wrap one element in a <intersect> component.");else if(!e.$slots.default||e.$slots.default.length<1)return void warn("[VueIntersect] You must have one child inside a <intersect> component.");(e.isEnabled||e.hasBeenEnabled)&&e.observer.observe(e.$slots.default[0].elm),e.hasMounted=!0}),this.$emit("update:observer",this.observer)}},Br=Object(w.a)(Rr,void 0,void 0,!1,null,null,null).exports,Lr={components:{CustomIntersect:Br},props:{isEnabled:{type:Boolean,default:!0}},data:function(){return{root:null,handleScroll:null,destroyed:!1}},beforeDestroy:function(){h&&this.handleDestroy()},methods:{handleEnter:function(){this.$emit("enter"),h&&this.handleDestroy()},handleObserver:function(e){h&&(this.root=document.querySelector(".js-lessontype-scroll-container"),e.root=this.root,this.handleScroll=function(){e._checkForIntersections()},this.root.addEventListener("scroll",this.handleScroll))},handleDestroy:function(){this.destroyed||(this.root.removeEventListener("scroll",this.handleScroll),this.root=null,this.destroyed=!0)}}},Ar=Object(w.a)(Lr,function(){var e=this,t=e.$createElement;return(e._self._c||t)("CustomIntersect",{attrs:{isEnabled:e.isEnabled,threshold:[0]},on:{"~enter":function(t){return e.handleEnter(t)},"update:observer":e.handleObserver}},[e._t("default")],2)},[],!1,null,null,null).exports;function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach(function(t){Mr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fr={components:{IntersectWithRoot:Ar,IconCustom:_t,KdsButton:er,AssetIcon:Bt},props:{index:{type:Number,required:!0},element:{type:Object,required:!0},block:{type:Object,required:!0}},computed:zr(zr({},Object(o.c)({elementSeenIds:"courseProgress/elementSeenIds"})),{},{isExport:function(){return!0},isMinorColumn:function(){return"minor"===this.block.metadata.layout.split("-")[this.index]},hasAttachmentContent:function(){return this.element.content&&this.element.content.url},hasFakeAttachmentContent:function(){return this.element.content&&this.element.content.url&&"#"===this.element.content.url}}),methods:{handleClick:function(e){this.hasFakeAttachmentContent&&e.preventDefault()},emitCompleted:function(){this.elementSeenIds.includes(this.element.id)||(this.$emit("progress",{elementId:this.element.id,value:100}),this.$emit("seen",{elementId:this.element.id}))}}},$r=Object(w.a)(Fr,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("IntersectWithRoot",{on:{enter:e.emitCompleted}},[r("div",{staticClass:"kds-align-start",class:e.themeClasses.attachment},[r("div",{staticClass:"kcp-asset-content-left"},[r("KdsButton",{staticClass:"kds-fab kds-fab--lx kds-mr-8 kds-mt-8 for-course",class:[{"kds-mt-8 kds-mr-16":e.element.content.originalFilename},e.themeClasses.attachmentDownload],attrs:{htmlTag:e.hasAttachmentContent?"a":"button",hideRipple:e.isExport,disabled:!e.hasAttachmentContent,downloadUrl:e.element.content&&e.element.content.url,downloadFilename:e.element.content&&e.element.content.name,downloadFileType:e.element.content&&e.element.content.type,icon:"cloud-download",weight:"fal",size:26},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}})],1),e._v(" "),r("div",{staticClass:"kds-width-full",class:e.isExport||e.element.content.exist||e.element.content.originalFilename?"kds-element-attachment":"kcp-asset-content kds-align-middle"},[e.isExport||e.element.content.exist||e.element.content.originalFilename?[e.element.content.title&&e.element.content.title.trim().length?r("h3",{staticClass:"kds-asset-attachment kds-break-word-with-hyphens",class:["kds-h3",e.themeClasses.heading3,e.themeClasses.attachmentLabel],domProps:{innerHTML:e._s(e.element.content.title)}}):e._e(),e._v(" "),r("div",{staticClass:"kds-width-full kds-align-start",class:[e.themeClasses.attachmentFileName,{"kds-mt-8":!e.element.content.title}]},[r("AssetIcon",{staticClass:"kds-ml-4 kds-mt-4",attrs:{simpleName:e.element.content.type,size:16,isFa:!0}}),e._v(" "),r("div",{staticClass:"text-large-large kds-break-word-with-hyphens kds-pl-10 kds-pr-8 kds-width-full kds-attachment-filename",class:e.themeClasses.attachmentFileName},[e._v("\n                        "+e._s(e.element.content.name)+"\n                    ")])],1)]:r("div",{staticClass:"kds--bg-gray-F5 kds-centered kds-width-full kds-height--70px kds-align-center kds-pt-16 kds-pb-16 kds-pr-16 kds-pl-16"},[r("div",{staticClass:"kds-attachment-filename kds-align-middle",class:e.themeClasses.attachmentFileName},[e.isMinorColumn?e._e():r("IconCustom",{staticClass:"kds-mr-8 color-gray-71",attrs:{name:"knowbly-attachment",size:"40"}}),e._v(" "),r("div",{staticClass:"text-large color-red-dark"},[e._v("\n                        Empty elements are excluded on export\n                    ")])],1),e._v(" "),r("div",{staticClass:"kds-spacer",class:{"kds-ml-24":!e.isMinorColumn}})])],2)])])},[],!1,null,null,null).exports,Wr={props:{pageTitle:{type:String,default:null},isEditable:{type:Boolean,default:!1},showUntitled:{type:Boolean,default:!0},cardType:{type:String,default:""}},computed:{title:function(){return this.showUntitled?T.getPageTitle({subtype:this.cardType,title:this.pageTitle}):this.pageTitle}}},Ur=Object(w.a)(Wr,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isEditable||0===e.title.length?e._t("default",null,{title:e.title}):r("div",{staticClass:"kcp-rich-content kds-break-word-with-hyphens"},[r("h1",{class:[e.themeClasses.title,e.themeClasses.courseCardTitle],domProps:{innerHTML:e._s(e.title)}})])],2)},[],!1,null,null,null).exports;function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(r),!0).forEach(function(t){Hr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gr={name:"ElementRichText",components:{PageLabelPreview:qt,RichtextPreview:De,PageTitlePreview:Ur,IntersectWithRoot:Ar},props:{element:{type:Object,required:!0},block:{type:Object,required:!0},card:{type:Object,required:!0}},data:function(){return{isIntersectEnabled:!1}},computed:Vr(Vr({},Object(o.c)({elementSeenIds:"courseProgress/elementSeenIds"})),{},{isCardTitle:function(){var e;return"CARD_TITLE"===(null===(e=this.element.content)||void 0===e?void 0:e.type)},isEmptyText:function(){return function(e){var t=document.createElement("div");return t.innerHTML=e,""===t.textContent.trim()&&""===t.innerText.trim()&&t.querySelectorAll(["hr","img","table"].join(",")).length<=0}(this.element.content)},cardTitle:function(){return T.getPageTitle(this.card)}}),methods:{emitCompleted:function(){this.isCardTitle||this.elementSeenIds.includes(this.element.id)||(this.$emit("progress",{elementId:this.element.id,value:100}),this.$emit("seen",{elementId:this.element.id}))}}},Yr=Object(w.a)(Gr,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("IntersectWithRoot",{attrs:{isEnabled:e.isIntersectEnabled||e.isCardTitle||e.isEmptyText},on:{enter:e.emitCompleted}},[r("div",{staticClass:"kds-width-full"},["tables"===e.element.subtype?[r("RichtextPreview",{staticClass:"kcp-asset-content",attrs:{content:e.element.content,options:{onlyTable:!0},froalaId:e.block.id},on:{imagesPartialLoaded:function(t){e.isIntersectEnabled=!0}}})]:"text"===e.element.subtype?[e.isCardTitle?[r("PageLabelPreview",{staticClass:"kcp-asset-content-left",attrs:{cardType:e.card.subtype}}),e._v(" "),r("PageTitlePreview",{attrs:{pageTitle:e.cardTitle,cardType:e.card.subtype}}),e._v(" "),r("div",{staticClass:"kds-ml-8 kds-mt-16",class:e.themeClasses.courseCardTitleRule,style:{height:"4px"}})]:[e.isEmptyText?r("div",{staticClass:"kds-empty-text kcp--bd-gray text-large color-red-dark"},[e._v("\n                    Empty elements are excluded on export\n                ")]):r("RichtextPreview",{staticClass:"kcp-rich-content kds-break-word-with-hyphens",class:[e.themeClasses.richContent],attrs:{content:e.element.content,froalaId:e.block.id},on:{imagesPartialLoaded:function(t){e.isIntersectEnabled=!0}}})]]:e._e()],2)])},[],!1,null,null,null).exports;function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach(function(t){Kr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qr(e,t,r,n,i){var s={};if(Object(me.a)(e)){if(t.settings&&t.settings.styles){e=n?["border-color","border-width","border-style","background-color","padding-top","padding-bottom"]:e;var o=i?t.settings.overlayColor?t.settings.overlayColor:[]:t.settings.styles;Object(I.a)(e,function(e){["padding-bottom","padding-top"].includes(e)?"0"!==o[e]&&(s[e]=o[e]):s[e]=o[e]}),n&&(s=Object(he.a)(s,["background-image"]))}r&&r.settings&&r.settings.styles&&(s=Object(ge.a)(s,r.settings.styles),this.hasChildPadding(r)||delete s.padding)}return Object(fe.a)(s,function(e,t){return Object(be.a)(t)})}var Zr={name:"ElementMedia",components:{IntersectWithRoot:Ar,ElementPlaceholder:rr,ImageProcessor:Oe,VideoJS:Te.VideoJS,IconCustom:_t},props:{index:{type:Number,required:!0},element:{type:Object,required:!0},block:{type:Object,required:!0}},data:function(){return{minHeight:{}}},mounted:function(){this.getMinHeight()},computed:{isExport:function(){return!0},isMinorColumn:function(){return"minor"===this.block.metadata.layout.split("-")[this.index]},placeholderMode:function(){return this.isExport?"export":"preview"},inlineStyles:function(){return Qr(["padding"],this.block,this.element)},styles:function(){return function(e,t,r){return("video"===e||"audio"===e)&&Qr(["padding"],t,r)}(this.element.subtype,this.block,this.element)},aspectRatio:function(){return Pe.getAspectRatioClass(this.element.content.imageSize)},notFoundClasses:function(){return this.isExport&&this.element.content&&this.element.content.url&&window.notFoundImages&&window.notFoundImages.includes(this.element.content.url.split("/")[2])?"o-backup-img":null},accessibilityAlt:function(){return this.element.accessibility?this.element.accessibility.altText:""},isLocal:function(){return this.element.content&&this.element.content.url&&this.element.content.url.includes("assets/")},hasDeviceClass:function(){return this.$store.getters.deviceClass||""},hasPoster:function(){return!(!Object(le.a)(this.element,"content.poster.desktop.url")&&!Object(le.a)(this.element,"content.poster.url"))},media:function(){return Xr(Xr({},this.element.content),{},{a11y:Xr(Xr({},this.element.accessibility),{},{captions:Object(le.a)(this.element,"content.a11y.captions")})})}},inject:["openEnlargeImageModal","closeEnlargeImageModal"],methods:{showFullscreen:function(e){this.openEnlargeImageModal(e.content)},closeModal:function(){this.closeEnlargeImageModal()},emitCompleted:function(){this.$emit("progress",{elementId:this.element.id,value:100}),this.$emit("seen",{elementId:this.element.id})},handleProgress:function(e){e>=99&&this.emitCompleted()},getMinHeight:function(){if("image"===this.element.subtype&&this.element.content.imageSize&&this.$refs.container){var e=this.element.content.imageSize,t=e.width,r=e.height,n=this.$refs.container.clientWidth*r/t;this.minHeight={minHeight:Math.floor(n)+"px"}}}}},en=Object(w.a)(Zr,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kds-width-full"},[["image","formula"].includes(e.element.subtype)?["placeholder"===e.element.content.provider?r("IntersectWithRoot",{on:{enter:e.emitCompleted}},[r("ElementPlaceholder",{attrs:{type:e.element.subtype,reduced:e.isMinorColumn,device:e.hasDeviceClass,mode:e.placeholderMode}})],1):r("IntersectWithRoot",{on:{enter:e.emitCompleted}},[r("div",{staticClass:"kcp-asset-content kds-c--pointer",style:e.inlineStyles,attrs:{id:"image-"+e.element.id},on:{click:function(t){return e.showFullscreen(e.element)}}},[r("figure",{staticClass:"kds-poster kds-poster--image",class:[e.aspectRatio,e.themeClasses.images]},[r("div",{ref:"container",staticClass:"kds-poster-content",style:e.minHeight},["image"===e.element.subtype?r("resize-observer",{on:{notify:e.getMinHeight}}):e._e(),e._v(" "),r("div",{class:[e.themeClasses.imagesOverlay,e.notFoundClasses]},[r("ImageProcessor",{attrs:{alt:e.accessibilityAlt,type:"image",compress:"true",resize:"true",clip:"true",width:"1680",url:e.element.content.url,isLocal:e.isLocal,height:"948",align:"center",typeFile:e.element.content.type,imageSize:e.element.content.imageSize}})],1)],1)])])])]:"video"===e.element.subtype&&e.element.content?["placeholder"===e.element.content.provider?r("IntersectWithRoot",{on:{enter:e.emitCompleted}},[r("ElementPlaceholder",{attrs:{type:e.element.subtype,reduced:e.isMinorColumn,device:e.hasDeviceClass,mode:e.placeholderMode}})],1):r("div",{staticClass:"kcp-asset-content",style:e.styles,attrs:{id:e.element.subtype+"-"+e.element.id,"data-type":e.element.subtype,"data-type-id":e.element.subtype+"-"+e.element.id}},[r("div",{staticClass:"kds-poster kds-poster--aspect-ratio-16x9"},[r("div",{staticClass:"kds-poster-content"},[r("VideoJS",{staticClass:"video",class:e.themeClasses.video,style:e.inlineStyles,attrs:{id:"media-"+e.element.id,type:"video",src:e.element.content.url,poster:e.element.content.poster,provider:e.element.content.provider,media:e.media},on:{progress:e.handleProgress}})],1)])])]:"audio"===e.element.subtype?r("div",{staticClass:"kcp-audio kcp-asset-content",style:e.styles,attrs:{id:e.element.subtype+"-"+e.element.id,"data-type":e.element.subtype,"data-type-id":e.element.subtype+"-"+e.element.id}},["placeholder"===e.element.content.provider?r("IntersectWithRoot",{on:{enter:e.emitCompleted}},[r("div",{staticClass:"kds--bg-gray-F5 kds-centered kds-max-width--480px kds-height--80px kds-align-center kds-pt-20 kds-pb-20 kds-pr-16 kds-pl-16"},[r("IconCustom",{staticClass:"color-gray-71 kds-mr-16",attrs:{name:"knowbly-audio",size:"44"}}),e._v(" "),r("div",{staticClass:"text-large color-red-dark"},[e._v("Empty elements are excluded on export")])],1)]):r("div",{staticClass:"kds-poster kds-poster--audio for-course",class:{"has-poster":e.hasPoster}},[r("div",{staticClass:"kds-poster-content",attrs:{id:"audioPlayer"}},[r("VideoJS",{staticClass:"audio",class:e.themeClasses.audio,style:e.inlineStyles,attrs:{id:"media-"+e.element.id,name:e.element.content.name,poster:e.element.settings&&e.element.settings.showPoster?e.element.content.poster:"",type:"audio",src:e.element.content.url,provider:e.element.content.provider,media:e.media},on:{progress:e.handleProgress}})],1)])],1):e._e()],2)},[],!1,null,null,null).exports,tn={functional:!0,props:{disabled:{type:Boolean,required:!0}},render:function(e,t){var r,n,i=t.props.disabled;return e("div",{class:"kcp-ElementProgress"},[e("button",{class:["kcp-ElementProgress__button",t.parent.themeClasses.progressBlockButton,i?"is-disabled":""],attrs:{type:"button"},on:{click:null!==(r=null===(n=t.listeners)||void 0===n?void 0:n.click)&&void 0!==r?r:function(){}}},[t.children])])}},rn=(r(698),Object(w.a)(tn,void 0,void 0,!1,null,null,null).exports),nn={functional:!0,props:{block:{type:Object,required:!0},element:{type:Object,required:!0}},render:function(e,t){var r=t.parent.$store,n=t.props,i=n.element,s=n.block,o=r.getters["courseProgress/getIsBlockCompleted"](s.id),a=o?i.settings.completeLabel:i.settings.incompleteLabel,c=!o,l=r.getters["courseProgress/getShowProgressWarning"];c||l!==s.id||r.dispatch("courseProgress/showProgressWarning",!1);return e(rn,{on:{click:function(){c?r.dispatch("courseProgress/showProgressWarning",s.id):r.dispatch("courseProgress/addProgressElementIdCheckedList",i.id)}},attrs:{disabled:c}},[a])}},sn=Object(w.a)(nn,void 0,void 0,!1,null,null,null).exports,on={components:{CustomIntersect:Br},data:function(){return{root:null,handleScroll:null,destroyed:!1}},beforeDestroy:function(){h&&this.handleDestroy()},methods:{handleEnter:function(){this.$emit("enterInteraction"),h&&this.handleDestroy()},handleLeave:function(){this.$emit("leaveInteraction"),h&&this.handleDestroy()},handleObserver:function(e){h&&(this.root=document.querySelector(".js-lessontype-scroll-container"),e.root=this.root,this.handleScroll=function(){e._checkForIntersections()},this.root.addEventListener("scroll",this.handleScroll))},handleDestroy:function(){this.destroyed||(this.root.removeEventListener("scroll",this.handleScroll),this.root=null,this.destroyed=!0)}}};function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?an(Object(r),!0).forEach(function(t){ln(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dn={components:{IntersectWithRoot:Ar,IntersectWithRootInteractions:Object(w.a)(on,function(){var e=this.$createElement,t=this._self._c||e;return t("CustomIntersect",{on:{enter:this.handleEnter,"update:observer":this.handleObserver,leave:this.handleLeave}},[t("div",[this._t("default")],2)])},[],!1,null,null,null).exports,Widget:Wt,A11y:Ct},props:{element:{type:Object,required:!0},block:{type:Object,required:!0},card:{type:Object,required:!0}},computed:cn(cn(cn({},Object(o.c)({courseThemeSettings:"getCoursePreviewThemeSettings",elementScoreById:"courseScore/elementScoreById",elementProgressById:"courseProgress/elementProgressById"})),Object(o.d)({inThemeEditor:function(e){return e.coursePreview.inThemeEditor},currentUser:function(e){return e.auth.user}})),{},{viewCourse:function(){return this.$store.getters.getViewCourse},isExport:function(){return!0},isLocked:function(){return!this.isExport&&this.card.id===this.$route.params.cardId&&!Object(de.a)(this.card.locked)&&this.card.locked.blockerId!==this.currentUser.id},hasDeviceClass:function(){return this.$store.getters.deviceClass||""},isAssessmentOrActivity:function(){return"assessment"===this.card.subtype||"activity"===this.card.subtype},widgetSuspendData:function(){if(this.isAssessmentOrActivity&&this.card.suspendData&&this.card.suspendData.widget){var e=this.card,t=e.score,r=e.progress,n=e.suspendData;return{score:t||this.elementScoreById[this.element.id],progress:r||this.elementProgressById[this.element.id],widget:n.widget}}}}),methods:{redirectToWidgetComposer:function(){var e=Object(ue.a)(this.block.children).content,t="course-widget";e.template&&(t=e.template.toLowerCase().replace("/","")),this.$store.commit("SET_FROM_ROUTE",Object(pe.a)(this.$route,"name","params")),this.$router.push({path:"/wc/".concat(t,"/").concat(e.id,"?from=").concat(this.$route.fullPath)})},handleProgress:function(e){this.$emit("progress",{elementId:this.element.id,value:e})},handleScore:function(e){this.$emit("score",{elementId:this.element.id,value:e})},handleSeen:function(){this.$emit("seen",{elementId:this.element.id})},handleWidgetSuspendData:function(e){this.$store.commit("SET_WIDGET_SUSPEND_DATA",e)},recordInteraction:function(e){e.cardId=this.card.id,this.$store.dispatch("handleRecordInteraction",e)},leaveInteraction:function(){if("widget"===this.element.subtype&&this.$refs.widget&&this.$refs.widget.$refs.widgetComponent)switch(this.$refs.widget.widgetMode){case"hotspots":case"flashcards":this.$refs.widget.$refs.widgetComponent.stopRecordingLatency()}}}},un=Object(w.a)(dn,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("A11y",e._b({attrs:{role:"Widget"}},"A11y",e.element.accessibility,!1),[r("IntersectWithRoot",{on:{enter:e.handleSeen}},[r("div",{staticStyle:{height:"1px",width:"100vw",position:"absolute",top:"0",left:"0","pointer-events":"none"}})]),e._v(" "),r("IntersectWithRootInteractions",{on:{leaveInteraction:e.leaveInteraction}},[e.element.content&&e.element.content.id&&!e.isExport&&!e.inThemeEditor?r("Widget",{ref:"widget",attrs:{widgetId:e.element.content.id,addExtraWidgetProps:!0,reRenderOnDeviceChange:!0,widgetProps:{viewMode:e.isLocked||"preview"===e.viewCourse?"exported":"editExported",composerRouter:e.$router,themeSettings:e.courseThemeSettings,deviceClass:e.hasDeviceClass},widgetTitle:e.element.content.name,widgetCaption:e.element.caption,showWidgetCaption:!0,showWidgetIntroduction:!0,addMetadataMargin:!0,hideTitleIfDisplayType:!e.isAssessmentOrActivity,showWidgetTitle:!e.isAssessmentOrActivity&&""!==e.element.content.name},on:{widgetLoaded:function(t){return e.$emit("widgetLoaded")},widgetLoading:function(t){return e.$emit("widgetLoading")},goToWidgetEditor:e.redirectToWidgetComposer,progress:e.handleProgress}}):e.element.content&&e.element.content.id&&(e.isExport||e.inThemeEditor)?r("Widget",{ref:"widget",staticClass:"kds-course-widget",attrs:{widgetType:e.element.widget.widgetType,widgetProps:{data:e.element.widget.data,settings:e.element.widget.settings,widgetType:e.element.widget.widgetType,widgetName:e.element.content.name,widgetId:e.element.widget.id,viewMode:"exported",themeSettings:e.courseThemeSettings,widgetIntroduction:e.element.widget.introduction},widgetTitle:e.element.content.name,widgetIntroduction:e.element.widget.introduction,widgetCaption:e.element.caption,showWidgetCaption:!0,showWidgetIntroduction:!0,addMetadataMargin:!0,hideTitleIfDisplayType:!e.isAssessmentOrActivity,showWidgetTitle:!e.isAssessmentOrActivity,widgetSuspendData:e.widgetSuspendData},on:{widgetLoaded:function(t){return e.$emit("widgetLoaded")},widgetLoading:function(t){return e.$emit("widgetLoading")},goToWidgetEditor:e.redirectToWidgetComposer,progress:e.handleProgress,score:e.handleScore,widgetSuspendData:e.handleWidgetSuspendData,recordInteraction:e.recordInteraction}}):r("IntersectWithRoot",{on:{enter:function(t){e.handleProgress(100),e.handleScore(100)}}},[r("div")])],1)],1)},[],!1,null,null,null).exports,pn={functional:!0,props:{elementType:{type:Object,required:!0},viewMode:{type:String,required:!0},simpleName:{type:String,required:!1}},render:function(e,t){var r=t.props,n=r.elementType,i=r.viewMode,s=r.asset,o=r.simpleName,a="exported"===i,c=!!n.templateSlug;return e(Pt,{class:["WarningElementPlaceholder"],style:t.data.style||t.data.staticStyle},[a?e("p",{class:"WarningElementPlaceholder__alert"},[e("strong",["Content must be added or this"," ",c?"widget":"".concat(n.name).concat(n.nameSuffix)," will be excluded on export"])]):null,e(Bt,{class:"WarningElementPlaceholder__icon",attrs:{asset:s,simpleName:o}}),e("p",["Your ",e("strong",[n.name]),n.nameSuffix," needs some love!"]),t.scopedSlots.default&&t.scopedSlots.default()])}},mn=(r(700),Object(w.a)(pn,void 0,void 0,!1,null,"cd73662a",null).exports),hn={name:"ElementEmbed",props:{element:{type:Object,required:!0},block:{type:Object,required:!0},courseEdit:{type:Boolean,default:!1}},components:{IntersectWithRoot:Ar,ElementWarningPlaceholder:mn},computed:{state:function(){return this.element.content.value?this.element.content.type:"EMPTY"},styles:function(){var e=this.element.settings||b,t=e.width,r=e.height;return{width:"calc(".concat(t.value).concat(t.unit," + 18px)"),height:"calc(".concat(r.value).concat(r.unit," + 18px)")}}},watch:{"element.content.value":{handler:function(){var e=this;"CODE"===this.state&&this.$nextTick(function(){var t,r;if(null===(t=e.$refs.code)||void 0===t?void 0:null===(r=t.children)||void 0===r?void 0:r.length){var n=e.$refs.code.children[0],i=n.getAttribute("height");if(!i)return;n.style.height="".concat(i,"px")}})},immediate:!0}},methods:{emitCompleted:function(){this.$emit("progress",{elementId:this.element.id,value:100}),this.$emit("seen",{elementId:this.element.id})},unescape:function(e){return Object(vt.a)(e)}}},gn=(r(702),Object(w.a)(hn,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("IntersectWithRoot",{staticClass:"kcp-ElementEmbed--preview",on:{enter:e.emitCompleted}},[r("div",{class:{"kcp-ElementEmbed__container":"EMPTY"!==e.state},style:"URL"===e.state?e.styles:{}},["URL"===e.state?r("iframe",{key:"iframe",staticClass:"kcp-ElementEmbed__element",attrs:{frameBorder:"0",src:e.element.content.value}}):"CODE"===e.state?r("div",{key:"code",ref:"code",staticClass:"kcp-ElementEmbed__element",domProps:{innerHTML:e._s(e.unescape(e.element.content.value))}}):r("ElementWarningPlaceholder",{key:"placeholder",attrs:{elementType:{name:"Embed",nameSuffix:" block"},viewMode:"exported",simpleName:"embed"}})],1)])},[],!1,null,null,null).exports);function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vn={functional:!0,render:function(e,t){var r=t.props,n=r.index;return"EDIT"===r.viewMode?e(Pt,wt()([{attrs:{role:"button"},class:[t.data.staticClass,t.data.class,"NavigationPlaceholder"],on:{click:t.listeners.addLink}},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(r),!0).forEach(function(t){bn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t.data.key&&{key:t.data.key})]),[e("div",{class:"NavigationPlaceholder__number"},[n+1]),e("span",{class:"NavigationPlaceholder__text"},["Select a link"]),e("button",{on:{click:function(e){return e.preventDefault()}},class:"NavigationPlaceholder__button"},[e("Icon",{attrs:{name:"link",size:16}})])]):e(Pt,{class:[t.data.staticClass,t.data.class,"NavigationPlaceholder NavigationPlaceholder--preview"]},[e("span",{class:"NavigationPlaceholder__message"},["Empty elements are excluded on export"]),e("button",{on:{click:function(e){return e.preventDefault()}},class:"NavigationPlaceholder__button"},[e("Icon",{attrs:{name:"link",size:16}})])])}},yn=(r(704),Object(w.a)(vn,void 0,void 0,!1,null,null,null).exports),Cn={1:"ElementNavigation--one-column",2:"ElementNavigation--two-columns",3:"ElementNavigation--three-columns",4:"ElementNavigation--four-columns"},kn={name:"ElementNavigation",functional:!0,props:{element:{type:Object,required:!0},block:{type:Object,required:!1},viewMode:{type:String,default:"PREVIEW"},isDisabled:{type:Boolean,required:!1,default:void 0}},render:function(e,t){var r=t.parent.$store,n=t.props,i=n.element,s=n.viewMode,o=n.isDisabled,a="EDIT"===s,c=i.content.length;return e("div",{class:["ElementNavigation",a?"ElementNavigation--is-edit-mode":"",Cn[c],t.data.staticClass,t.data.class]},[i.content.map(function(n,i){if(!n.id)return e("div",{class:"ElementNavigation__wrapper",key:n.uid},[e(yn,{class:"ElementNavigation__link",on:{addLink:function(){return t.listeners.addLink(n)}},attrs:{index:i,viewMode:s}})]);var c="Module"===n.model,l=n.id;c&&(l=r.getters.getFirstLessonIdByModuleId(n.id));var d=!a&&(null!==o&&void 0!==o?o:!r.getters["courseProgress/getIsCardEnabled"](l));return e("div",{key:n.uid,class:"ElementNavigation__wrapper"},[e("button",{attrs:{role:"link"},class:["ElementNavigation__link",d?"is-disabled":"",t.parent.themeClasses.navigationBlockButton],on:{click:function(e){e.stopPropagation(),e.preventDefault(),d?a||r.dispatch("courseProgress/showProgressWarning",!0):t.listeners.redirect(n)}}},[e("span",wt()([{class:["ElementNavigation__title",t.parent.themeClasses.linkFontSize]},{directives:[{name:"line-clamp",value:"2",arg:"14"}]}]),[n.label||"Untitled"])]),a&&e("div",{class:"ElementNavigation__number"},[i+1])])})])}};r(706);function wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function On(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var En={name:"ElementNavigationPreview",components:{ElementNavigation:Object(w.a)(kn,void 0,void 0,!1,null,null,null).exports,IntersectWithRoot:Ar},props:{element:{type:Object,required:!0},block:{type:Object,required:!0},card:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(r),!0).forEach(function(t){On(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(o.c)({elementSeenIds:"courseProgress/elementSeenIds"})),methods:{emitCompleted:function(){this.elementSeenIds.includes(this.element.id)||(this.$emit("progress",{elementId:this.element.id,value:100}),this.$emit("seen",{elementId:this.element.id}))}}},Sn=Object(w.a)(En,function(){var e=this.$createElement,t=this._self._c||e;return t("IntersectWithRoot",{on:{enter:this.emitCompleted}},[t("ElementNavigation",this._g({attrs:{element:this.element,block:this.block}},this.$listeners))],1)},[],!1,null,null,null).exports;var In={functional:!0,props:{index:{type:Number,required:!0},block:{type:Object,required:!0}},render:function(e,t){var r,n=t.props,i=n.block,s=n.index,o=T.getLayoutWeight(null===(r=i.metadata)||void 0===r?void 0:r.layout,s),a=function(e){var t,r,n=e.index,i=e.block,s=null!==(t=null===i||void 0===i?void 0:null===(r=i.children)||void 0===r?void 0:r.length)&&void 0!==t?t:0;return 1===n?function(e){return 2===e.childrenLength?{paddingLeft:"4px",paddingRight:0}:null}({childrenLength:s}):0===n?function(e){var t=e.childrenLength;return 1===t?{paddingLeft:0,paddingRight:0}:2===t?{paddingLeft:0,paddingRight:"4px"}:null}({childrenLength:s}):null}({index:s,block:i});return e("div",{class:["col-xs-12 kds--relative",o,t.data.class,t.data.staticClass],style:[a,t.data.style,t.data.staticStyle]},[t.children])}},Pn=Object(w.a)(In,void 0,void 0,!1,null,null,null).exports;var Tn={functional:!0,props:{index:{type:Number,required:!0},element:{type:Object,required:!0},block:{type:Object,required:!0},card:{type:Object,required:!0}},render:function(e,t){var r,n,i=t.listeners,s=t.props,o=s.element,a=s.block,c=s.index,l=s.card,d=function(e){var t=e.element.subtype;return["text","tables"].includes(t)?Yr:["audio","video","image","formula"].includes(t)?en:"widget"===t?un:"embed"===t?gn:"attachment"===t?$r:"navigation"===t?Sn:"progress"===t?sn:"UnknownElementSubType"}({element:o});return e(Pn,{attrs:{index:c,block:a},class:[t.data.class,t.data.staticClass]},[e(d,{attrs:{index:c,element:o,block:a,card:l},on:{widgetLoaded:i.widgetLoaded,widgetLoading:i.widgetLoading,seen:i.seen,progress:i.progress,score:i.score,redirect:i.redirect,widgetSuspendData:i.widgetSuspendData||function(){},recordInteraction:i.recordInteraction||function(){}}}),null===(r=(n=t.scopedSlots).caption)||void 0===r?void 0:r.call(n)])}},_n=Object(w.a)(Tn,void 0,void 0,!1,null,null,null).exports,xn={functional:!0,props:{index:{type:Number,required:!0},element:{type:Object,required:!0},block:{type:Object,required:!0},withWrapper:{type:Boolean,default:!1}},render:function(e,t){var r,n=t.props,i=n.index,s=n.block,o=n.element,a=n.withWrapper,c=!["text","widget","progress","embed"].includes(o.subtype),l=c&&!(null===(r=o.caption)||void 0===r?void 0:r.toString().replace(/&nbsp;/g,"").trim())&&{margin:"0px"},d=e(Kt,{class:[{"for-audio":"audio"===o.subtype},{"for-attachment":"attachment"===o.subtype}],style:l,attrs:{params:s,index:i}});return a||c?a?e(Pn,{attrs:{index:i,block:s}},[c?e("div",{class:"kds--relative kds-z--4 kds-centered"},[d]):null]):d:null}},jn=Object(w.a)(xn,void 0,void 0,!1,null,null,null).exports;function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach(function(t){Bn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Bn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ee.default.extend(Oe);var Ln={components:{ElementPreview:_n,ElementCaption:jn},props:{block:{type:Object,required:!0},index:{type:Number,default:0}},computed:Rn(Rn({},Object(o.c)({courseThemeSettings:"getCoursePreviewThemeSettings",isInThemeEditor:"getIsInThemeEditor",themeUtils:"themeUtils"})),{},{currentCard:function(){return this.$store.state.coursePreview.activeCard},blockThemeSettings:function(){var e,t,r,n;return this.block.isTitleBlock?null===(r=this.courseThemeSettings)||void 0===r?void 0:null===(n=r.courseNavigation)||void 0===n?void 0:n.startBlock:null===(e=this.courseThemeSettings)||void 0===e?void 0:null===(t=e.pages)||void 0===t?void 0:t.blocks},blockSettings:function(){return this.block.settings},blockSettingsStyles:function(){var e;return null===(e=this.blockSettings)||void 0===e?void 0:e.styles},blockThemeClass:function(){var e,t;if("single-column"===(null===(e=this.block.metadata)||void 0===e?void 0:e.layout))return"".concat(this.themeClasses.courseBlock," kcp-blocks-one-column");return["minor-major","major-minor"].includes(null===(t=this.block.metadata)||void 0===t?void 0:t.layout)?"".concat(this.themeClasses.courseBlock," kcp-blocks-minor-major"):"".concat(this.themeClasses.courseBlock," kcp-blocks-two-column")},backgroundImage:function(){var e=Object(le.a)(this.blockSettings,"backgroundImage");return Object(ve.a)(e)?Object(le.a)(this.blockThemeSettings,"image"):e},overlayColor:function(){var e=Object(le.a)(this.blockSettings,"overlayColor['background-color']");return Object(ve.a)(e)?this.themeUtils.transformColor({val:Object(le.a)(this.blockThemeSettings,"overlayColor"),settings:this.courseThemeSettings})||"transparent":e},overlayOpacity:function(){var e=Object(le.a)(this.blockSettings,"overlayColor.opacity");return Object(ve.a)(e)?Object(le.a)(this.blockThemeSettings,"overlayOpacity")||1:e},backgroundColor:function(){var e=Object(le.a)(this.blockSettingsStyles,"background-color");return Object(ve.a)(e)?this.themeUtils.transformColor({val:Object(le.a)(this.blockThemeSettings,"bgColor"),settings:this.courseThemeSettings})||"transparent":e},containerStyles:function(){var e={};return this.blockSettingsStyles?(e.borderColor=this.blockSettingsStyles["border-color"],e.borderStyle=this.blockSettingsStyles["border-style"],e.borderWidth=this.blockSettingsStyles["border-width"],Object(ve.a)(this.blockSettingsStyles["padding-bottom"])||(e.paddingBottom=this.blockSettingsStyles["padding-bottom"]),Object(ve.a)(this.blockSettingsStyles["padding-top"])||(e.paddingTop=this.blockSettingsStyles["padding-top"]),e):e},bgColorStyles:function(){return this.blockSettingsStyles&&(this.blockThemeSettings||this.block.isTitleBlock)?{backgroundColor:this.backgroundColor}:{}},bgImageStyles:function(){var e={};if(!this.blockThemeSettings)return{};var t="none";return t=this.backgroundImage?"url(".concat(this.backgroundImage.pathLocal,")"):"none",e.backgroundImage=t,e.backgroundSize="cover",e.backgroundRepeat="no-repeat;",e.backgroundPosition="center center",e},bgOverlayStyles:function(){return{backgroundColor:this.backgroundImage?this.overlayColor:"transparent",opacity:this.backgroundImage?this.overlayOpacity:0}},extraClass:function(){var e,t;if("single-column"===(null===(e=this.block.metadata)||void 0===e?void 0:e.layout)&&1===(null===(t=this.block.children)||void 0===t?void 0:t.length)){var r,n=this.block.children[0];if("widget"===n.subtype)return["Tabs","Accordion"].includes(null===(r=n.content)||void 0===r?void 0:r.template)?"is-widget has-extra-margin-bottom":"is-widget";if(["embed","navigation"].includes(n.subtype))return"is-wide"}return null},hasTextAndElemForVerticalAlign:function(){return function(e){var t,r=e.block;if("single-column"===(null===r||void 0===r?void 0:null===(t=r.metadata)||void 0===t?void 0:t.layout))return!1;var n=0,i=!1,s=!1;return r.children.forEach(function(e){"text"===e.subtype?n++:"tables"===e.subtype?i=!0:"attachment"===e.subtype&&(s=!0)}),2!==n&&1===n&&!i&&!s}({block:this.block})}}),methods:Rn(Rn({},Object(o.b)({addElementSeenIds:"courseProgress/addElementSeenIds",setElementProgressById:"courseProgress/setElementProgressById",setElementScoreById:"courseScore/setElementScoreById"})),{},{handleElementSeen:function(e){var t=this,r=e.elementId;requestAnimationFrame(function(){t.addElementSeenIds(r)})},handleElementProgress:function(e){var t=this,r=e.elementId,n=e.value;requestAnimationFrame(function(){t.setElementProgressById({key:r,value:n})})},handleElementScore:function(e){var t=this,r=e.elementId,n=e.value;requestAnimationFrame(function(){t.setElementScoreById({key:r,value:n})})}})},An=Object(w.a)(Ln,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"kds-course-block",class:e.blockThemeClass,style:e.containerStyles,attrs:{id:"block-"+e.block.id}},[r("div",{staticClass:"kds-course-block-impact"},[r("div",{staticClass:"kds-course-block-impact__container",class:e.extraClass},[r("div",{staticClass:"row kds--relative kds-z--3"},[e._l(e.block.children,function(t,n){return r("ElementPreview",{key:t.id,class:{"kds-flex kds-align-middle":e.hasTextAndElemForVerticalAlign},attrs:{index:n,element:t,block:e.block,card:e.currentCard},on:{redirect:function(t){return e.$emit("redirect",t)},score:e.handleElementScore,progress:e.handleElementProgress,seen:e.handleElementSeen,widgetLoaded:function(t){return e.$emit("widgetLoaded")},widgetLoading:function(t){return e.$emit("widgetLoading")}},scopedSlots:e._u([e.hasTextAndElemForVerticalAlign?null:{key:"caption",fn:function(){return[r("ElementCaption",{attrs:{index:n,element:t,block:e.block}})]},proxy:!0}],null,!0)})}),e._v(" "),e.hasTextAndElemForVerticalAlign?e._l(e.block.children,function(t,n){return r("ElementCaption",{key:t.id,attrs:{index:n,element:t,block:e.block,withWrapper:!0}})}):e._e()],2)])]),e._v(" "),r("div",{staticClass:"kds-block-with-styles-bleed kds-z--2",style:!e.isInThemeEditor&&e.bgOverlayStyles,attrs:{id:"block-bg-color-overlay"+e.block.id}}),e._v(" "),r("div",{staticClass:"kds-block-with-styles-bleed kds-z--1",style:!e.isInThemeEditor&&e.bgImageStyles,attrs:{id:"block-bg-image"+e.block.id}}),e._v(" "),r("div",{staticClass:"kds-block-with-styles-bleed kds-z--0",class:e.themeClasses.courseBlocksBg,style:!e.isInThemeEditor&&e.bgColorStyles,attrs:{id:"block-bg-color"+e.block.id}})])},[],!1,null,null,null).exports;function Nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mn(e){"@babel/helpers - typeof";return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t,r,n,i,s,o){try{var a=e[s](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var $n={name:"AudioNarration",props:{media:{type:Object,required:!0},id:{type:String,required:!0}},data:function(){return{audioNarrationPlayer:null,cancelWatcher:null}},watch:{id:{handler:function(e,t){e&&e!==t&&(this.audioNarrationPlayer.trigger("pause"),this.audioNarrationPlayer.pause(),this.audioNarrationPlayer.currentTime(0))},deep:!0}},created:function(){var e=this;Object(Te.buildComponent)("backwardButton","Button",{buildCSSClass:function(){return"vjs-button-backward vjs-control"},handleClick:function(){e.handleBackward()}},{title:"Back 10 seconds"}),Object(Te.buildComponent)("forwardButton","Button",{buildCSSClass:function(){return"vjs-button-forward vjs-control"},handleClick:function(){e.handleForward()}},{title:"Forward 10 seconds"}),this.videoJSOptions={controlBar:{children:["wrapperComponent","WrapperComponent"],wrapperComponent:{className:"vjs-wrapper-first",children:["backwardButton","playToggle","forwardButton"]},WrapperComponent:{className:"vjs-wrapper-last",children:["currentTimeDisplay","progressControl","durationDisplay"]}}}},mounted:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){Fn(s,n,i,o,a,"next",e)}function a(e){Fn(s,n,i,o,a,"throw",e)}o(void 0)})}}(Be.a.mark(function e(){var t,r,n=this;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cancelWatcher=this.$store.watch(function(e,t){return t.getActiveCardIndex},this.handleWatchAutoplay,{deep:!0}),!this.$refs||!this.$refs.audioNarrationContainer){e.next=8;break}return e.next=4,this.videojsUtils.startVideoJS({container:this.$refs.audioNarrationContainer});case 4:t=e.sent,r=t.playersStarted,this.audioNarrationPlayer=r[0],this.audioNarrationPlayer.ready(function(){n.autoplay()});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{vjsEncode:function(){var e;return(e=this.videojsUtils).vjsEncode.apply(e,arguments)},handleBackward:function(){this.setRelativeTime(-10)},handleForward:function(){this.setRelativeTime(10)},setRelativeTime:function(e){this.audioNarrationPlayer.currentTime(parseFloat(this.audioNarrationPlayer.currentTime()+e))},handleWatchAutoplay:function(e,t){var r=this;this.$nextTick(function(){void 0===e||"object"===Mn(e)&&t&&e.id===t.id||r.autoplay()})},autoplay:function(){this.audioNarrationPlayer&&this.media.autoplay&&this.activeCard&&!this.activeCard.existWidgetAutoplay&&this.audioNarrationPlayer.play()}},beforeDestroy:function(){this.cancelWatcher(),this.videojsUtils.disposePlayer({videojs:_e.a.videojs,player:this.audioNarrationPlayer})},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(r),!0).forEach(function(t){zn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(o.c)({card:"getCurrentCard",activeCard:"getActiveCard"}))},Wn=Object(w.a)($n,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"audioNarrationContainer",staticClass:"kds-video-js"},[t("audio",{ref:"audioNarration",staticClass:"video-js kb-vjs-audio kb-vjs-ignore audio-narration",class:this.themeClasses.courseNavigationMenu,attrs:{id:"audio-narration","data-knowbly-id":"audio-narration",controls:"",src:this.media.url,"data-inactivity-disabled":!0,"data-fullscreen-disabled":!0,"data-media":this.vjsEncode(this.media),"data-custom-options":this.vjsEncode(this.videoJSOptions)}})])},[],!1,null,null,null).exports;function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vn={name:"CourseNavigationHeader",components:{Icon:x,ProgressLinear:D},props:{isNavOpen:{type:Boolean,default:!1},progress:{type:Number,default:0,required:!1},showCollapse:{type:Boolean,default:!1}},inject:{showCourseNavigationHeader:{default:!0}},methods:{toggleCollapse:function(){this.$store.commit("SET_NAV_HEADER_COLLAPSE",!this.isCollapsed)}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(r),!0).forEach(function(t){qn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(o.d)({isCollapsed:function(e){return e.coursePreview.isNavHeaderCollapsed}}))},Hn=Object(w.a)(Vn,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showCourseNavigationHeader?r("header",{staticClass:"kcp-course-navigation-header",class:[{"is-collapsed":e.isCollapsed},e.themeClasses.courseNavigationMenu]},[r("button",{staticClass:"kcp-course-burger small",class:e.themeClasses.courseNavToggleButton,on:{click:function(t){return e.$emit("toggleNav")}}},[r("Icon",{attrs:{name:e.isNavOpen?"times":"bars",size:16}})],1),e._v(" "),r("div",{staticClass:"content kds--relative"},[e._t("default")],2),e._v(" "),e.showCollapse?r("button",{staticClass:"collapse kds--absolute",on:{click:e.toggleCollapse}},[r("Icon",{attrs:{name:e.isCollapsed?"angle-down":"angle-up",size:32,weight:"fal"}})],1):e._e(),e._v(" "),r("ProgressLinear",{attrs:{height:4,value:e.progress,minWidth:0}})],1):e._e()},[],!1,null,null,null).exports;function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Yn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jn={name:"BaseToast",functional:!0,props:{message:{type:String,required:!0}},render:function(e,t){var r=t.props.message;return e("div",wt()([{},{on:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach(function(t){Yn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t.listeners),ref:"toast"},{class:["BaseToast",t.data.class,t.data.staticClass],style:[{height:"48px"},t.data.style,t.data.staticStyle]}]),[r,e("button",{class:"BaseToast__Button",on:{click:t.listeners.closeToast}},[e("Icon",{attrs:{name:"times",size:16}})])])}},Xn=(r(708),Object(w.a)(Jn,void 0,void 0,!1,null,null,null).exports),Kn=Ee.default.observable({props:{},listeners:{},isVisible:!1});function Qn(){Kn.isVisible=!1}function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ti={computed:{props:function(){return Kn.props},listeners:function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach(function(t){ei(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({cancel:Qn,confirm:Qn,continue:Qn},Kn.listeners)},isVisible:function(){return Kn.isVisible}}};Object(w.a)(ti,function(){var e=this.$createElement,t=this._self._c||e;return this.isVisible?t("WarningDialog",this._g(this._b({},"WarningDialog",this.props,!1),this.listeners)):this._e()},[],!1,null,null,null).exports;function ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(r),!0).forEach(function(t){ii(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ri(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ii(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var si={mixins:[R,N],components:{IntersectWithRoot:Ar,CourseNavigationHeader:Hn,Assessment:jr,Activity:jr,PageTitlePreview:Ur,AudioNarration:Wn,BlockPreview:An,LegacyBlockPreview:ar,Lesson:_r,Start:fr,BaseToast:Xn,Icon:x,ElementQueries:O},computed:ni(ni(ni({},Object(o.d)({prevType:function(e){return e.coursePreview.prevType},prevTitle:function(e){return e.coursePreview.prevTitle},nextTitle:function(e){return e.coursePreview.nextTitle},nextType:function(e){return e.coursePreview.nextType},disableNavigation:function(e){return e.coursePreview.disableNavigation},startCardIndex:function(e){return e.coursePreview.startCardIndex},isNavHeaderCollapsed:function(e){return e.coursePreview.isNavHeaderCollapsed},hasVerticalScroll:function(e){return e.coursePreview.hasVerticalScroll},showProgressWarning:function(e){return e.courseProgress.showProgressWarning},ignoreRequiredProgress:function(e){return e.courseProgress.ignoreRequiredProgress}})),Object(o.c)({userId:"getUserId",inThemeEditor:"getIsInThemeEditor",activeCardIndex:"getActiveCardIndex",globalProgress:"getGlobalProgress",blocks:"getBlocksCoursePreview",cardsLength:"getCardsLength",activeCard:"getActiveCard",isStartCard:"isStartCard",isNavOpen:"isNavOpen",isCourseExitDisabled:"isCourseExitDisabled",getIsCardEnabled:"courseProgress/getIsCardEnabled",prevCardId:"prevCardId",nextCardId:"nextCardId",nextIncompletedProgressBlockId:"courseProgress/nextIncompletedProgressBlockId",isAnyCardRequiredStill:"courseProgress/isAnyCardRequiredStill",roundedCourseProgress:"courseProgress/roundedCourseProgress",isThemeNavigationUpdatesEnabled:"isThemeNavigationUpdatesEnabled",getAreCardRequirementsMet:"courseProgress/getAreCardRequirementsMet",getFirstLessonIdByModuleId:"getFirstLessonIdByModuleId"})),{},{deviceClass:function(){return this.$store.getters.deviceClass},handleNextClick:function(){return this.isNextCardEnabled?this.isLastLesson?this.exitCourse:this.goToNextCard:this.handleDisabledNextCardClick},isLastLesson:function(){return this.activeCardIndex+1===this.cardsLength},styleForScroll:function(){return this.hasVerticalScroll?this.isExport&&this.$parent&&this.$parent.$el&&this.$parent.$el.offsetWidth<=768||!this.isExport&&!["desktop","tabletPortrait","tabletLandscape","mobilePortrait","mobileLandscape"].includes(this.deviceClass)?null:{width:"calc(50% + 42px + ".concat(this.scrollWidthX/2,"px)")}:{width:"calc(50% + 42px)"}},hasScroll:function(){if(this.hasVerticalScroll)return 0!=this.scrollWidthX?"has-scroll":""},filteredBlocks:function(){var e=this;return this.blocks.filter(function(t){return!t.children||!t.children.find(function(t){return e.isExport&&"attachment"===t.subtype&&!t.content.id})}).filter(function(t){return!e.isBlockHidden(t)})},isExport:function(){return!0},isEmbeded:function(){return window.location.href.indexOf("public/course")>=0},cardType:function(){return this.activeCard.subtype.charAt(0).toUpperCase()+this.activeCard.subtype.slice(1)},audioNarration:function(){if(this.activeCard.metadata&&this.activeCard.metadata.audioNarration){var e=this.activeCard.metadata.audioNarration,t=e.url,r=e.format;return{url:t,type:"audio/".concat(r.replace("vnd.dlna.adts","aac")),autoplay:!(!this.activeCard.metadata.audioNarration.settings||"on"!==this.activeCard.metadata.audioNarration.settings.autoplay)}}return!1},themeIconClass:function(){switch(this.activeCard.subtype){case"lesson":return this.themeClasses.cardLessonIcon;case"course":return this.themeClasses.cardStartIcon;case"activity":return this.themeClasses.cardActivityIcon;case"assessment":return this.themeClasses.cardAssessmentIcon;default:return null}},cardLabel:function(){return this.activeCard.subtype?"".concat(Object(ie.a)(this.activeCard.subtype),": "):"Lesson: "},cardTitle:function(){return T.getPageTitle(this.activeCard)},isPrevCardEnabled:function(){return!this.prevCardId||this.getIsCardEnabled(this.prevCardId)},isNextCardEnabled:function(){return!this.nextCardId||this.getIsCardEnabled(this.nextCardId)},courseProgress:function(){return this.roundedCourseProgress},showInlineExit:function(){return!!this.isLastLesson&&(!!this.ignoreRequiredProgress||this.getAreCardRequirementsMet(this.activeCard.id))},isInThemeEditor:function(){return this.$store.getters.getIsInThemeEditor},isExitButtonVisible:function(){return"default"!==window.lmsType}}),watch:{activeCardIndex:function(){this.showProgressWarning&&this.$store.dispatch("courseProgress/showProgressWarning",!1),this.$el.scrollTop=0,this.isNavHeaderCollapsed||this.$store.commit("SET_NAV_HEADER_COLLAPSE",!0),this.setPreviewCourseProgressLabels(),this.fixButtonIE()},cardLoaded:function(e,t){var r=this;e&&!t&&this.$refs.cardPreview&&this.$nextTick(function(){r.$store.commit("SET_HAS_VERTICAL_SCROLL",r.$refs.cardPreview.$el.scrollHeight>r.$refs.cardPreview.$el.clientHeight)})},isNextCardEnabled:function(e,t){this.showProgressWarning&&e&&!t&&this.$store.dispatch("courseProgress/showProgressWarning",!1)}},methods:ni(ni({},Object(o.b)({toggleNav:"toggleNav",prevCard:"prevCard",nextCard:"nextCard",exitCourse:"exitCourse",addCardSeenIds:"courseProgress/addCardSeenIds",navigateToStartCard:"navigateToStartCard"})),{},{redirect:function(e){var t=e.id,r="Module"===e.model,n=t;r&&(n=this.getFirstLessonIdByModuleId(t)),n&&this.handleClick(n,r,r&&t)},fixButtonIE:function(){var e=this;h&&(this.showIEFix=!1,window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){window.setTimeout(function(){e.showIEFix=!0},5)})}))},setPreviewCourseProgressLabels:function(){!this.$store.getters.isCourseOnlyApp&&window.localStorage&&(window.viewProgress?window.localStorage.setItem("viewProgress",!0):!1===window.viewProgress&&(window.localStorage.removeItem("viewProgress"),this.$store.commit("SET_PREVIEW_COURSE_PROGRESS_LABELS",!1)),window.localStorage.getItem("viewProgress")&&this.$store.commit("SET_PREVIEW_COURSE_PROGRESS_LABELS",!0))},goToNextCard:function(){this.nextCard();var e=$(".js-lessontype-scroll-container");e.scrollLeft(0),e.scrollTop(0)},isBlockHidden:function(e){return!e.children||this.$store.getters["courseProgress/getIsBlockHidden"]([e.id])},getCard:function(e){this.cardLoaded=!1,this.$store.commit("SET_LOAD_CARD",!0),this.loading=!0;var t={data:{id:e||this.$route.params.cardId,courseId:this.$route.params.courseId,userId:this.userId},method:"getCard",model:"Card",room:this.$socket.id};this.$socket.emit("courseSocket",t)},exitCourse:function(){this.isCourseExitDisabled||this.isEmbeded||(this.$emit("onExitCourse",this.activeCard.id),this.$store.dispatch("exitCourse"))},closeProgressWarning:function(){this.$store.dispatch("courseProgress/showProgressWarning",!1)},handleDisabledNextCardClick:function(){!this.isNextCardEnabled&&this.nextCardId&&this.$store.dispatch("courseProgress/showProgressWarning",this.nextIncompletedProgressBlockId||this.isAnyCardRequiredStill)},redirectView:function(e){e.includes("Course")?this.$router.push("/cc/dash"):this.navigateToStartCard()}}),data:function(){return{loading:!1,windowSelector:"",currentTitle:null,selectedCardIndex:0,cardLoaded:!1,scrollWidthX:v,isIE:h,showIEFix:!1}},created:function(){var e=this;h&&this.$watch("isNavOpen",function(t){t||e.fixButtonIE()})},sockets:{CARD_GETCARD:function(e){var t,r=this;if(h&&(this.showIEFix=!1,window.requestAnimationFrame(function(){window.setTimeout(function(){r.showIEFix=!0},5)})),this.cardLoaded=!0,!this.inThemeEditor){if(this.$route.params.screenshotView&&this.$route.query.block){var n=Object(se.a)(e.response.children,{id:this.$route.query.block});return this.$store.commit("SET_BLOCKS_CARD",n)}e.response&&!e.error&&(null===(t=this.activeCard)||void 0===t?void 0:t.id)===e.response.id&&this.$store.commit("SET_BLOCKS_CARD",e.response.children)}}}},oi=Object(w.a)(si,function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return t.activeCard?n("div",{staticClass:"kcp-course-content kds--relative",class:{"with-nav-open":t.isNavOpen}},[n("ElementQueries",{staticClass:"kcp-course-header-wrapper kds-z--4",attrs:{breakpoints:["480px","481px"]}},[n("CourseNavigationHeader",{directives:[{name:"show",rawName:"v-show",value:!t.isStartCard,expression:"!isStartCard"}],class:[{"is-open":t.isNavOpen},t.hasScroll],attrs:{isNavOpen:t.isNavOpen,progress:t.courseProgress,showCollapse:!!t.audioNarration},on:{toggleNav:t.toggleNav}},[t.audioNarration?n("AudioNarration",{key:t.activeCard.id,staticClass:"audio-narration",style:t.styleForScroll,attrs:{media:t.audioNarration,id:"audio-narration-"+t.activeCardIndex}}):t._e()],1),t._v(" "),t.showProgressWarning?n("BaseToast",{staticClass:"kcp-progress-warning",class:t.themeClasses.courseProgressWarning,style:{zIndex:-1},attrs:{message:""},on:{closeToast:t.closeProgressWarning}}):t._e()],1),t._v(" "),n("div",{staticClass:"vue-portal-target",attrs:{id:"portal-content"}}),t._v(" "),t.isNavOpen?n("div",{staticClass:"kcp-course-nav-overlay",class:{"is-active":t.isNavOpen}}):t._e(),t._v(" "),n("div",{staticClass:"kds-block-with-styles-bleed kds-z--0",class:t.themeClasses.courseCardsBg}),t._v(" "),n(t.cardType,{key:t.activeCardIndex,ref:"cardPreview",tag:"component",staticClass:"kds-course-container kcp-course-card",class:[{"is-open":t.isNavOpen},{"for-preview":"mobilePortrait"===t.deviceClass}],attrs:{cardLoaded:t.cardLoaded,blocks:t.blocks}},[t.isStartCard||t.disableNavigation?t._e():n("template",{slot:"navigation"},[n("button",{staticClass:"kcp-prev-button",class:[t.isThemeNavigationUpdatesEnabled?t.themeClasses.cardLabels:t.themeClasses.courseNavButton,t.themeClasses.buttonText],attrs:{disabled:!t.isPrevCardEnabled},on:{click:t.prevCard}},[t.isIE&&t.showIEFix?n("div",{staticStyle:{height:"0px","text-align":"right",opacity:"0","pointer-events":"none"},attrs:{"aria-hidden":"true"}},[t._v("test")]):t._e(),t._v(" "),n("Icon",{attrs:{name:"chevron-up",size:16}}),t._v(" "),n("div",{staticClass:"kcp-course-button-title"},[n("strong",{class:t.themeClasses.courseNavItemLabel},[t._v(t._s(t.prevType))]),t._v("\n                    "+t._s(t.prevTitle)+"\n                ")])],1)]),t._v(" "),n("div",{staticClass:"kds-course-blocks course-preview js-card-container-scroll",class:[(e={},e[t.themeClasses.courseCards]=!t.isStartCard,e),{"kds-flex-none kds-mt-24 kds-mb-24":t.isStartCard}],style:t.isIE&&{minHeight:"1px"},attrs:{slot:"blocks"},slot:"blocks"},[n("IntersectWithRoot",{key:t.activeCard.id,on:{enter:function(e){return t.addCardSeenIds(t.activeCard.id)}}},[n("div")]),t._v(" "),t._l(t.filteredBlocks,function(e,r){return n("BlockPreview",{key:e.id,attrs:{block:e,index:r},on:{startLoading:function(e){t.loading=!0},widgetLoaded:function(e){return t.$emit("widgetLoaded")},widgetLoading:function(e){return t.$emit("widgetLoading")},completeLoading:function(e){t.loading=!1},redirect:t.redirect}})})],2),t._v(" "),t.isStartCard||t.disableNavigation||t.isLastLesson&&!t.showInlineExit?t._e():n("template",{slot:"nextBtn"},[n("button",{staticClass:"kcp-next-button kds-z--4",class:[t.isThemeNavigationUpdatesEnabled?t.themeClasses.cardLabels:t.themeClasses.courseNavButton,t.themeClasses.buttonText,{"with-nav-open":t.isNavOpen,"is-disabled":!t.isNextCardEnabled}],on:{click:t.handleNextClick}},[t.isIE&&t.showIEFix?n("div",{staticStyle:{height:"0px","text-align":"right",opacity:"0","pointer-events":"none"},attrs:{"aria-hidden":"true"}},[t._v("test")]):t._e(),t._v(" "),t.isLastLesson?[n("div",{staticClass:"kds-course-block-impact"},[n("div",{staticClass:"kds-course-block-impact__container kds-last-lesson kds-flex kds-align-middle kds-content-between"},[n("strong",{staticClass:"kds-pl-8",class:{"kds-width-full":!t.isExitButtonVisible}},[t._v("\n                                You've reached the end of the course.\n                            ")]),t._v(" "),t.isExitButtonVisible?n("span",{staticClass:"kds-pr-8 kds--relative"},[t._v("\n                                Exit to submit results\n                                "),n("Icon",{staticClass:"kds-ml-4 kds--relative kds-exit-icon",attrs:{name:"sign-out",size:16}})],1):t._e()])])]:[n("div",{staticClass:"kcp-course-button-title"},[n("strong",{class:t.themeClasses.courseNavItemLabel},[t._v(t._s(t.nextType))]),t._v("\n                        "+t._s(t.nextTitle)+"\n                    ")]),t._v(" "),n("Icon",{attrs:{size:(t.activeCardIndex,t.cardsLength,16),name:t.activeCardIndex+1<t.cardsLength?"chevron-down":"sign-out"}})]],2)])],2)],1):t._e()},[],!1,null,null,null).exports,ai=r(343),ci={mixins:[ai.enlargeImageProvider],props:{visible:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},removeScrollFromSelector:{type:String,default:""}},components:{EnlargeImageModal:ai.EnlargeImageModal},methods:{closeModal:function(){this.closeEnlargeImageModal()}}};function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?li(Object(r),!0).forEach(function(t){ui(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ui(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pi={components:{CourseNav:ne,CourseCard:oi,ElementQueries:E,EnlargeImageWrapper:Object(w.a)(ci,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.closeModal,expression:"closeModal"}],staticClass:"EnlargeImageWrapper"},[e.visible?r("EnlargeImageModal",{staticClass:"theme-css-scope",attrs:{visible:e.isEnlargeImageModalVisible,element:e.enlargeImageElement,themeHeader:{buttonClass:e.themeClasses.navButtonContentColor,headerClass:e.themeClasses.navButtonBgColor},appendToBody:e.appendToBody,removeScrollFromSelector:e.removeScrollFromSelector},on:{close:e.closeModal,"update:visible":function(t){e.isEnlargeImageModalVisible=t}}}):e._e(),e._v(" "),e._t("default")],2)},[],!1,null,null,null).exports},computed:di(di(di({},Object(o.c)({isLoading:"getCourseIsLoading",isThemeNavigationUpdatesEnabled:"isThemeNavigationUpdatesEnabled",isDesignUpdatesEnabled:"isDesignUpdatesEnabled"})),Object(o.d)({isNavHeaderCollapsed:function(e){return e.coursePreview.isNavHeaderCollapsed}})),{},{containerClasses:function(){return{isThemeNavigationUpdatesEnabled:this.isThemeNavigationUpdatesEnabled,isDesignUpdatesEnabled:this.isDesignUpdatesEnabled}}}),props:{cardId:{type:String},userId:{type:String},courseId:{type:String}},watch:{isLoading:function(){this.resizeCourse()},responsiveMode:function(e,t){e===t||this.isNavHeaderCollapsed||this.$store.commit("SET_NAV_HEADER_COLLAPSE",!0)}},mounted:function(){this.$refs.courseContainer&&this.resizeCourse()},beforeDestroy:function(){},methods:{onExitCourse:function(e){this.destroyCourse=!0,this.$emit("onExitCourse",e)},resizeCourse:function(){var e=this.$refs.courseContainer.clientWidth;e>=1025?(this.responsiveMode="desktop",this.portrait=!1):e>=769&&e<=1024?(this.responsiveMode="notebook",this.portrait=!1):e>=668&&e<=768?(this.responsiveMode="tablet",this.portrait=!1):e>=450&&e<=667?(this.responsiveMode="mobile",this.portrait=!1):(this.responsiveMode="mobile",this.portrait=!0),this.$store.commit("SET_BREAKPOINT",this.responsiveMode)}},data:function(){return{responsiveMode:null,portrait:!1,destroyCourse:!1}}},mi=Object(w.a)(pi,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.destroyCourse?e._e():r("ElementQueries",{staticClass:"kds-height-full",attrs:{breakpoints:["480px","481px","768px","880px","881px","960px"]}},[r("EnlargeImageWrapper",[r("div",{ref:"courseContainer",staticClass:"kcp-course-container kds-height-full",class:[e.themeClasses.courseContainer,e.containerClasses],attrs:{"data-breakpoint":e.responsiveMode,"data-portrait":e.portrait}},[r("resize-observer",{on:{notify:e.resizeCourse}}),e._v(" "),e.isLoading?e._e():r("CourseNav",{on:{onExitCourse:e.onExitCourse}}),e._v(" "),e.isLoading?e._e():r("CourseCard",{on:{onExitCourse:e.onExitCourse}})],1)])],1)},[],!1,null,null,null).exports,hi=r(232),gi=r(160),fi=r(241),bi=r(423),vi=r.n(bi);function yi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(r),!0).forEach(function(t){ki(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ki(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wi(e){return function(e){if(Array.isArray(e))return Oi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ei={theme:{},cards:[],course:null,prevTitle:"",prevType:"",nextType:"",nextTitle:"",inModule:!1,startCard:null,isNavOpen:!1,isNavHeaderCollapsed:!0,activeCard:null,startCardIndex:0,cardsFlattened:[],activeCardIndex:0,currentModule:null,inThemeEditor:!1,moduleParentId:null,activeModuleIndex:0,isCourseExitDisabled:!1,scrollOwnerSelector:".kcp-course-card",endCheer:"Congratulations!",endTitle:"You've completed the course.",disableNavigation:!1,widgetProgressDetails:[],courseSettings:{},currentScroll:0,isLoading:!1,previewCourseProgressLabels:!1,hasVerticalScroll:!1,breakpoint:"",latestRecordInteraction:null};function Si(e,t){if(void 0!==t)switch(e.subtype){case"lesson":return t.lessons[0];case"activity":return t.activities[0];case"assessment":var r=Object(hi.a)(t.assessments,{id:e.id});return r||t.assessments[0]}return null}var Ii={state:function(){return JSON.parse(JSON.stringify(Ei))},mutations:{SET_COURSE_LOADING:function(e,t){Ee.default.set(e,"isLoading",t)},SET_DISABLE_NAVIGATION:function(e,t){e.disableNavigation=t},SET_IN_THEME_EDITOR:function(e,t){e.inThemeEditor=t},SET_SCROLL_SELECTOR:function(e,t){e.scrollOwnerSelector=t},RESET_COURSE_PREVIEW_STATE:function(e){Object(I.a)(Object.keys(e),function(t){e[t]=JSON.parse(JSON.stringify(Ei[t]))})},SET_COURSE_PREVIEW_THEME:function(e,t){e.theme=t},SET_COURSE_PREVIEW:function(e,t){e.course=t,e.course.score=0,e.course.passed=!1},SET_CARD_IS_FROM_MODULE:function(e,t){e.inModule=t},SET_CARD_MODULE_PARENT:function(e,t){e.moduleParentId=t},TOGGLE_NAV:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!e.isNavOpen;e.isNavOpen=t},SET_NAV_HEADER_COLLAPSE:function(e,t){e.isNavHeaderCollapsed=t},SET_BREAKPOINT:function(e,t){e.breakpoint=t},SET_CARDS_COURSE_PREVIEW:function(e,t){e.cards=t,e.activeCardIndex=0,e.cardsFlattened=wi(T.flattenCards(e.cards)),e.startCard=e.cardsFlattened.find(function(e){return"start"===e.subtype}),e.startCardIndex=e.cardsFlattened.indexOf(e.startCard),e.activeCard=e.startCard,e.nextType=e.cardsFlattened.length>1?"".concat(e.cardsFlattened[1].subtype,":"):e.endCheer,e.nextTitle=e.cardsFlattened.length>1?"".concat(T.getPageTitle(e.cardsFlattened[1])):e.endTitle,e.courseSettings||function(e){Ee.default.set(e,"courseSettings",vi.a);var t=e.cardsFlattened.filter(function(e){return"lesson"===e.subtype}).length;e.courseSettings.lessons[0].required=t,e.courseSettings.lessons[0].total=t;var r=e.cardsFlattened.filter(function(e){return"activity"===e.subtype}).length;e.courseSettings.activities[0].required=r,e.courseSettings.activities[0].total=r}(e);var r=!1;e.courseSettings.assessments.some(function(e){return!(!e.scored||!e.weight)&&(r=!0,!0)});var n=Si({subtype:"lesson"},e.courseSettings),i=Si({subtype:"activity"},e.courseSettings);n&&0!==n.required||i&&0!==i.required||r||this.dispatch("calculateCourseScore")},SET_ACTIVE_CARD_COURSE_PREVIEW:function(e,t){if(e.activeCardIndex=t?Object(gi.a)(e.cardsFlattened,{id:t}):0,e.activeCard=e.cardsFlattened[e.activeCardIndex],e.cardsFlattened.length>1&&e.activeCardIndex+1<e.cardsFlattened.length){var r=e.cardsFlattened[e.activeCardIndex+1];e.nextType="".concat(r.subtype,":"),e.nextTitle="".concat(T.getPageTitle(r))}else e.nextType=e.endCheer,e.nextTitle=e.endTitle;if(e.activeCardIndex>=1){var n=e.cardsFlattened[e.activeCardIndex-1];e.prevTitle=T.getPageTitle(n),e.prevType="".concat(n.subtype,":")}},SET_PUBLISH_SETTINGS:function(e,t){Ee.default.set(e,"courseSettings",t)},SET_CARDS_FLATTENED:function(e){Ee.default.set(e,"cardsFlattened",T.flattenCards(e.cards))},SET_ACTIVE_CARD_INDEX:function(e,t){var r=t.index,n=(t.isInThemeEditor,e.cardsFlattened[r]);n.scroll?Ee.default.set(e,"currentScroll",n.scroll):Ee.default.set(e,"currentScroll",0),Ee.default.set(e,"activeCard",n),Ee.default.set(e,"activeCardIndex",r),function(e){var t=e.cardsFlattened[e.activeCardIndex];if(t&&-1===Object(gi.a)(e.widgetProgressDetails,{id:t.id})&&t.children){var r=e.widgetProgressDetails.length,n=0;Ee.default.set(e.widgetProgressDetails,r,{id:t.id,widgets:[]}),t.children.forEach(function(t){t.children&&t.children.forEach(function(t){if("widget"===t.subtype&&t.content){var i={id:t.content.id,progress:0};Ee.default.set(e.widgetProgressDetails[r].widgets,n,i),n++}})})}}(e)},SET_PREV_TITLE:function(e,t){e.prevTitle=t},SET_PREV_TYPE:function(e,t){e.prevType=t},SET_NEXT_TYPE:function(e,t){e.nextType=t},SET_NEXT_TITLE:function(e,t){e.nextTitle=t},SET_BLOCKS_CARD:function(e,t){e.cardsFlattened[e.activeCardIndex]&&Ee.default.set(e.activeCard,"children",t)},UPDATE_COURSE_PREVIEW_START_CARD:function(e,t){var r=t.title,n=t.settings,i=e.course.children.slice();i[0].metadata.title=r,i[0].metadata.settings=n,Ee.default.set(e.course,"children",i)},UPDATE_COURSE_PREVIEW_TITLE:function(e,t){Ee.default.set(e.course.metadata,"title",t)},SET_WIDGET_PROGRESS:function(e,t){var r=t.id,n=t.progress,i=t.score,s=e.cardsFlattened[e.activeCardIndex],o=Object(gi.a)(e.widgetProgressDetails,{id:s.id});if(o>-1){var a=e.widgetProgressDetails[o],c=Object(gi.a)(a.widgets,{id:r});if(c>-1)if(n>a.widgets[c].progress||100===n){n>100&&(n=100);var l=e.widgetProgressDetails[o].widgets[c];if(Ee.default.set(l,"progress",n),n>=100&&void 0!==i){var d=Si(s,e.courseSettings);if(d&&d.scored){var u=d.score*i/100;Ee.default.set(s,"score",u),u>=d.passing&&(Ee.default.set(s,"weight",d.weight),this.dispatch("calculateCourseScore"))}}}}},SET_WIDGET_SUSPEND_DATA:function(e,t){var r=e.cardsFlattened[e.activeCardIndex];Ee.default.set(r,"suspendData",{widget:Ci({},t)})},SET_CARD_WIDGET_SUSPEND_DATA:function(e,t){var r,n,i=t.cardId,s=t.widget,o=e.cardsFlattened.findIndex(function(e){return e.id===i});o<0||(Ee.default.set(e.cardsFlattened[o],"suspendData",{widget:s}),(o=e.cards.findIndex(function(e){return e.id===i}))>=0?Ee.default.set(e.cards[o],"suspendData",{widget:s}):(e.cards.filter(function(e){return"module"===e.type}).some(function(t){return r=Object(gi.a)(t.children,function(e){return e.id===i}),n=Object(gi.a)(e.cards.children,function(e){return e.id===t.id}),r>=0}),r<0||n<0||Ee.default.set(e.cards[n].children[r],"suspendData",{widget:s})))},SET_LATEST_RECORD_INTERACTION:function(e,t){e.latestRecordInteraction=Ci({},t)},SET_CARD_SCROLL_PROGRESS:function(e,t){Ee.default.set(e,"currentScroll",t),Ee.default.set(e.cardsFlattened[e.activeCardIndex],"scroll",t)},SET_ACTIVE_CARD_PROGRESS:function(e,t){var r=e.cardsFlattened[e.activeCardIndex];if(!r.progress||t>r.progress){var n=e.cards[e.activeCard.cardIndex];Ee.default.set(r,"progress",t),Ee.default.set(e.cardsFlattened,e.activeCardIndex,r),e.activeCard.modIndex>=0?Ee.default.set(n.children,e.activeCard.modIndex,n.children[e.activeCard.modIndex]):Ee.default.set(e.cards,e.activeCard.cardIndex,n),t>=100&&this.dispatch("calculateCourseScore")}},SET_COURSE_SCORE:function(e,t){Ee.default.set(e.course,"score",t),t>=e.courseSettings.passingScore?Ee.default.set(e.course,"passed",!0):Ee.default.set(e.course,"passed",!1)},SET_ACTIVE_CARD_COMPLETED:function(e,t){Ee.default.set(e.cardsFlattened[e.activeCardIndex],"completed",t),Ee.default.set(e.cardsFlattened,e.activeCardIndex,e.cardsFlattened[e.activeCardIndex])},TOGGLE_COURSE_EXIT_AVAILABILITY:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCourseExitDisabled=!t},EXIT_COURSE:function(){},SET_PREVIEW_COURSE_PROGRESS_LABELS:function(e,t){e.previewCourseProgressLabels=t},SET_HAS_VERTICAL_SCROLL:function(e,t){e.hasVerticalScroll=t}},actions:{handleRecordInteraction:function(e,t){var r=e.commit,n=e.getters,i=Object(Fe.a)(t);i.record.strID="course=".concat(n.getCourse.id,"_card=").concat(t.cardId,"_").concat(t.record.strID),r("SET_LATEST_RECORD_INTERACTION",i)},calculateCourseScore:function(e){var t=e.commit,r=e.state,n=e.getters,i=r.cardsFlattened.filter(function(e){return"lesson"===e.subtype||"activity"===e.subtype||"assessment"===e.subtype}),s=0,o=0,a=0,c=0,l=Si({subtype:"lesson"},r.courseSettings);l&&l.weight&&l.required&&(o+=l.weight);var d=Si({subtype:"activity"},r.courseSettings);d&&d.weight&&d.required&&(o+=d.weight),i.forEach(function(e){var t=Si(e,r.courseSettings);if(t)if("assessment"===e.subtype)t.scored&&(o+=t.weight,e.weight&&(s+=e.weight));else if(n["courseProgress/getRoundedCardProgress"](e.id)>=100||e.progress>=100)switch(e.subtype){case"lesson":a++;break;case"activity":c++}}),l&&l.total&&l.required&&a>=l.required&&(s+=l.weight),d&&d.total&&d.required&&c>=d.required&&(s+=d.weight);var u=100*s/o;u=Object(vr.a)(u,2),0===o&&(u=100),t("SET_COURSE_SCORE",u)},toggleCourseExitAvailability:function(e,t){(0,e.commit)("TOGGLE_COURSE_EXIT_AVAILABILITY",t)},toggleNav:function(e,t){var r=e.commit;e.state.disableNavigation||r("TOGGLE_NAV","boolean"==typeof t?t:void 0)},selectActiveCard:function(e,t){var r=e.commit,n=e.state,i=e.dispatch,s=e.getters;r("SET_ACTIVE_CARD_INDEX",{index:n.cardsFlattened.findIndex(function(e){return e.id===t.id}),isInThemeEditor:s.getIsInThemeEditor}),t.isModule&&(r("SET_CARD_IS_FROM_MODULE",t.isModule),r("SET_CARD_MODULE_PARENT",t.moduleId)),i("setNextPrevTitles",n.activeCardIndex)},prevCard:function(e){var t=e.commit,r=e.state,n=e.dispatch,i=e.getters;r.disableNavigation||r.activeCardIndex>0&&(t("SET_ACTIVE_CARD_INDEX",{index:r.activeCardIndex-1,isInThemeEditor:i.getIsInThemeEditor}),n("setNextPrevTitles",r.activeCardIndex),r.activeCard.modIndex>=0?n("checkCardModule"):(t("SET_CARD_IS_FROM_MODULE",!1),t("SET_CARD_MODULE_PARENT",null)))},checkCardModule:function(e){var t,r,n=e.commit,i=e.state,s=Object(se.a)(i.course.children,function(e){return"module"===e.type});Object(Ht.a)(s)>0&&(Object(I.a)(s,function(e,n){Object(Ht.a)(e.children)>0&&(r=Object(hi.a)(e.children,function(e){return e.id===i.activeCard.id}))&&r.id===i.activeCard.id&&(t=s[n])}),t&&(n("SET_CARD_IS_FROM_MODULE",!0),n("SET_CARD_MODULE_PARENT",t.id)))},nextCard:function(e){var t=e.commit,r=e.state,n=e.dispatch,i=e.getters;r.disableNavigation||(r.activeCardIndex+1<r.cardsFlattened.length?(t("SET_ACTIVE_CARD_INDEX",{index:r.activeCardIndex+1,isInThemeEditor:i.getIsInThemeEditor}),n("setNextPrevTitles",r.activeCardIndex)):r.activeCardIndex+1===r.cardsFlattened.length&&(t("SET_ACTIVE_CARD_INDEX",{index:r.startCardIndex,isInThemeEditor:i.getIsInThemeEditor}),n("setNextPrevTitles",r.activeCardIndex)),r.activeCard.modIndex>=0?n("checkCardModule"):(t("SET_CARD_IS_FROM_MODULE",!1),t("SET_CARD_MODULE_PARENT",null)))},changeWidgetProgress:function(e,t){(0,e.commit)("SET_WIDGET_PROGRESS",t)},changeActiveCardProgress:function(e,t){var r=e.commit,n=e.state;n.cardsFlattened[n.activeCardIndex].completed||(r("SET_ACTIVE_CARD_PROGRESS",t),100===t&&r("SET_ACTIVE_CARD_COMPLETED",!0))},setNextPrevTitles:function(e,t){var r=e.commit,n=e.state,i=e.getters;if(t-1>0){var s=n.cardsFlattened[t-1];r("SET_PREV_TYPE","".concat(s.subtype,":")),r("SET_PREV_TITLE","".concat(T.getPageTitle(s)))}else t-1==0&&(r("SET_PREV_TYPE","".concat(i.getStartCard.subtype,":")),r("SET_PREV_TITLE","".concat(i.getCourse.metadata.title)));if(t+1<i.getCardsLength){var o=n.cardsFlattened[t+1];r("SET_NEXT_TYPE","".concat(o.subtype,":")),r("SET_NEXT_TITLE","".concat(T.getPageTitle(o)))}else r("SET_NEXT_TYPE",n.endCheer),r("SET_NEXT_TITLE",n.endTitle)},exitCourse:function(e){(0,e.commit)("EXIT_COURSE")},navigateToStartCard:function(e){var t=e.state,r=e.dispatch;r("toggleNav",!1),r("selectActiveCard",{id:t.startCard.id})}},getters:{getCourseIsLoading:function(e){return e.isLoading},getCourseSettings:function(e){return e.courseSettings},currentScroll:function(e){return e.currentScroll},getCardWidgetProgress:function(e){var t=e.activeCard;if(t&&t.id){var r=Object(gi.a)(e.widgetProgressDetails,{id:t.id});return r>-1?e.widgetProgressDetails[r].widgets:[]}return[]},getIsInThemeEditor:function(e){return e.inThemeEditor},isCourseExitDisabled:function(e){return e.isCourseExitDisabled},getStartCard:function(e){return e.startCard},getCardsFlattened:function(e){return e.cardsFlattened},getCourse:function(e){return e.course},getCards:function(e){return e.cards},isNavOpen:function(e){return e.isNavOpen},isStartCard:function(e){return e.startCardIndex==e.activeCardIndex},getBlocksCoursePreview:function(e){var t=e.cards.length&&e.cardsFlattened[e.activeCardIndex];return t&&t.children?t.children:[]},getFirstLessonIdByModuleId:function(e){return function(t){var r,n=e.cards.find(function(e){return"module"===e.type&&e.id===t});if(n&&(null===(r=n.children)||void 0===r?void 0:r.length)>0)return n.children[0].id}},getActiveCardIndex:function(e){return e.activeCardIndex},getCardsLength:function(e){return e.cardsFlattened.length||0},getActiveCard:function(e){return e.cardsFlattened[e.activeCardIndex]},getGlobalProgress:function(e){var t=Object(fi.a)(e.cardsFlattened,function(e,t){return e+t.progress},0)/(e.cardsFlattened.length-1);return t<=100?Object(vr.a)(t,2):100},getScrollOwnerSelector:function(e){return e.scrollOwnerSelector},getstartButtonMessage:function(e,t){var r=t["courseProgress/roundedCourseProgress"];return r?r>0&&r<100?"Resume":100===r?"Completed":void 0:"Start"},getCoursePreviewTheme:function(e){return e.theme},getCoursePreviewThemeSettings:function(e,t){try{return t.getIsInThemeEditor?t.getThemeSettings:t.getCoursePreviewTheme.versions.published.settings}catch(e){return null}},prevCardId:function(e){var t;return null===(t=e.cardsFlattened[e.activeCardIndex-1])||void 0===t?void 0:t.id},nextCardId:function(e){var t;return null===(t=e.cardsFlattened[e.activeCardIndex+1])||void 0===t?void 0:t.id}}},Pi={state:{flags:{},themeUtils:null},mutations:{UPDATE_FLAGS:function(e,t){t||console.warn("flags is required"),Ee.default.set(e,"flags",function(e){var t={};return Object(I.a)(e,function(e,r){t[Object(be.a)(r)]=e}),t}(t))},UPDATE_THEME_UTILS:function(e,t){Ee.default.set(e,"themeUtils",t)}},actions:{updateFlags:function(e,t){var r=e.state,n=e.commit,i=e.dispatch;return n("UPDATE_FLAGS",t),i("updateThemeUtils"),r.flags},updateThemeUtils:function(e){(0,e.commit)("UPDATE_THEME_UTILS",Ae.a)}},getters:{getFlags:function(e){return{themeUtils:e.themeUtils,progressBlock:!0,themeNavigationUpdates:!0,embedBlock:!0,designUpdates:!0,navigationBlock:!0}},themeUtils:function(e){return e.themeUtils},isThemeNavigationUpdatesEnabled:function(){return!0},isEmbedBlockEnabled:function(){return!0},isDesignUpdatesEnabled:function(){return!0},isNavigationBlockEnabled:function(){return!0}}},Ti=r(424),_i=r.n(Ti),xi=r(425),ji=r.n(xi),Di=r(426),Ri=r.n(Di);function Bi(e){switch(e){case"default":return new _i.a;case"scorm":case"xapi":return new ji.a;case"testing":return new Ri.a}}function Li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,s=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ai(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(r),!0).forEach(function(t){Mi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ni(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fi(e){return function(e){if(Array.isArray(e))return Ui(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,s=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return s}(e,t)||Wi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(e,t){if(e){if("string"==typeof e)return Ui(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ui(e,t):void 0}}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(r),!0).forEach(function(t){Hi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gi=!0;function Yi(e){var t,r;if(!e.children)return!!Gi;var n=null===e||void 0===e?void 0:null===(t=e.children)||void 0===t?void 0:t[0],i=!!e.children.find(function(e){return Gi&&"attachment"===e.subtype&&!e.content.id}),s=!(null===n||void 0===n||!n.widget||"widget"!==n.subtype||"removed"!==(null===(r=n.widget.widgetType)||void 0===r?void 0:r.status));return 0===e.children.length||i||s}function Ji(e){var t,r;return"progress"===(null===e||void 0===e?void 0:null===(t=e.children)||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r.subtype)}function Xi(e){var t,r,n;return"CARD_TITLE"===(null===(t=e.children)||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:null===(n=r.content)||void 0===n?void 0:n.type)}function Ki(e){return e.filter(function(e){return!Xi(e)&&!Yi(e)})}var Qi=tt(Ze(["ignoreRequiredProgress",!Gi],["cachedBlocksById",{}],["cachedCardsById",{}]),function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ge(Ge({},Ze.apply(void 0,r)),{},{actions:r.reduce(function(t,r){var n,i=Je(r,1)[0];return Ge(Ge({},t),{},(Ye(n={},"add".concat(Object(ie.a)(i)),function(t,r){var n=t.state,s=t.commit;Object(me.a)(r)||(r=[r]),s(Qe(i),[].concat(Ve(n[i]),Ve(r.filter(function(t){return e?!n[i].includes(t[e]):!n[i].includes(t)}))))}),Ye(n,"remove".concat(Object(ie.a)(i)),function(t,r){var n=t.state,s=t.commit;Object(me.a)(r)||(r=[r]),s(Qe(i),n[i].filter(function(t){return e?!r.includes(t[e]):!r.includes(t)}))}),Ye(n,"clear".concat(Object(ie.a)(i)),function(e){(0,e.commit)(Qe(i),[])}),n))},{})})}(null,["elementSeenIds",[]],["progressElementIdCheckedList",[]],["cardSeenIds",[]],["overrideIsCardEnabledIds",[]],["overrideProgressBlockCompletedIds",[]]),et(["elementProgressById",{}],["overrideCardProgressById",{}])),Zi={cachedCardsById:Qi.state.cachedCardsById,cachedBlocksById:Qi.state.cachedBlocksById,ignoreRequiredProgress:Qi.state.ignoreRequiredProgress,cardSeenIds:Qi.state.cardSeenIds,elementProgressById:Qi.state.elementProgressById,elementSeenIds:Qi.state.elementSeenIds,progressElementIdCheckedList:Qi.state.progressElementIdCheckedList,overrideIsCardEnabledIds:Qi.state.overrideIsCardEnabledIds,overrideProgressBlockCompletedIds:Qi.state.overrideProgressBlockCompletedIds,overrideCardProgressById:Qi.state.overrideCardProgressById,showProgressWarning:!1},es={overrideIsCardEnabledIds:Qi.getters.overrideIsCardEnabledIds,overrideProgressBlockCompletedIds:Qi.getters.overrideProgressBlockCompletedIds,overrideCardProgressById:Qi.getters.overrideCardProgressById,ignoreRequiredProgress:Qi.getters.ignoreRequiredProgress,cardSeenIds:Qi.getters.cardSeenIds,elementSeenIds:Qi.getters.elementSeenIds,elementProgressById:Qi.getters.elementProgressById,cards:function(e,t,r){return r.coursePreview.cardsFlattened},cardsById:function(e,t){return e.cachedCardsById},scorableCards:function(e,t){return t.cards.filter(function(e){return"start"!==e.subtype})},startCard:function(e,t,r){return r.coursePreview.cardsFlattened.find(function(e){return"start"===e.subtype})},scorableCardBlockIdsById:function(e,t){return t.scorableCards.reduce(function(e,t){return Vi(Vi({},e),{},Hi({},t.id,Ki(t.children).map(function(e){return e.id})))},{})},cardsProgressById:function(e,t){var r=t.cardSeenIds,n=t.overrideCardProgressById,i=t.elementProgressById,s=t.elementSeenIds;return t.scorableCards.reduce(function(e,t){var o=t.children.filter(function(e){return!Xi(e)&&!Yi(e)&&!Ji(e)}),a=null===o||void 0===o?void 0:o.length;if(!o||0===a){var c=r.includes(t.id)?100:0;return Vi(Vi({},e),{},Hi({},t.id,c))}var l=n[t.id],d=o.reduce(function(e,t){var r=t.children,n=null===r||void 0===r?void 0:r.length;return r?e+r.reduce(function(e,t){var r=i[t.id]||0;return s.includes(t.id)||(r=0),e+r/n},0)/a:e},0);return Vi(Vi({},e),{},Hi({},t.id,l>d?l:d))},{})},roundedCardsProgressById:function(e,t){return Object.entries(t.cardsProgressById).reduce(function(e,t){var r=$i(t,2),n=r[0],i=r[1];return Vi(Vi({},e),{},Hi({},n,Object(vr.a)(i,2)))},{})},courseProgress:function(e,t){var r=t.scorableCards,n=t.cardsProgressById;return r.reduce(function(e,t){return e+n[t.id]/r.length},0)},requiredCardIds:function(e,t){return t.scorableCards.filter(function(e){return e.metadata.required}).map(function(e){return e.id})},isRequiredCardCompletedById:function(e,t){var r=t.scorableCardBlockIdsById,n=t.progressBlockIds,i=t.isProgressBlockCompletedById,s=t.isBlockCompletedById;return t.requiredCardIds.reduce(function(e,o,a){var c=t.requiredCardIds[a-1];if(c&&!e[c])return Vi(Vi({},e),{},Hi({},o,!1));var l=r[o].every(function(e){return n.includes(e)?i[e]:s[e]});return Vi(Vi({},e),{},Hi({},o,l))},{})},blocks:function(e,t){return t.cards.map(function(e){return e.children}).flat()},blockIds:function(e,t){return t.blocks.map(function(e){return e.id})},blocksById:function(e,t){return e.cachedBlocksById},scorableBlocks:function(e,t){var r=t.scorableCardBlockIdsById,n=t.blocksById;return t.scorableCards.map(function(e){return r[e.id].map(function(e){return n[e]})}).flat()},scorableBlockIds:function(e,t){return t.scorableBlocks.map(function(e){return e.id})},progressBlockIds:function(e,t){var r=t.blocksById;return t.scorableBlockIds.filter(function(e){return Ji(r[e])})},isBlockCompletedById:function(e,t){var r=t.scorableCardBlockIdsById,n=t.progressBlockIds,i=t.blocksById,s=t.elementSeenIds,o=t.elementProgressById,a=t.ignoreRequiredProgress,c=t.overrideProgressBlockCompletedIds;return t.scorableCards.reduce(function(e,t){var l=r[t.id],d=l.reduce(function(e,t,r){var d;if(!n.includes(t)){var u=i[t].children;return Vi(Vi({},e),{},u?Hi({},t,u.every(function(e){return s.includes(e.id)&&100===Object(vr.a)(o[e.id],2)})):Hi({},t,!1))}var p=l.slice(0,r).reverse().find(function(e){return n.includes(e)});if(!(!p||e[p]))return Vi(Vi({},e),{},Hi({},t,!1));var m=l.slice(p?l.indexOf(p)+1:0,r),h=i[t],g=null===h||void 0===h?void 0:null===(d=h.children)||void 0===d?void 0:d[0],f=!1;if(a||c.includes(t))f=!0;else if("IMMEDIATELY_BEFORE"===g.settings.completeType){var b=m[m.length-1];f=!b||e[b]}else"ALL_BEFORE"===g.settings.completeType&&(f=m.every(function(t){return e[t]}));return Vi(Vi({},e),{},Hi({},t,f))},{});return Vi(Vi({},e),d)},{})},isProgressBlockCompletedById:function(e,t){var r=t.isBlockCompletedById,n=t.blocksById;return t.progressBlockIds.reduce(function(t,i){var s=r[i]&&e.progressElementIdCheckedList.includes(n[i].children[0].id);return Vi(Vi({},t),{},Hi({},i,s))},{})},isBlockHiddenById:function(e,t){var r=t.scorableCardBlockIdsById,n=t.scorableBlockIds,i=t.blocksById,s=t.progressBlockIds,o=t.isProgressBlockCompletedById;return t.scorableCards.reduce(function(e,t){var a=r[t.id],c=a.reduce(function(e,t,r){if(!n.includes(t))return Vi(Vi({},e),{},Hi({},t,Yi(i[t])));var c=s.includes(t),l=a.slice(0,r).slice().reverse().find(function(e){return s.includes(e)});return Vi(Vi({},e),{},Hi({},t,l?c?!o[l]||o[t]:!o[l]:!!c&&o[t]))},{});return Vi(Vi({},e),c)},{})},isCardEnabledById:function(e,t){var r=t.cards,n=t.ignoreRequiredProgress,i=t.overrideIsCardEnabledIds,s=t.requiredCardIds,o=t.progressBlockIds,a=t.isRequiredCardCompletedById,c=t.isProgressBlockCompletedById;return r.reduce(function(e,t,l){if(n||i.includes(t.id))return Vi(Vi({},e),{},Hi({},t.id,!0));var d=r.slice(0,l),u=function(e){return Ki(e.filter(function(e){return["lesson","activity","assessment"].includes(e.subtype)}).map(function(e){return e.children}).flat())}(d),p=d.slice().reverse().find(function(e){return s.includes(e.id)}),m=u.slice().reverse().find(function(e){return o.includes(e.id)}),h=!p||a[p.id],g=!m||c[m.id];return Vi(Vi({},e),{},Hi({},t.id,h&&g))},{})},roundedCourseProgress:function(e,t){return Object(vr.a)(t.courseProgress,2)},getRoundedCardProgress:function(e,t){return function(e){return t.roundedCardsProgressById[e]}},getIsBlockCompleted:function(e,t){return function(e){return t.isBlockCompletedById[e]}},getIsBlockHidden:function(e,t){return function(e){return t.isBlockHiddenById[e]}},getIsCardEnabled:function(e,t){return function(e){return t.isCardEnabledById[e]}},getShowProgressWarning:function(e){return e.showProgressWarning},getAreCardRequirementsMet:function(e,t){return function(e){if(t.requiredCardIds.includes(e))return t.isRequiredCardCompletedById[e];var r=t.progressBlockIds,n=t.scorableCardBlockIdsById[e].filter(function(e){return r.includes(e)});if(n.length){var i=t.isProgressBlockCompletedById;return n.every(function(e){return i[e]})}return!0}},nextIncompletedProgressBlockId:function(e,t){var r=t.progressBlockIds,n=t.isBlockCompletedById;if(!(r.length<1)){var i=r.find(function(e){return!n[e]});if(i)return i}},isAnyCardRequiredStill:function(e,t){return t.cards.some(function(e){var t;return null===(t=e.metadata)||void 0===t?void 0:t.required})},getCardProgressBlockIds:function(e,t){return function(e){return t.scorableCardBlockIdsById[e].filter(function(e){return t.progressBlockIds.includes(e)})}},getCardLastCompletedProgressBlockIndex:function(e,t){return function(e){if("lesson"!==t.cardsById[e].subtype)return-1;var r=t.getCardProgressBlockIds(e),n=r.slice().reverse().find(function(e){return t.isProgressBlockCompletedById[e]});return r.indexOf(n)}}},ts={addOverrideIsCardEnabledIds:Qi.actions.addOverrideIsCardEnabledIds,addOverrideProgressBlockCompletedIds:Qi.actions.addOverrideProgressBlockCompletedIds,setOverrideCardProgressById:Qi.actions.setOverrideCardProgressById,setIgnoreRequiredProgress:Qi.actions.setIgnoreRequiredProgress,setElementProgressById:function(e,t){var r=e.state,n=e.commit,i=e.getters,s=t.key,o=t.value;i.elementProgressById[s]&&o<=i.elementProgressById[s]||Qi.actions.setElementProgressById({state:r,commit:n},{key:s,value:o})},addElementSeenIds:Qi.actions.addElementSeenIds,addCardSeenIds:Qi.actions.addCardSeenIds,addProgressElementIdCheckedList:Qi.actions.addProgressElementIdCheckedList,showProgressWarning:function(e,t){(0,e.commit)("SET_SHOW_PROGRESS_WARNING",t)},restoreState:function(e,t){var r=e.getters,n=e.dispatch,i=r.scorableCardBlockIdsById,s=r.progressBlockIds,o=r.blocksById,a=r.getCardProgressBlockIds;Object.entries(t.cards).forEach(function(e){var t=$i(e,2),r=t[0],c=t[1];if(n("addCardSeenIds",r),n("addOverrideIsCardEnabledIds",r),100===c.progress){var l=i[r].reduce(function(e,t){if(s.includes(t))return e;var r=o[t].children;return r?[].concat(Fi(e),Fi(r.map(function(e){return e.id}))):e},[]);n("addElementSeenIds",l),l.forEach(function(e){n("setElementProgressById",{key:e,value:100})})}if(c.progress&&n("setOverrideCardProgressById",{key:r,value:c.progress}),c.progressBlock>=0){var d=a(r).slice(0,c.progressBlock+1);n("addOverrideProgressBlockCompletedIds",d),d.forEach(function(e){n("addProgressElementIdCheckedList",o[e].children[0].id)})}})}},rs={SET_CACHED_CARDS_BY_ID:Qi.mutations.SET_CACHED_CARDS_BY_ID,SET_CACHED_BLOCKS_BY_ID:Qi.mutations.SET_CACHED_BLOCKS_BY_ID,SET_OVERRIDE_IS_CARD_ENABLED_IDS:Qi.mutations.SET_OVERRIDE_IS_CARD_ENABLED_IDS,SET_OVERRIDE_PROGRESS_BLOCK_COMPLETED_IDS:Qi.mutations.SET_OVERRIDE_PROGRESS_BLOCK_COMPLETED_IDS,SET_OVERRIDE_CARD_PROGRESS_BY_ID:Qi.mutations.SET_OVERRIDE_CARD_PROGRESS_BY_ID,SET_IGNORE_REQUIRED_PROGRESS:Qi.mutations.SET_IGNORE_REQUIRED_PROGRESS,SET_CARD_SEEN_IDS:Qi.mutations.SET_CARD_SEEN_IDS,SET_ELEMENT_PROGRESS_BY_ID:Qi.mutations.SET_ELEMENT_PROGRESS_BY_ID,SET_ELEMENT_SEEN_IDS:Qi.mutations.SET_ELEMENT_SEEN_IDS,SET_PROGRESS_ELEMENT_ID_CHECKED_LIST:Qi.mutations.SET_PROGRESS_ELEMENT_ID_CHECKED_LIST,RESET_STATE:function(e){Object.keys(e).forEach(function(t){"ignoreRequiredProgress"!==t&&(e[t]=Object(Fe.a)(Zi[t]))})},SET_SHOW_PROGRESS_WARNING:function(e,t){e.showProgressWarning=t}};function ns(){return{namespaced:!0,state:Object(Fe.a)(Zi),getters:es,actions:ts,mutations:rs}}function is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,s=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return s}(e,t)||ls(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(r),!0).forEach(function(t){as(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ss(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function as(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cs(e){return function(e){if(Array.isArray(e))return ds(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ls(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ls(e,t){if(e){if("string"==typeof e)return ds(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ds(e,t):void 0}}function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var us=tt(et(["elementScoreById",{}]),Ze(["coursePublishSettings",{passingScore:100,lessons:[],activities:[],assessments:[]}])),ps={elementScoreById:us.state.elementScoreById,coursePublishSettings:us.state.coursePublishSettings},ms={elementScoreById:us.getters.elementScoreById,coursePublishSettings:us.getters.coursePublishSettings,cardsById:function(e,t,r,n){return n["courseProgress/cardsById"]},roundedCardsProgressById:function(e,t,r,n){return n["courseProgress/roundedCardsProgressById"]},scoredCardSettings:function(e,t){return[].concat(cs(t.coursePublishSettings.lessons),cs(t.coursePublishSettings.activities),cs(t.coursePublishSettings.assessments)).filter(function(e){return e.scored})},assessmentCardsScoreById:function(e,t){var r=t.cardsById,n=t.elementScoreById;return t.coursePublishSettings.assessments.filter(function(e){return e.scored}).reduce(function(e,t){var i=r[t.id].children.find(function(e){var t;return"widget"===(null===(t=e.children)||void 0===t?void 0:t[0].subtype)}).children[0].id,s=n[i]||0;return os(os({},e),{},as({},t.id,s))},{})},weightAwardedByCardId:function(e,t){var r=t.cardsById,n=t.roundedCardsProgressById,i=t.assessmentCardsScoreById;return t.scoredCardSettings.reduce(function(e,t){var s=r[t.id],o=!1;return["lesson","activity"].includes(s.subtype)&&n[t.id]>=100?o=!0:"assessment"===s.subtype&&i[t.id]>=t.passingScore&&(o=!0),os(os({},e),{},as({},t.id,o?t.weight:0))},{})},weightAwardedCount:function(e,t){return Object.entries(t.weightAwardedByCardId).reduce(function(e,t){return e+is(t,2)[1]},0)},weightCount:function(e,t){return t.scoredCardSettings.reduce(function(e,t){return e+t.weight},0)},courseScore:function(e,t){return 100*t.weightAwardedCount/t.weightCount||0},isCoursePassed:function(e,t){return t.courseScore>=e.coursePublishSettings.passingScore},getAssessmentCardWidgetElementId:function(e,t){return function(e){return t.cardsById[e].children.find(function(e){var t;return"widget"===(null===(t=e.children)||void 0===t?void 0:t[0].subtype)}).children[0].id}},getHasCardBeenScored:function(e,t){return function(e){if("assessment"===t.cardsById[e].subtype){var r=t.getAssessmentCardWidgetElementId(e);return Object($e.a)(t.elementScoreById[r])}return!1}},canSaveScore:function(e,t){var r=t.cardsById,n=t.roundedCardsProgressById,i=t.assessmentCardsScoreById;return t.scoredCardSettings.some(function(e){var t=r[e.id];return 100===n[e.id]||"assessment"===t.subtype&&i[e.id]>=e.passingScore})}},hs={setElementScoreById:us.actions.setElementScoreById,setCoursePublishSettings:us.actions.setCoursePublishSettings,restoreState:function(e,t){var r=e.dispatch,n=e.commit,i=e.getters;Object.entries(t.cards).forEach(function(e){var t=is(e,2),s=t[0],o=t[1];if(Object($e.a)(o.score)){var a=i.getAssessmentCardWidgetElementId(s);if(!a)return;r("setElementScoreById",{key:a,value:o.score})}o.widget&&n("SET_CARD_WIDGET_SUSPEND_DATA",{cardId:s,widget:o.widget},{root:!0})})}},gs={SET_ELEMENT_SCORE_BY_ID:us.mutations.SET_ELEMENT_SCORE_BY_ID,SET_COURSE_PUBLISH_SETTINGS:us.mutations.SET_COURSE_PUBLISH_SETTINGS,RESET_STATE:function(e){Object.keys(e).forEach(function(t){e[t]=Object(Fe.a)(ps[t])})}};function fs(){return{namespaced:!0,state:Object(Fe.a)(ps),getters:ms,actions:hs,mutations:gs}}var bs=!1,vs={};!lmsType||"scorm"!==lmsType&&"xapi"!==lmsType&&"default"!==lmsType&&"testing"!==lmsType||(bs=!0),Ee.default.use(o.a);var ys={modules:{coursePreview:Ii,courseProgress:ns(),courseScore:fs(),flags:Pi},strict:!1};function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach(function(t){ws(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ws(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}bs&&(ys.plugins=[function(e){var t=Bi(e);return function(e){e.subscribe(function(r){setTimeout(function(){switch(r.type){case"SET_CARDS_COURSE_PREVIEW":e.commit("SET_COURSE_LOADING",!0),e.dispatch("initCourseReporting");break;case"courseScore/SET_ELEMENT_SCORE_BY_ID":case"courseProgress/SET_ELEMENT_PROGRESS_BY_ID":case"courseProgress/SET_ELEMENT_ID_COMPLETED_LIST":case"courseProgress/SET_PROGRESS_ELEMENT_ID_CHECKED_LIST":e.dispatch("setCardProgress"),e.dispatch("setCourseScore"),t.commitData();break;case"SET_WIDGET_SUSPEND_DATA":e.dispatch("setWidgetSuspendData"),t.commitData();break;case"SET_ACTIVE_CARD_INDEX":e.dispatch("setActiveIndex"),t.commitData();break;case"SET_LATEST_RECORD_INTERACTION":t.handleRecordInteraction(r.payload),t.commitData();break;case"EXIT_COURSE":window.KNOWBLY_MANUAL_EXIT=!0,t.commitData(),setTimeout(function(){e.dispatch("exit")},2e3)}},0)})}}(lmsType)],ys.modules.courseReporting=function(e){var t=Bi(e);return{state:{reporting:!1,data:{activeIndex:0}},mutations:{SET_LMS_DATA:function(e,t){e.data=t},SET_LMS_ACTIVE_INDEX:function(e,t){e.data.activeIndex=t}},actions:{initCourseReporting:function(e){var r=e.commit,n=e.dispatch,i=t.getData(),s=i?JSON.parse(i):null;r("SET_COURSE_LOADING",!1),s&&s.cards&&(r("SET_LMS_DATA",s),n("courseProgress/restoreState",s),n("courseScore/restoreState",s),s.activeIndex&&(r("TOGGLE_NAV",!0),r("SET_ACTIVE_CARD_INDEX",{index:s.activeIndex}),n("setNextPrevTitles",s.activeIndex)))},setActiveIndex:function(e){var r=e.commit,n=e.state;r("SET_LMS_ACTIVE_INDEX",e.getters.getActiveCardIndex),t.setData(JSON.stringify(n.data))},setCardProgress:function(e){var r,n=e.commit,i=e.state,s=e.getters,o=zi({},i.data);o.cards=Object(Fe.a)(o.cards)||{};var a=s.getActiveCard,c={};(null===(r=o.cards[a.id])||void 0===r?void 0:r.widget)&&(c={widget:o.cards[a.id].widget}),o.cards[a.id]=zi({},c);var l=s["courseScore/assessmentCardsScoreById"][a.id],d=s["courseProgress/getCardLastCompletedProgressBlockIndex"](a.id);o.cards[a.id].progress=s["courseProgress/roundedCardsProgressById"][a.id],d>=0&&(o.cards[a.id].progressBlock=d),s["courseScore/getHasCardBeenScored"](a.id)&&(o.cards[a.id].score=l),n("SET_LMS_DATA",o),t.setData(JSON.stringify(o))},setWidgetSuspendData:function(e){var r,n=e.commit,i=e.state,s=e.getters.getActiveCard;if(["assessment","activity"].includes(s.subtype)&&(null===(r=s.suspendData)||void 0===r?void 0:r.widget)){var o=zi({},i.data);o.cards=Object(Fe.a)(o.cards)||{},o.cards[s.id]||(o.cards[s.id]={}),o.cards[s.id].widget=s.suspendData.widget,n("SET_LMS_DATA",o),t.setData(JSON.stringify(o))}},setCourseScore:function(e){var r,n,i=e.getters,s=i["courseScore/coursePublishSettings"],o=i["courseScore/canSaveScore"],a=i["courseProgress/roundedCourseProgress"];if(o){if("ASSESSMENT_BASED"===s.scoringMode){var c=i["courseScore/assessmentCardsScoreById"];n=(r=Object.entries(c).reduce(function(e,t){return e+Li(t,2)[1]},0)/Object.entries(c).length)>=s.passingScore}else r=i["courseScore/courseScore"],n=i["courseScore/isCoursePassed"];t.setScore(r,100,0),console.log("courseScore",r,"passed? ",n)}if(s.version&&"v 1.2"===s.version)switch(s.LMSReporting){case"Passed/Failed":n?t.setPassed():a>=100&&o&&t.setFailed();break;case"Complete/Incomplete":a>=s.completion&&t.setReachedEnd();break;case"Complete/Failed":n?(t.resetStatus(),t.setReachedEnd()):a>=100&&o&&t.setFailed();break;case"Passed/Incomplete":n&&t.setPassed()}else n?(t.setPassed(),a>=s.completion&&t.setReachedEnd(),t.commitData()):a>=100&&o?(t.setFailed(),t.commitData()):a>=s.completion&&(t.setReachedEnd(),t.commitData())},exit:function(){t.concedeControl()}}}}(lmsType),window.addEventListener("beforeunload",function(e){window.KNOWBLY_MANUAL_EXIT||(window.parent.ConcedeControl(),e.preventDefault(),e.returnValue="")})),vs=new o.a.Store(ys);var Os=r(427),Es=r(428),Ss=r.n(Es),Is=r(429),Ps=r(430),Ts=r.n(Ps),_s=r(344);function xs(e,t){var r=t.target.querySelector(".BaseButton__motionRippleWrapper");if(!r)return!1;var n=r.getAttribute("data-event");if(n&&n!==e)return!1;r.setAttribute("date-event",e);var i,s=r.getBoundingClientRect(),o=t.offsetX;o?(o=t.clientX-s.left,i=t.clientY-s.top):o=t.offsetY;var a,c=document.createElement("div");a=s.width===s.height?1.412*s.width:Math.sqrt(s.width*s.width+s.height*s.height);var l="".concat(2*a,"px");c.style.width=l,c.style.height=l,c.style.marginLeft="".concat(-a+o,"px"),c.style.marginTop="".concat(-a+i,"px"),c.className="BaseButton__motionRipple",r.appendChild(c),window.setTimeout(function(){c.classList.add("is-held")},0);var d="mousedown"===e?"mouseup":"touchend";document.addEventListener(d,function e(){document.removeEventListener(d,e),c.classList.add("is-done"),window.setTimeout(function(){r.removeChild(c),r.children.length||r.removeAttribute("data-event")},7e3)})}function js(e){0===e.button&&xs(e.type,e)}function Ds(e){if(e.changedTouches)for(var t=0,r=e.changedTouches.length;t<r;t++)xs(e.type,e.changedTouches[t])}function Rs(e){return function(e){if(Array.isArray(e))return Bs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(r),!0).forEach(function(t){Ns(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ns(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zs={PRIMARY:"#17c588",GRAY:"#eeeeee",GRAY_HOVER:"#cacaca",TRANSPARENT:"#eeeeee",WHITE:"#daf6ec",YELLOW:"#fbd284"},Ms=["ROUND","SQUARE"],Fs={functional:!0,props:{disabled:{type:Boolean,default:!1},type:{type:String,default:"",validator:function(e){return Object.keys(zs).includes(e)||""===e}},typeStyle:{type:String,default:"ROUND",validator:function(e){return Ms.includes(e)}},rippleColor:{type:String,default:null}},render:function(e,t){var r=t.props,n=r.disabled,i=r.type,s=r.typeStyle,o=t.props.rippleColor;return o||(o=zs[i]),e("button",wt()([{},{directives:t.data.directives,attrs:t.data.attrs,on:As(As({},t.listeners),{},{mousedown:js,touchend:Ds})},{class:["BaseButton",i?"BaseButton--".concat(i.toLowerCase().replace(/_/g,"-")):null,s?"BaseButton--".concat(s.toLowerCase()):null,t.data.class,t.data.staticClass],style:[].concat(Rs(Object(me.a)(t.data.style)?t.data.style:[t.data.style]),[t.data.staticStyle]),attrs:{type:"button",disabled:n,"data-e2e":t.data.attrs&&t.data.attrs["data-e2e"]||null}}]),[e("div",{class:"BaseButton__motionRippleWrapper",style:{color:o}}),e("span",{class:"BaseButton__content"},[t.children])])}},$s=(r(739),Object(w.a)(Fs,void 0,void 0,!1,null,null,null).exports);var Ws={functional:!0,props:{name:{type:String,required:!0},size:{type:Number,default:16},weight:{type:String,default:"fal"}},render:function(e,t){var r=t.props,n=r.name,i=r.size,s=function(e){var t=e.weight,r=["fal","far","fas","regular","solid","light"];return r.includes(t)?"regular"===t?"far":"solid"===t?"fas":"light"===t?"fal":t:(console.warn("This weight is not in list: ".concat(r.join(", "),".")),null)}({weight:r.weight}),o=0===i?"":"fa-".concat(i);return e("i",{class:[t.data.class,t.data.staticClass,s,"fa-".concat(n||"question"),o,"kds-Icon"]})}},Us=(r(741),Object(w.a)(Ws,void 0,void 0,!1,null,"35681d1b",null).exports),qs={S:16,SMALL:16,M:16,MEDIUM:16,L:20,LARGE:20},Vs={C:"circle",CIRCLE:"circle",S:"square",SQUARE:"square"},Hs={S:"small",SMALL:"small",M:"medium",MEDIUM:"medium",L:"large",LARGE:"large"},Gs={WHITE_TRANSPARENT:"whiteTransparent",DEFAULT:"default",GRAY:"gray",TRANSPARENT:"transparent",GREEN:"green"},Ys={WHITE_TRANSPARENT:"#E0E0E0",DEFAULT:"#e0e0e0",GRAY:"#717171",TRANSPARENT:"rgba(255,255,255,0)",GREEN:"#e0e0e0"},Js={functional:!0,props:{disabled:{type:Boolean,default:!1},activated:{type:Boolean,default:!1},name:{type:String,required:!0},iconSize:{type:Number,default:null},size:{type:String,default:"MEDIUM",validator:function(e){return Object.keys(qs).includes(e)}},type:{type:String,default:"CIRCLE",validator:function(e){return Object.keys(Vs).includes(e)}},theme:{type:String,default:"DEFAULT",validator:function(e){return Object.keys(Gs).includes(e)}}},render:function(e,t){var r=t.props,n=r.name,i=r.size,s=r.disabled,o=r.activated,a=r.type,c=r.theme,l=r.iconSize;return e($s,wt()([{},{directives:t.data.directives,attrs:t.data.attrs,on:t.listeners},{attrs:{disabled:s,rippleColor:Ys[c]},class:["BaseButtonIcon","BaseButtonIcon--".concat(Hs[i]),"BaseButtonIcon--".concat(Vs[a]),"BaseButtonIcon--".concat(Gs[c]),o?"is-activated":null,t.data.class,t.data.staticClass],style:[t.data.style,t.data.staticStyle]}]),[e(Us,{attrs:{name:n,size:l||qs[i]}})])}},Xs=(r(743),Object(w.a)(Js,void 0,void 0,!1,null,null,null).exports);function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(r),!0).forEach(function(t){Zs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eo={functional:!0,props:{iconName:{type:String,default:null},type:{type:String,default:null},ripple:{type:Boolean,default:!1},iconSize:{type:Number,default:12},typeStyle:{type:String,default:"SQUARE"},delegateType:{type:Boolean,default:!1}},render:function(e,t){var r=t.props,n=r.iconName,i=r.iconSize,s=r.type,o=r.ripple,a=r.typeStyle,c=r.delegateType;return e(o?$s:"button",{class:["ButtonText",c?"is-delegatingType":"",!c&&s?"ButtonText--".concat(s.toLowerCase()):"",o&&n?"ButtonText--withIcon":"",o?"ButtonText--has-ripple":"",t.data.class,t.data.staticClass],style:[t.data.style,t.data.staticStyle],on:Qs({},t.listeners),attrs:Qs({},Qs(Qs({},t.data.attrs),{},{rippleColor:c?null:o&&"#e0e0e0",type:o?c?s:"":"button",typeStyle:a}))},[e("div",{class:"ButtonText__content"},[n?e(Us,{class:"ButtonText__icon",attrs:{name:n,size:i}}):null,t.children])])}},to=(r(745),Object(w.a)(eo,void 0,void 0,!1,null,"f6951e74",null).exports);var ro,no=r(345),io=[],so="@@clickoutsideContext",oo=0;function ao(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r&&r.context&&n.target&&i.target&&!e.contains(n.target)&&!e.contains(i.target)&&e!==n.target&&(!r.context.popperElm||!r.context.popperElm.contains(n.target)&&!r.context.popperElm.contains(i.target))){var s=n.target?n:i;t.expression&&e[so].methodName&&r.context[e[so].methodName]?r.context[e[so].methodName](s):e[so].bindingFn&&e[so].bindingFn(s)}}}!Ee.default.prototype.$isServer&&Object(no.a)(document,"mousedown",function(e){return ro=e}),!Ee.default.prototype.$isServer&&Object(no.a)(document,"mouseup",function(e){io.forEach(function(t){return t[so].documentHandler(e,ro)})});var co={bind:function(e,t,r){io.push(e);var n=oo++;e[so]={id:n,documentHandler:ao(e,t,r),methodName:t.expression,bindingFn:t.value}},update:function(e,t,r){e[so].documentHandler=ao(e,t,r),e[so].methodName=t.expression,e[so].bindingFn=t.value},unbind:function(e){for(var t=io.length,r=0;r<t;r++)if(io[r][so]&&e[so]&&io[r][so].id===e[so].id){io.splice(r,1);break}delete e[so]}};var lo=r(263);function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach(function(t){mo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ho(e){var t=T.flattenCards(e.children);return function(e){return Object(lo.a)(e,function(e){return e.metadata.required})}(t)||function(e){return Object(lo.a)(e,function(e){return Object(lo.a)(e.children,function(e){return function(e){var t,r;return"progress"===(null===e||void 0===e?void 0:null===(t=e.children)||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r.subtype)}(e)})})}(t)}!function(e){e.component("BaseButton",$s),e.component("BaseButtonIcon",Xs),e.component("ButtonText",to),e.component("Intersect",Dr.a)}(Ee.default),r(747),r(754);var go=r(757).setIOSHeight;!function(e){e.filter("truncate",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";if(!e)return!1;if(e.length<=t)return e;var n=t-r.length,i=Math.ceil(n/2),s=Math.floor(n/2);return e.substr(0,i)+r+e.substr(e.length-s)})}(Ee.default),function(e,t){e.prototype.videojsUtils=ks(ks({},_e.a),{},{startVideoJS:Object(Te.startVideoJSHOF)({isExport:!0,getFlags:function(){return t.getters.getFlags}})}),e.prototype.themeClasses=Le.themeClasses,e.prototype.extendComponent=e.extend.bind(e)}(Ee.default,vs),function(e){e.use(Os.a),e.use(Ss.a,{disableClick:!1,touchClass:"kio-touch",tapTolerance:10,swipeTolerance:30,longTapTimeInterval:400}),e.use(Is.VueHammer),e.use(c.b),e.use(Ts.a),e.use(_s.MdRadio),e.use(_s.MdCheckbox)}(Ee.default),function(e){e.directive("clickoutside",co)}(Ee.default);new Ee.default({el:"#course",components:{CoursePreview:mi},store:vs,created:function(){var e=this;go(),$("body").attr("online")?$.getJSON("./data.json",function(t){return e.setCourseData(t)}):this.course=JSON.parse(decodeURIComponent(escape(atob(window.data)))),this.setCourseData(this.course)},data:function(){return{course:{}}},methods:{setCourseData:function(e){this.$store.dispatch("updateFlags",e.flags),e.publishSettings&&(e.publishSettings.scoringMode=e.publishSettings.scoringMode||"WEIGHTED",this.$store.dispatch("courseScore/setCoursePublishSettings",e.publishSettings)),this.$store.commit("courseProgress/SET_IGNORE_REQUIRED_PROGRESS",!ho(e)),this.$store.commit("SET_PUBLISH_SETTINGS",e.publishSettings?e.publishSettings:null),this.$store.commit("SET_COURSE_PREVIEW",e),this.$store.commit("SET_CARDS_COURSE_PREVIEW",e.children),this.$store.commit("SET_COURSE_PREVIEW_THEME",e.theme);var t=vs.getters["courseProgress/blocks"].reduce(function(e,t){return po(po({},e),{},mo({},t.id,t))},{}),r=vs.getters["courseProgress/cards"].reduce(function(e,t){return po(po({},e),{},mo({},t.id,t))},{});this.$store.commit("courseProgress/SET_CACHED_BLOCKS_BY_ID",t),this.$store.commit("courseProgress/SET_CACHED_CARDS_BY_ID",r)}},template:"\n            <CoursePreview/>\n        "})}});
//# sourceMappingURL=course.module.js.map